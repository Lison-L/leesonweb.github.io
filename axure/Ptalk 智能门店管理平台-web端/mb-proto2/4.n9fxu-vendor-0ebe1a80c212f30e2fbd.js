(self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[]).push([[908],{12660:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>b});var r=a(74059),N=a(51044),v=a(86634),x=a.n(v),T=a(35433),W=a(57464);class b extends N.PureComponent{constructor(){super(...arguments),(0,r.A)(this,"getClassName",()=>{const{className:R,type:le,size:de,corner:ee,disabled:q}=this.props;return x()(R,"button-root",{["type-"+le]:le,["size-"+de]:de,["corner-"+ee]:ee,"is-disabled":q})}),(0,r.A)(this,"onButtonClick",R=>{if(this.props.disabled){R.preventDefault();return}const{onClick:le}=this.props;le&&le(R)}),(0,r.A)(this,"onButtonMouseDown",R=>{if(this.props.disabled){R.preventDefault();return}const{onMouseDown:le}=this.props;le&&le(R)}),(0,r.A)(this,"getChildrenNode",()=>(0,W.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const R=this.getClassName(),le=this.getChildrenNode();return(0,W.jsx)(T.O,{className:R,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,W.jsx)("div",{className:"btn-icon-text-container",children:le})})}}(0,r.A)(b,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},80467:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>R});var r=a(74059),N=a(51044),v=a(86634),x=a.n(v),T=a(57464);function W(le){let{className:de,renderIconList:ee}=le;return(0,T.jsx)("span",{className:x()("btn-icon",de),children:ee.map((q,$)=>(0,T.jsx)("span",{className:"btn-icon-container",children:(0,T.jsx)(T.Fragment,{children:q})},$))})}const b=W;var P=a(35433);class R extends N.PureComponent{constructor(de){super(de),(0,r.A)(this,"getClassName",()=>{const{className:ee,type:q,size:$,corner:G,disabled:z,icon:U,children:u}=this.props;return x()(ee,"button-root",{["type-"+q]:q,["size-"+$]:$,["corner-"+G]:G,"is-disabled":z,"has-icon":U&&u,"only-icon":U&&u===void 0})}),(0,r.A)(this,"onButtonClick",ee=>{if(this.props.disabled){ee.preventDefault();return}const{onClick:q}=this.props;q&&q(ee)}),(0,r.A)(this,"getIconNode",()=>(0,T.jsx)(b,{renderIconList:this.state.iconList,className:this.props.className})),(0,r.A)(this,"getChildrenNode",()=>(0,T.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(de){let{icon:ee}=de;const{icon:q}=this.props;ee!==q&&this.setState({iconList:q?[this.props.icon]:[]})}render(){const de=this.getClassName(),ee=this.getIconNode(),q=this.getChildrenNode();return(0,T.jsx)(P.O,{className:de,onClick:this.onButtonClick,children:(0,T.jsxs)("div",{className:x()("btn-icon-text-container"),children:[ee,q]})})}}(0,r.A)(R,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},35433:(Te,oe,a)=>{"use strict";a.d(oe,{O:()=>v});var r=a(21676),N=a(10473);const v=r.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-1of337d-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],N.q.color_text_L2,N.q.color_bg_normal,N.q.color_split_line,N.q.color_bg_btn_normal_hover,N.q.color_bg_btn_normal_active,N.q.color_text_white,N.q.color_btn_primary_normal,N.q.color_btn_primary_hover,N.q.color_btn_primary_click,N.q.color_text_L2,N.q.color_bg_secondary_btn,N.q.color_btn_secondary_border_normal,N.q.color_btn_secondary_hover,N.q.color_btn_secondary_border_hover,N.q.color_btn_secondary_click,N.q.color_btn_primary_normal,N.q.color_btn_primary_hover,N.q.color_btn_primary_click,N.q.color_text_L2,N.q.color_text_L3,N.q.color_text_L1,N.q.color_btn_danger_normal,N.q.color_text_white,N.q.color_btn_danger_hover,N.q.color_btn_danger_click,N.q.color_text_L2,N.q.color_text_L3,N.q.color_text_L1)},10473:(Te,oe,a)=>{"use strict";a.d(oe,{q:()=>N});const r={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},N={color_btn_primary_normal:r.primary_blue_02,color_btn_primary_hover:r.primary_blue_03,color_btn_primary_click:r.primary_blue_01,color_btn_primary_disable:r.primary_blue_05,color_btn_secondary_click:r.primary_blue_06,color_btn_secondary_normal:r.primary_blue_08,color_btn_secondary_hover:r.primary_blue_07,color_btn_outline_click:r.primary_gray_07,color_btn_outline_normal:r.common_white,color_btn_outline_hover:r.primary_gray_08,color_bg_normal:r.common_white,color_bg_card:r.primary_blue_08,color_bg_menu_click:r.primary_blue_06,color_bg_card_hover:r.primary_gray_07,color_bg_menu_hover:r.primary_blue_07,color_bg_input_hover:r.primary_gray_08,color_bg_input_normal:r.primary_gray_09,color_bg_item_gray:r.primary_gray_08,color_bg_item_hover:r.primary_gray_09,color_bg_fill_common_blue:r.primary_blue_02,color_bg_menu_drag_border:r.primary_blue_06,color_bg_card_hover_fusion_gray:r.primary_gray_06,color_bg_card_hover_fusion_blue:r.primary_blue_05,color_bg_card_hover_fusion:r.primary_gray_06,color_bg_secondary_btn:r.primary_blue_08,color_bg_btn_normal_hover:r.primary_gray_08,color_bg_btn_normal_active:r.primary_gray_07,color_bg_icon_gray:r.primary_gray_04,color_bg_icon_hover:r.primary_gray_03,color_text_L1:r.primary_gray_01,color_text_L2:r.primary_gray_02,color_text_L3:r.primary_gray_03,color_text_L4:r.primary_gray_04,color_text_L5:r.primary_blue_02,color_text_white:r.common_white,color_text_blue:r.primary_blue_02,color_text_blue_hover:r.primary_blue_01,color_text_blue_active:r.primary_blue_03,color_text_disable_01:r.primary_gray_05,color_tab_line:r.primary_gray_06,color_split_line:r.primary_gray_07,color_border_blue_common:r.primary_blue_02,color_btn_border_normal:r.primary_blue_05,color_btn_border_disable:r.primary_blue_07,color_btn_secondary_border_normal:r.primary_blue_06,color_btn_secondary_border_hover:r.primary_blue_07,color_btn_danger_normal:r.primary_red_02,color_btn_danger_hover:r.primary_red_03,color_btn_danger_click:r.primary_red_01,color_btn_danger_disable:r.primary_red_04,color_bg_modal_item_header:r.primary_gray_09,color_bg_light_red:r.primary_red_05,color_alarm_common:r.primary_red_02}},23990:(Te,oe,a)=>{"use strict";a.d(oe,{B7:()=>q,DE:()=>N,DW:()=>b,Ds:()=>le,HS:()=>ee,OD:()=>P,SN:()=>z,Yo:()=>x,iv:()=>G,rh:()=>T,sM:()=>W,uP:()=>U,uz:()=>u,zi:()=>de});const r=(y,m)=>{const w=new Error("[NO SENTRY] "+y);return Object.assign(w,m),w},N=async y=>{const m=await fetch(y,{credentials:"same-origin"});let w;try{w=await m.json()}catch(h){w={}}if(!m.ok)throw r("[fetchGetJSON] failed with "+m.status+": "+y,{...w,status:m.status});return w},v=async(y,m)=>{const w=await fetch(y,{credentials:"same-origin",body:JSON.stringify(m)});let h;try{h=await w.json()}catch(j){h={}}if(!w.ok)throw r("[fetchGetJSON] failed with "+w.status+": "+y,{...h,status:w.status});return h},x=async y=>{const m=await fetch(y,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});let w;try{w=await m.json()}catch(h){w={}}if(!m.ok)throw r("[fetchGetJSON] failed with "+m.status+": "+y,{...w,status:m.status});return w},T=async y=>{let m=await fetch(y,{credentials:"same-origin"});const w=m.headers;if(!m.ok)throw r("[fetchGetJSON] failed with "+m.status+": "+y,{...await m.json(),status:m.status});return m=await m.json(),{result:m,headers:w}},W=async y=>{const m=await fetch(y,{method:"DELETE",credentials:"same-origin"});if(!m.ok)throw r("[fetchDeleteHead] failed with "+m.status+": "+y,{status:m.status})},b=async y=>{const m=await fetch(y,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});if(!m.ok)throw r("[fetchDeleteHead] failed with "+m.status+": "+y,{status:m.status})},P=async y=>{const m=await fetch(y,{method:"DELETE",credentials:"same-origin"});if(!m.ok)throw r("[fetchDeleteJSON] failed with "+m.status+": "+y,{...await m.json(),status:m.status});return m.json()},R=async(y,m)=>fetch(y,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(m)}),le=async(y,m)=>{const w=await R(y,m);if(!w.ok)throw r("[fetchPostHead] failed with "+w.status+": "+y,{status:w.status})},de=async(y,m)=>{const w=await fetch(y,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchPostJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},ee=async(y,m)=>{const w=await fetch(y,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchPostText] failed with "+w.status+": "+y,{status:w.status});return w.json()},q=async(y,m)=>{const w=await fetch(y,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchPostJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},$=async(y,m)=>{const w=await fetch(y,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:m});if(!w.ok)throw r("[fetchDeleteJSON] failed with "+w.status+": "+y,{url:y,status:w.status});return w.json()},G=async(y,m)=>{const w=await fetch(y,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchPutHead] failed with "+w.status+": "+y,{status:w.status})},z=async(y,m)=>{const w=await fetch(y,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchPutJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},U=async(y,m)=>{const w=await fetch(y,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchPutJSON] failed with "+w.status+": "+y,{...await w.json(),status:w.status});return w.json()},u=async(y,m)=>{const w=await fetch(y,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(m)});if(!w.ok)throw r("[fetchDeleteBodyHead] failed with "+w.status+": "+y)}},92200:(Te,oe,a)=>{"use strict";a.d(oe,{N:()=>v,l:()=>x});var r=a(14841),N=a(64161);const v=async(T,W,b)=>{const[P,R]=await(0,r.Vz)(N.r,T),le="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:W,treLen:String(R.byteLength),treRawLen:String(P)}),de=await fetch(le,{method:"POST",body:R,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(b))}});if(!de.ok)throw Object.assign(new Error("failed to create new flpak: "+le),{message:await de.text(),status:de.status});return de.json()},x=async(T,W,b)=>{const[P,R]=await(0,r.Vz)(N.r,T),le="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:W,treLen:String(R.byteLength),treRawLen:String(P)}),de=await fetch(le,{method:"POST",body:R,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(b))}});if(!de.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+le),{message:await de.text(),status:de.status});return de.json()}},204:(Te,oe,a)=>{"use strict";a.d(oe,{pX:()=>Sr,O3:()=>Rt,ur:()=>ks});var r={};if(a.r(r),a.d(r,{Decoder:()=>Un,Encoder:()=>Bs,PacketType:()=>Ke,protocol:()=>is}),a.j!=15)var N=a(25506);if(a.j!=15)var v=a(16515);const x=Object.create(null);x.open="0",x.close="1",x.ping="2",x.pong="3",x.message="4",x.upgrade="5",x.noop="6";const T=Object.create(null);Object.keys(x).forEach(s=>{T[x[s]]=s});const W={type:"error",data:"parser error"},b=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",P=typeof ArrayBuffer=="function",R=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,le=(s,e,n)=>{let{type:d,data:k}=s;return b&&k instanceof Blob?e?n(k):de(k,n):P&&(k instanceof ArrayBuffer||R(k))?e?n(k):de(new Blob([k]),n):n(x[d]+(k||""))},de=(s,e)=>{const n=new FileReader;return n.onload=function(){const d=n.result.split(",")[1];e("b"+(d||""))},n.readAsDataURL(s)};function ee(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let q;function $(s,e){if(b&&s.data instanceof Blob)return s.data.arrayBuffer().then(ee).then(e);if(P&&(s.data instanceof ArrayBuffer||R(s.data)))return e(ee(s.data));le(s,!1,n=>{q||(q=new TextEncoder),e(q.encode(n))})}const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<G.length;s++)z[G.charCodeAt(s)]=s;const U=s=>{let e=new Uint8Array(s),n,d=e.length,k="";for(n=0;n<d;n+=3)k+=G[e[n]>>2],k+=G[(e[n]&3)<<4|e[n+1]>>4],k+=G[(e[n+1]&15)<<2|e[n+2]>>6],k+=G[e[n+2]&63];return d%3===2?k=k.substring(0,k.length-1)+"=":d%3===1&&(k=k.substring(0,k.length-2)+"=="),k},u=s=>{let e=s.length*.75,n=s.length,d,k=0,Z,_e,Se,Me;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const Ae=new ArrayBuffer(e),je=new Uint8Array(Ae);for(d=0;d<n;d+=4)Z=z[s.charCodeAt(d)],_e=z[s.charCodeAt(d+1)],Se=z[s.charCodeAt(d+2)],Me=z[s.charCodeAt(d+3)],je[k++]=Z<<2|_e>>4,je[k++]=(_e&15)<<4|Se>>2,je[k++]=(Se&3)<<6|Me&63;return Ae},y=typeof ArrayBuffer=="function",m=(s,e)=>{if(typeof s!="string")return{type:"message",data:h(s,e)};const n=s.charAt(0);return n==="b"?{type:"message",data:w(s.substring(1),e)}:T[n]?s.length>1?{type:T[n],data:s.substring(1)}:{type:T[n]}:W},w=(s,e)=>{if(y){const n=u(s);return h(n,e)}else return{base64:!0,data:s}},h=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},j="",M=(s,e)=>{const n=s.length,d=new Array(n);let k=0;s.forEach((Z,_e)=>{le(Z,!1,Se=>{d[_e]=Se,++k===n&&e(d.join(j))})})},L=(s,e)=>{const n=s.split(j),d=[];for(let k=0;k<n.length;k++){const Z=m(n[k],e);if(d.push(Z),Z.type==="error")break}return d};function Y(){return new TransformStream({transform(s,e){$(s,n=>{const d=n.length;let k;if(d<126)k=new Uint8Array(1),new DataView(k.buffer).setUint8(0,d);else if(d<65536){k=new Uint8Array(3);const Z=new DataView(k.buffer);Z.setUint8(0,126),Z.setUint16(1,d)}else{k=new Uint8Array(9);const Z=new DataView(k.buffer);Z.setUint8(0,127),Z.setBigUint64(1,BigInt(d))}s.data&&typeof s.data!="string"&&(k[0]|=128),e.enqueue(k),e.enqueue(n)})}})}let _;function B(s){return s.reduce((e,n)=>e+n.length,0)}function re(s,e){if(s[0].length===e)return s.shift();const n=new Uint8Array(e);let d=0;for(let k=0;k<e;k++)n[k]=s[0][d++],d===s[0].length&&(s.shift(),d=0);return s.length&&d<s[0].length&&(s[0]=s[0].slice(d)),n}function he(s,e){_||(_=new TextDecoder);const n=[];let d=0,k=-1,Z=!1;return new TransformStream({transform(_e,Se){for(n.push(_e);;){if(d===0){if(B(n)<1)break;const Me=re(n,1);Z=(Me[0]&128)===128,k=Me[0]&127,k<126?d=3:k===126?d=1:d=2}else if(d===1){if(B(n)<2)break;const Me=re(n,2);k=new DataView(Me.buffer,Me.byteOffset,Me.length).getUint16(0),d=3}else if(d===2){if(B(n)<8)break;const Me=re(n,8),Ae=new DataView(Me.buffer,Me.byteOffset,Me.length),je=Ae.getUint32(0);if(je>Math.pow(2,21)-1){Se.enqueue(W);break}k=je*Math.pow(2,32)+Ae.getUint32(4),d=3}else{if(B(n)<k)break;const Me=re(n,k);Se.enqueue(m(Z?Me:_.decode(Me),e)),d=0}if(k===0||k>s){Se.enqueue(W);break}}}})}const te=4;function ne(s){if(s)return be(s)}function be(s){for(var e in ne.prototype)s[e]=ne.prototype[e];return s}ne.prototype.on=ne.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this},ne.prototype.once=function(s,e){function n(){this.off(s,n),e.apply(this,arguments)}return n.fn=e,this.on(s,n),this},ne.prototype.off=ne.prototype.removeListener=ne.prototype.removeAllListeners=ne.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+s];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var d,k=0;k<n.length;k++)if(d=n[k],d===e||d.fn===e){n.splice(k,1);break}return n.length===0&&delete this._callbacks["$"+s],this},ne.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+s],d=1;d<arguments.length;d++)e[d-1]=arguments[d];if(n){n=n.slice(0);for(var d=0,k=n.length;d<k;++d)n[d].apply(this,e)}return this},ne.prototype.emitReserved=ne.prototype.emit,ne.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]},ne.prototype.hasListeners=function(s){return!!this.listeners(s).length};const ve=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ie(s){for(var e=arguments.length,n=new Array(e>1?e-1:0),d=1;d<e;d++)n[d-1]=arguments[d];return n.reduce((k,Z)=>(s.hasOwnProperty(Z)&&(k[Z]=s[Z]),k),{})}const fe=ve.setTimeout,Le=ve.clearTimeout;function Fe(s,e){e.useNativeTimers?(s.setTimeoutFn=fe.bind(ve),s.clearTimeoutFn=Le.bind(ve)):(s.setTimeoutFn=ve.setTimeout.bind(ve),s.clearTimeoutFn=ve.clearTimeout.bind(ve))}const Ue=1.33;function We(s){return typeof s=="string"?et(s):Math.ceil((s.byteLength||s.size)*Ue)}function et(s){let e=0,n=0;for(let d=0,k=s.length;d<k;d++)e=s.charCodeAt(d),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(d++,n+=4);return n}function Ze(s){let e="";for(let n in s)s.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(s[n]));return e}function nt(s){let e={},n=s.split("&");for(let d=0,k=n.length;d<k;d++){let Z=n[d].split("=");e[decodeURIComponent(Z[0])]=decodeURIComponent(Z[1])}return e}class At extends Error{constructor(e,n,d){super(e),this.description=n,this.context=d,this.type="TransportError"}}class _t extends ne{constructor(e){super(),this.writable=!1,Fe(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,d){return super.emitReserved("error",new At(e,n,d)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=m(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n){return n===void 0&&(n={}),e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ze(e);return n.length?"?"+n:""}}const kt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Tt=64,Ct={};let It=0,i=0,Yt;function Ft(s){let e="";do e=kt[s%Tt]+e,s=Math.floor(s/Tt);while(s>0);return e}function ts(s){let e=0;for(i=0;i<s.length;i++)e=e*Tt+Ct[s.charAt(i)];return e}function xn(){const s=Ft(+new Date);return s!==Yt?(It=0,Yt=s):s+"."+Ft(It++)}for(;i<Tt;i++)Ct[kt[i]]=i;let vn=!1;try{vn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(s){}const Ht=vn;function Zt(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ht))return new XMLHttpRequest}catch(n){}if(!e)try{return new ve[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}function ns(){}function Pn(){}const X=function(){return new Zt({xdomain:!1}).responseType!=null}();class ce extends _t{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const d=location.protocol==="https:";let k=location.port;k||(k=d?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||k!==e.port}const n=e&&e.forceBase64;this.supportsBinary=X&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let d=0;this.polling&&(d++,this.once("pollComplete",function(){--d||n()})),this.writable||(d++,this.once("drain",function(){--d||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=d=>{if(this.readyState==="opening"&&d.type==="open"&&this.onOpen(),d.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(d)};L(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,M(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=xn()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e){return e===void 0&&(e={}),Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ye(this.uri(),e)}doWrite(e,n){const d=this.request({method:"POST",data:e});d.on("success",n),d.on("error",(k,Z)=>{this.onError("xhr post error",k,Z)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,d)=>{this.onError("xhr poll error",n,d)}),this.pollXhr=e}}class ye extends ne{constructor(e,n){super(),Fe(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=ie(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const d=this.xhr=new Zt(n);try{d.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){d.setDisableHeaderCheck&&d.setDisableHeaderCheck(!0);for(let k in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(k)&&d.setRequestHeader(k,this.opts.extraHeaders[k])}}catch(k){}if(this.method==="POST")try{d.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(k){}try{d.setRequestHeader("Accept","*/*")}catch(k){}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(d),"withCredentials"in d&&(d.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(d.timeout=this.opts.requestTimeout),d.onreadystatechange=()=>{var k;d.readyState===3&&((k=this.opts.cookieJar)===null||k===void 0||k.parseCookies(d)),d.readyState===4&&(d.status===200||d.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof d.status=="number"?d.status:0)},0))},d.send(this.data)}catch(k){this.setTimeoutFn(()=>{this.onError(k)},0);return}typeof document<"u"&&(this.index=ye.requestsCount++,ye.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Pn,e)try{this.xhr.abort()}catch(n){}typeof document<"u"&&delete ye.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ye.requestsCount=0,ye.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",He);else if(typeof addEventListener=="function"){const s="onpagehide"in ve?"pagehide":"unload";addEventListener(s,He,!1)}}function He(){for(let s in ye.requests)ye.requests.hasOwnProperty(s)&&ye.requests[s].abort()}const ot=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),bt=ve.WebSocket||ve.MozWebSocket,Gt=!0,on="arraybuffer",ss=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class rs extends _t{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,d=ss?{}:ie(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(d.headers=this.opts.extraHeaders);try{this.ws=Gt&&!ss?n?new bt(e,n):new bt(e):new bt(e,n,d)}catch(k){return this.emitReserved("error",k)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const d=e[n],k=n===e.length-1;le(d,this.supportsBinary,Z=>{const _e={};Gt||(d.options&&(_e.compress=d.options.compress),this.opts.perMessageDeflate&&(typeof Z=="string"?Buffer.byteLength(Z):Z.length)<this.opts.perMessageDeflate.threshold&&(_e.compress=!1));try{Gt?this.ws.send(Z):this.ws.send(Z,_e)}catch(Se){}k&&ot(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xn()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!bt}}class gt extends _t{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=he(Number.MAX_SAFE_INTEGER,this.socket.binaryType),d=e.readable.pipeThrough(n).getReader(),k=Y();k.readable.pipeTo(e.writable),this.writer=k.writable.getWriter();const Z=()=>{d.read().then(Se=>{let{done:Me,value:Ae}=Se;Me||(this.onPacket(Ae),Z())}).catch(Se=>{})};Z();const _e={type:"open"};this.query.sid&&(_e.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(_e).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const d=e[n],k=n===e.length-1;this.writer.write(d).then(()=>{k&&ot(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const As={websocket:rs,webtransport:gt,polling:ce},an=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dn(s){if(s.length>2e3)throw"URI too long";const e=s,n=s.indexOf("["),d=s.indexOf("]");n!=-1&&d!=-1&&(s=s.substring(0,n)+s.substring(n,d).replace(/:/g,";")+s.substring(d,s.length));let k=an.exec(s||""),Z={},_e=14;for(;_e--;)Z[Ts[_e]]=k[_e]||"";return n!=-1&&d!=-1&&(Z.source=e,Z.host=Z.host.substring(1,Z.host.length-1).replace(/;/g,":"),Z.authority=Z.authority.replace("[","").replace("]","").replace(/;/g,":"),Z.ipv6uri=!0),Z.pathNames=Os(Z,Z.path),Z.queryKey=Ls(Z,Z.query),Z}function Os(s,e){const n=/\/{2,9}/g,d=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&d.splice(0,1),e.slice(-1)=="/"&&d.splice(d.length-1,1),d}function Ls(s,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,k,Z){k&&(n[k]=Z)}),n}class Dt extends ne{constructor(e,n){n===void 0&&(n={}),super(),this.binaryType=on,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=Dn(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Dn(n.host).host),Fe(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=nt(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=te,n.transport=e,this.id&&(n.sid=this.id);const d=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new As[e](d)}open(){let e;if(this.opts.rememberUpgrade&&Dt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(n){this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),d=!1;Dt.priorWebsocketSuccess=!1;const k=()=>{d||(n.send([{type:"ping",data:"probe"}]),n.once("packet",ze=>{if(!d)if(ze.type==="pong"&&ze.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Dt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{d||this.readyState!=="closed"&&(je(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const ae=new Error("probe error");ae.transport=n.name,this.emitReserved("upgradeError",ae)}}))};function Z(){d||(d=!0,je(),n.close(),n=null)}const _e=ze=>{const ae=new Error("probe error: "+ze);ae.transport=n.name,Z(),this.emitReserved("upgradeError",ae)};function Se(){_e("transport closed")}function Me(){_e("socket closed")}function Ae(ze){n&&ze.name!==n.name&&Z()}const je=()=>{n.removeListener("open",k),n.removeListener("error",_e),n.removeListener("close",Se),this.off("close",Me),this.off("upgrading",Ae)};n.once("open",k),n.once("error",_e),n.once("close",Se),this.once("close",Me),this.once("upgrading",Ae),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{d||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Dt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let d=0;d<this.writeBuffer.length;d++){const k=this.writeBuffer[d].data;if(k&&(n+=We(k)),d>0&&n>this.maxPayload)return this.writeBuffer.slice(0,d);n+=2}return this.writeBuffer}write(e,n,d){return this.sendPacket("message",e,n,d),this}send(e,n,d){return this.sendPacket("message",e,n,d),this}sendPacket(e,n,d,k){if(typeof n=="function"&&(k=n,n=void 0),typeof d=="function"&&(k=d,d=null),this.readyState==="closing"||this.readyState==="closed")return;d=d||{},d.compress=d.compress!==!1;const Z={type:e,data:n,options:d};this.emitReserved("packetCreate",Z),this.writeBuffer.push(Z),k&&this.once("flush",k),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},d=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?d():e()}):this.upgrading?d():e()),this}onError(e){Dt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let d=0;const k=e.length;for(;d<k;d++)~this.transports.indexOf(e[d])&&n.push(e[d]);return n}}Dt.protocol=te;const Kt=Dt.protocol;function wn(s,e,n){e===void 0&&(e="");let d=s;n=n||typeof location<"u"&&location,s==null&&(s=n.protocol+"//"+n.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=n.protocol+s:s=n.host+s),/^(https?|wss?):\/\//.test(s)||(typeof n<"u"?s=n.protocol+"//"+s:s="https://"+s),d=Dn(s)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";const Z=d.host.indexOf(":")!==-1?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+Z+":"+d.port+e,d.href=d.protocol+"://"+Z+(n&&n.port===d.port?"":":"+d.port),d}const Ps=typeof ArrayBuffer=="function",Ds=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,_n=Object.prototype.toString,cn=typeof Blob=="function"||typeof Blob<"u"&&_n.call(Blob)==="[object BlobConstructor]",Rn=typeof File=="function"||typeof File<"u"&&_n.call(File)==="[object FileConstructor]";function zn(s){return Ps&&(s instanceof ArrayBuffer||Ds(s))||cn&&s instanceof Blob||Rn&&s instanceof File}function Sn(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let n=0,d=s.length;n<d;n++)if(Sn(s[n]))return!0;return!1}if(zn(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return Sn(s.toJSON(),!0);for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&Sn(s[n]))return!0;return!1}function Rs(s){const e=[],n=s.data,d=s;return d.data=Fn(n,e),d.attachments=e.length,{packet:d,buffers:e}}function Fn(s,e){if(!s)return s;if(zn(s)){const n={_placeholder:!0,num:e.length};return e.push(s),n}else if(Array.isArray(s)){const n=new Array(s.length);for(let d=0;d<s.length;d++)n[d]=Fn(s[d],e);return n}else if(typeof s=="object"&&!(s instanceof Date)){const n={};for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=Fn(s[d],e));return n}return s}function zs(s,e){return s.data=Bn(s.data,e),delete s.attachments,s}function Bn(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let n=0;n<s.length;n++)s[n]=Bn(s[n],e);else if(typeof s=="object")for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(s[n]=Bn(s[n],e));return s}const Fs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],is=5;var Ke;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(Ke||(Ke={}));class Bs{constructor(e){this.replacer=e}encode(e){return(e.type===Ke.EVENT||e.type===Ke.ACK)&&Sn(e)?this.encodeAsBinary({type:e.type===Ke.EVENT?Ke.BINARY_EVENT:Ke.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ke.BINARY_EVENT||e.type===Ke.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Rs(e),d=this.encodeAsString(n.packet),k=n.buffers;return k.unshift(d),k}}function os(s){return Object.prototype.toString.call(s)==="[object Object]"}class Un extends ne{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const d=n.type===Ke.BINARY_EVENT;d||n.type===Ke.BINARY_ACK?(n.type=d?Ke.EVENT:Ke.ACK,this.reconstructor=new Us(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(zn(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const d={type:Number(e.charAt(0))};if(Ke[d.type]===void 0)throw new Error("unknown packet type "+d.type);if(d.type===Ke.BINARY_EVENT||d.type===Ke.BINARY_ACK){const Z=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const _e=e.substring(Z,n);if(_e!=Number(_e)||e.charAt(n)!=="-")throw new Error("Illegal attachments");d.attachments=Number(_e)}if(e.charAt(n+1)==="/"){const Z=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););d.nsp=e.substring(Z,n)}else d.nsp="/";const k=e.charAt(n+1);if(k!==""&&Number(k)==k){const Z=n+1;for(;++n;){const _e=e.charAt(n);if(_e==null||Number(_e)!=_e){--n;break}if(n===e.length)break}d.id=Number(e.substring(Z,n+1))}if(e.charAt(++n)){const Z=this.tryParse(e.substr(n));if(Un.isPayloadValid(d.type,Z))d.data=Z;else throw new Error("invalid payload")}return d}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(n){return!1}}static isPayloadValid(e,n){switch(e){case Ke.CONNECT:return os(n);case Ke.DISCONNECT:return n===void 0;case Ke.CONNECT_ERROR:return typeof n=="string"||os(n);case Ke.EVENT:case Ke.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Fs.indexOf(n[0])===-1);case Ke.ACK:case Ke.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Us{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=zs(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ot(s,e,n){return s.on(e,n),function(){s.off(e,n)}}const Ws=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ln extends ne{constructor(e,n,d){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,d&&d.auth&&(this.auth=d.auth),this._opts=Object.assign({},d),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ot(e,"open",this.onopen.bind(this)),Ot(e,"packet",this.onpacket.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var e=arguments.length,n=new Array(e),d=0;d<e;d++)n[d]=arguments[d];return n.unshift("message"),this.emit.apply(this,n),this}emit(e){if(Ws.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var n=arguments.length,d=new Array(n>1?n-1:0),k=1;k<n;k++)d[k-1]=arguments[k];if(d.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(d),this;const Z={type:Ke.EVENT,data:d};if(Z.options={},Z.options.compress=this.flags.compress!==!1,typeof d[d.length-1]=="function"){const Me=this.ids++,Ae=d.pop();this._registerAckCallback(Me,Ae),Z.id=Me}const _e=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!_e||!this.connected)||(this.connected?(this.notifyOutgoingListeners(Z),this.packet(Z)):this.sendBuffer.push(Z)),this.flags={},this}_registerAckCallback(e,n){var d=this,k;const Z=(k=this.flags.timeout)!==null&&k!==void 0?k:this._opts.ackTimeout;if(Z===void 0){this.acks[e]=n;return}const _e=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let Me=0;Me<this.sendBuffer.length;Me++)this.sendBuffer[Me].id===e&&this.sendBuffer.splice(Me,1);n.call(this,new Error("operation has timed out"))},Z),Se=function(){d.io.clearTimeoutFn(_e);for(var Me=arguments.length,Ae=new Array(Me),je=0;je<Me;je++)Ae[je]=arguments[je];n.apply(d,Ae)};Se.withError=!0,this.acks[e]=Se}emitWithAck(e){for(var n=arguments.length,d=new Array(n>1?n-1:0),k=1;k<n;k++)d[k-1]=arguments[k];return new Promise((Z,_e)=>{const Se=(Me,Ae)=>Me?_e(Me):Z(Ae);Se.withError=!0,d.push(Se),this.emit(e,...d)})}_addToQueue(e){var n=this;let d;typeof e[e.length-1]=="function"&&(d=e.pop());const k={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(Z){if(k!==n._queue[0])return;if(Z!==null)k.tryCount>n._opts.retries&&(n._queue.shift(),d&&d(Z));else if(n._queue.shift(),d){for(var Se=arguments.length,Me=new Array(Se>1?Se-1:0),Ae=1;Ae<Se;Ae++)Me[Ae-1]=arguments[Ae];d(null,...Me)}return k.pending=!1,n._drainQueue()}),this._queue.push(k),this._drainQueue()}_drainQueue(e){if(e===void 0&&(e=!1),!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ke.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(d=>String(d.id)===e)){const d=this.acks[e];delete this.acks[e],d.withError&&d.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ke.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ke.EVENT:case Ke.BINARY_EVENT:this.onevent(e);break;case Ke.ACK:case Ke.BINARY_ACK:this.onack(e);break;case Ke.DISCONNECT:this.ondisconnect();break;case Ke.CONNECT_ERROR:this.destroy();const d=new Error(e.data.message);d.data=e.data.data,this.emitReserved("connect_error",d);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const d of n)d.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let d=!1;return function(){if(!d){d=!0;for(var k=arguments.length,Z=new Array(k),_e=0;_e<k;_e++)Z[_e]=arguments[_e];n.packet({type:Ke.ACK,id:e,data:Z})}}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ke.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let d=0;d<n.length;d++)if(e===n[d])return n.splice(d,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let d=0;d<n.length;d++)if(e===n[d])return n.splice(d,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const d of n)d.apply(this,e.data)}}}function Jt(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Jt.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*s);s=Math.floor(e*10)&1?s+n:s-n}return Math.min(s,this.max)|0},Jt.prototype.reset=function(){this.attempts=0},Jt.prototype.setMin=function(s){this.ms=s},Jt.prototype.setMax=function(s){this.max=s},Jt.prototype.setJitter=function(s){this.jitter=s};class Cn extends ne{constructor(e,n){var d;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Fe(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((d=n.randomizationFactor)!==null&&d!==void 0?d:.5),this.backoff=new Jt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const k=n.parser||r;this.encoder=new k.Encoder,this.decoder=new k.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Dt(this.uri,this.opts);const n=this.engine,d=this;this._readyState="opening",this.skipReconnect=!1;const k=Ot(n,"open",function(){d.onopen(),e&&e()}),Z=Se=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Se),e?e(Se):this.maybeReconnectOnOpen()},_e=Ot(n,"error",Z);if(this._timeout!==!1){const Se=this._timeout,Me=this.setTimeoutFn(()=>{k(),Z(new Error("timeout")),n.close()},Se);this.opts.autoUnref&&Me.unref(),this.subs.push(()=>{this.clearTimeoutFn(Me)})}return this.subs.push(k),this.subs.push(_e),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ot(e,"ping",this.onping.bind(this)),Ot(e,"data",this.ondata.bind(this)),Ot(e,"error",this.onerror.bind(this)),Ot(e,"close",this.onclose.bind(this)),Ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ot(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let d=this.nsps[e];return d?this._autoConnect&&!d.active&&d.connect():(d=new ln(this,e,n),this.nsps[e]=d),d}_destroy(e){const n=Object.keys(this.nsps);for(const d of n)if(this.nsps[d].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let d=0;d<n.length;d++)this.engine.write(n[d],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const d=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(k=>{k?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",k)):e.onreconnect()}))},n);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Qt={};function Nn(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const n=wn(s,e.path||"/socket.io"),d=n.source,k=n.id,Z=n.path,_e=Qt[k]&&Z in Qt[k].nsps,Se=e.forceNew||e["force new connection"]||e.multiplex===!1||_e;let Me;return Se?Me=new Cn(d,e):(Qt[k]||(Qt[k]=new Cn(d,e)),Me=Qt[k]),n.query&&!e.query&&(e.query=n.queryKey),Me.socket(n.path,e)}if(Object.assign(Nn,{Manager:Cn,Socket:ln,io:Nn,connect:Nn}),a.j!=15)var as=a(89509);if(a.j!=15)var ut=a(74420);if(a.j!=15)var Pt=a(5775);if(a.j!=15)var Wn=a(77125);const jn=a.j!=15?2*1e3:null,Hn=a.j!=15?24*1e3:null,cs=a.j!=15?48*1e3:null,dn=()=>{},Hs=()=>({destroy:dn,reset:dn,emitAsync:Vs,emitLossy:dn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),Vs=async(s,e)=>({type:s,payload:e,isDummy:!0}),ls=s=>{let{query:{uId:e,fURL:n=globalThis.location.href.slice(0,128),uTag:d=ut.CH,vTag:k=Wn.r,rKey:Z},lossyListenerMap:_e={},queueListenerMap:Se={},socketUrl:Me=globalThis.location.origin,socketPath:Ae=ut.$r,usePolling:je=!1}=s;if(!e||!Z)throw new Error("SKT bad query");const ze=(0,as.I6)();let ae,ue=(0,N.wT)(),ke=0,De=null;const Qe=()=>{ae!==void 0&&(ae.close(),ae=void 0,ue=(0,N.wT)(),at=!1,De&&clearTimeout(De),De=null)},pt=()=>{Qe();const Ge=new Cn(Me,{path:Ae,query:{uId:e,fURL:n,uTag:d,vTag:k,rKey:Z},transports:je?["polling","websocket"]:["websocket"],timeout:cs,reconnectionDelay:Math.round((jn+Hn)/2),reconnectionDelayMax:cs,randomizationFactor:(Hn-jn)/(Hn+jn),closeOnBeforeunload:!1}).socket(ut.I4);Ge.on("connect_error",Ee=>{console.log("[socket] connect_error",Ee),Ee.message.includes(ut.uB)&&(Qe(),ze.dispatchEvent({type:ut.VU,payload:{error:Ee}})),ze.dispatchEvent({type:ut.Ei,payload:{error:Ee}})}),Ge.on("connect",async()=>{console.log("[socket] connect");{const Ee=Date.now(),Ye=await(0,N.hq)(vt(ut.Ip),10*1e3,ut.Ip).catch(async $e=>{throw(0,v.et)(pt,2*1e3),console.warn(ut.Ip,$e),ue.reject($e),$e}),Pe=Date.now();ke=Ye-(Ee+Pe)*.5}De=(0,v.et)(()=>{!ae||!ae.connected||at||pt()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),ze.dispatchEvent({type:ut.zS}),ue.resolve()});{let Ee=Promise.resolve();const Ye=(Pe,$e)=>{const Xe=Ee.then(Pe);return Ee=Xe.then(dn,yt=>{(0,Pt.p)("SKT-QA-"+$e,yt)}),Xe};ze.clear();for(const[Pe,$e]of Object.entries(_e))Ge.on(Pe,Xe=>$e({type:Pe,payload:Xe})),ze.addEventListener(Pe,Xe=>{let{payload:yt}=Xe;return $e({type:Pe,payload:yt})});for(const[Pe,$e]of Object.entries(Se))Ge.on(Pe,Xe=>Ye(()=>$e({type:Pe,payload:Xe}),Pe)),ze.addEventListener(Pe,Xe=>{let{payload:yt}=Xe;return Ye(()=>$e({type:Pe,payload:yt}),Pe)})}ae=Ge};let at=!1;const vt=async(jt,Ge)=>{at=!0;const{error:Ee,result:Ye}=await(0,N.hq)(new Promise(Pe=>ae.emit(jt,Ge,Pe)),42*1e3,"SKT-USR "+jt).finally(()=>{at=!1});if(Ee!==void 0)throw Object.assign(new Error(typeof Ee=="object"&&Ee.message||"SKT-USR "+jt),Ee);return Ye},ft=(jt,Ge)=>{ae.volatile.emit(jt,Ge)};return pt(),{destroy:Qe,reset:pt,emitAsync:vt,emitLossy:ft,getIsConnected:()=>ae&&ae.connected||!1,getSocketId:()=>ae&&ae.id||"",getReadyPromise:()=>ue.promise,getOffsetMsec:()=>ke}};var Vt=a(13782),Nt=a(25629),ds=a(43476),ct=a(15094);if(a.j!=15)var dt=a(53266);if(a.j!=15)var Ve=a(25196);var $t=a(96155);const Xt=0,Ys={cDebugMin:Xt,cCmtPack:Xt+1,cCmtThread:Xt+2,cCmtContent:Xt+3,cDebugMax:35},qt=(0,$t.W)("cmt-type",Ys),Vn=qt.pack("cCmtPack"),us=qt.pack("cCmtThread"),Yn=qt.pack("cCmtContent"),Zs=new Set(["cCmtPack","cCmtThread","cCmtContent"]),Zn=new Set([Vn,us,Yn]);if(a.j!=15)var Gn=a(6950);const Gs={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},ps=(0,$t.W)("DraftBlockType",Gs),Ks={left:0,center:1,right:2,justify:3},Mn=(0,$t.W)("DraftAlignment",Ks),Js={LINK:0,IMAGE:1},hs=(0,$t.W)("DraftEntityMapType",Js),Qs={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},ms=(0,$t.W)("DraftEntityMapMutability",Qs),$s={_blank:0,_self:1},gs=(0,$t.W)("DraftLinkTargetOption",$s),Xs=s=>{const e={};return Object.keys(s).forEach(n=>{const{type:d,mutability:k,data:Z}=s[n],_e=[hs.pack(d),ms.pack(k)],Se=[];d==="LINK"?(_e.push(gs.pack(Z.targetOption)),Se.push(Z.url||"")):d==="IMAGE"&&(_e.push((0,dt.c5)(Z.width),Mn.pack(Z.alignment)),Se.push(Z.src||"",Z.alt||"")),e["e/"+n]=[_e.join(Ve.xi),...Se]}),e},qs=s=>{const e={};for(const n of Object.keys(s)){if(!n.startsWith("e/"))continue;const d=n.split("e/")[1],[k,...Z]=s[n],[_e,Se,Me,Ae]=k.split(Ve.xi),je=hs.parse(_e),ze=ms.parse(Se);e[d]=je==="LINK"?{type:je,mutability:ze,data:{url:Z[0],targetOption:gs.parse(Me)}}:{type:je,mutability:ze,data:{src:Z[0],alt:Z[1],width:(0,dt._3)(Me),alignment:Mn.parse(Ae)}}}return e},er=s=>{const e={};return Object.keys(s).forEach(n=>{const{text:d,type:k,depth:Z,inlineStyleRanges:_e,entityRanges:Se,data:{textAlign:Me,textIndent:Ae,paraSpacing:je}}=s[n],ze=[ps.packDef(k,"unstyled"),(0,dt.c5)(Z),Me?Mn.pack(Me):"",Ae!==void 0?(0,dt.c5)(Ae):"",je!==void 0?(0,ct.ZI)(je):""];e["b/"+n]=[ze.join(Ve.xi),d,_e.map(ae=>{let{offset:ue,length:ke,style:De}=ae;return sr(ue,ke,De)}),Se.map(ae=>{let{offset:ue,length:ke,key:De}=ae;return tr(ue,ke,De)})]}),e},tr=(s,e,n)=>""+(0,dt.c5)(s)+Ve.xi+(0,dt.c5)(e)+Ve.xi+(0,dt.c5)(n),nr=s=>{const e=s.indexOf(Ve.xi),n=s.indexOf(Ve.xi,e+1);return[(0,dt._3)(s.slice(0,e)),(0,dt._3)(s.slice(e+1,n)),(0,dt._3)(s.slice(n+1))]},sr=(s,e,n)=>""+(0,dt.c5)(s)+Ve.xi+(0,dt.c5)(e)+Ve.xi+n,rr=s=>{const e=s.indexOf(Ve.xi),n=s.indexOf(Ve.xi,e+1);return[(0,dt._3)(s.slice(0,e)),(0,dt._3)(s.slice(e+1,n)),s.slice(n+1)]},ir=s=>{const e={};for(const n of Object.keys(s)){if(!n.startsWith("b/"))continue;const d=n.split("b/")[1],[k,Z,_e,Se]=s[n],[Me,Ae,je,ze,ae]=k.split(Ve.xi),ue={};je!==""&&(ue.textAlign=Mn.parse(je)),ze!==""&&(ue.textIndent=(0,dt._3)(ze)),ae!==""&&ae!==void 0&&(ue.paraSpacing=(0,ct.bp)(ae)),e[d]={text:Z,type:ps.parse(Me),depth:(0,dt._3)(Ae),inlineStyleRanges:_e.map(ke=>{const[De,Qe,pt]=rr(ke);return{offset:De,length:Qe,style:pt}}),entityRanges:Se.map(ke=>{const[De,Qe,pt]=nr(ke);return{offset:De,length:Qe,key:pt}}),data:ue}}return e},fs=s=>{let{message:e}=s;const{blocks:n={},entityMap:d={}}=e;return{...er(n),...Xs(d)}},ys=s=>({message:{blocks:ir(s),entityMap:qs(s)}}),Kn=s=>({T:qt.pack(s.type),IC:[(0,dt.c5)(s.index),(0,dt.vH)(s.ctime)].join(Ve.xi)}),un=s=>{const[e,n]=s.IC.split(Ve.xi);return{type:qt.parse(s.T),index:(0,dt._3)(e),ctime:(0,dt.TT)(n)}},bs=s=>({...Kn(s),R:s.refKey}),Jn=s=>({...un(s),refKey:s.R}),or=s=>({...Kn(s),...fs(s),xy:(0,ct.x3)(s.x,s.y),wh:(0,ct.x3)(s.w,s.h),z:(0,ct.ZI)(s.z),userInfo:s.userInfo,userId:(0,ct.ZI)(s.userId),mtime:(0,dt.vH)(s.mtime),isCompleted:(0,Gn.rK)(s.isCompleted),canvasVec2:s.canvasVec2?{x:(0,ct.ZI)(s.canvasVec2.x),y:(0,ct.ZI)(s.canvasVec2.y)}:s.canvasVec2,canvasCid:s.canvasCid,threadType:s.threadType}),ar=s=>{const[e,n]=(0,ct.fm)(s.xy),[d,k]=(0,ct.fm)(s.wh),Z=s.canvasVec2?(0,ct.bp)(s.canvasVec2.x):void 0,_e=s.canvasVec2?(0,ct.bp)(s.canvasVec2.y):void 0,Se=(0,ct.bp)(s.z);return{...un(s),...ys(s),x:e,y:n,w:d,h:k,z:Se,mtime:(0,dt.TT)(s.mtime),userInfo:s.userInfo,userId:(0,ct.bp)(s.userId),isCompleted:(0,Gn.Vf)(s.isCompleted),canvasCid:s.canvasCid,threadType:s.threadType,canvasVec2:Z&&_e?{x:Z,y:_e}:void 0}},pn=s=>({...Kn(s),...fs(s),mtime:(0,dt.vH)(s.mtime),userInfo:s.userInfo}),_r=s=>({...un(s),...ys(s),mtime:(0,dt.TT)(s.mtime),userInfo:s.userInfo}),cr=s=>{try{switch(s.T){case void 0:return s;case Vn:return Jn(s);case us:return ar(s);case Yn:return _r(s);default:throw new Error("invalid attr: "+s.T+" -> "+qt.parse(s.T))}}catch(e){throw(0,Pt.p)("toP2CHA badDat",e,s),e}},xs=s=>{try{switch(s.type){case void 0:return s;case"cCmtPack":return bs(s);case"cCmtThread":return or(s);case"cCmtContent":return pn(s);default:throw new Error("invalid attr: "+s.type)}}catch(e){throw(0,Pt.p)("toP2CCA badDat",e,s),e}};if(a.j!=15)var lr=a(40349);const Qn=(s,e)=>{const n=Se=>{const Me=s(Se);return Me===void 0?[]:Me.sub.map(Ae=>s(Ae))},d=(0,lr.MX)(Se=>Se.sub.map(Me=>s(Me))),k=(Se,Me)=>{const Ae=s(Se);Ae!==void 0&&(Me(Ae)||Ae.sub.length!==0&&d(Ae,Me))};return{getHotItem:s,getSubHotItemList:n,walkHotItemSubtree:k,isTrashed:Se=>(0,Nt.DM)(Se,e.getFlatTree()),__devHotTree:function(Se){Se===void 0&&(Se=Nt.gT);const Me=new Map,Ae=je=>{let ze=Me.get(je);return ze===void 0&&Me.set(je,ze={}),ze};return k(Se,je=>{Ae(je.sup)[je.key]=je.hotAttr,je.sub.length!==0&&(Ae(je.sup)[je.key+" SUB"]=Ae(je.key))}),Ae(s(Se).sup)}}};if(a.j!=15)var vs=a(25684);if(a.j!=15)var $n=a(97188);var dr=a(35457),Et=a(15546);if(a.j!=15)var ur=a(87082);const pr=(s,e,n)=>{const d=ae=>{if(ae===void 0||ae.length===0)return;const ue=new Set;for(const De of ae)ue.add(De.key),De.type==="I"&&ue.add(De.keySup);const ke=(0,Nt.CF)([...ue].filter(Nt.xe),n.getFlatTree());s({type:ur.a,payload:ke})},k=ae=>{const ue=[],ke=ae(ue);return d(n.applyDiff(ue)),ke},Z=ae=>k(ue=>{const ke=[],De=ae(ke);for(const Qe of ke)Qe.type==="update"?Ae(Qe.hotItem,ue):Qe.type==="delete"&&je(Qe.key,ue);return De}),_e=function(){const ae=[],ue=[];let ke,De=!1;for(var Qe=arguments.length,pt=new Array(Qe),at=0;at<Qe;at++)pt[at]=arguments[at];for(const vt of pt){ke=vt(ae);const ft=n.applyDiff(ae);ft!==void 0&&(ue.push(...ft),De?n.combineLastUndo():De=!0)}return d(ue),ke},Se=function(){for(var ae=arguments.length,ue=new Array(ae),ke=0;ke<ae;ke++)ue[ke]=arguments[ke];const De=ue.map(Qe=>pt=>{const at=[],vt=Qe(at);for(const ft of at)ft.type==="update"?Ae(ft.hotItem,pt):ft.type==="delete"&&je(ft.key,pt);return vt});return _e(...De)},Me=(ae,ue)=>{for(const ke of Object.keys(ae)){const De=ae[ke],Qe=ue[ke];De!==Qe&&(0,vs.sw)(De)&&(0,vs.sw)(Qe)&&JSON.stringify(De)===JSON.stringify(Qe)&&(ae[ke]=Qe)}},Ae=(ae,ue)=>{const ke=(0,Nt.PV)(ae.key,n.getFlatTree());if(ke===void 0)ue.push({type:Et.UF,key:ae.key,keySup:ae.sup}),ue.push({type:Et.qC,key:ae.key,attrDiff:xs(ae.hotAttr)});else{ke.sup!==ae.sup&&ue.push({type:Et.UF,key:ae.key,keySup:ae.sup});const De=xs(ae.hotAttr);Me(De,ke.attr);const Qe=(0,dr.m)(De,ke.attr);Qe!==void 0&&ue.push({type:Et.qC,key:ae.key,attrDiff:Qe})}},je=(ae,ue)=>{n.getFlatItem(ae)&&ue.push({type:Et.UF,key:ae,keySup:Nt.Ri})},ze=(ae,ue,ke)=>{n.getFlatItem(ae)&&n.getFlatItem(ue)&&ke.push({type:Et.UF,key:ae,keySup:ue})};return{_edit:k,_editAction:Z,_editBatch:_e,_editActionBatch:Se,onRemotePatchList:ae=>{const ue=[];for(const ke of ae){const De=n.applyDiffRemote(ke.diffList,ke.clock);De!==void 0&&ue.push(...De)}d(ue)},updateHotItem:ae=>k(ue=>{Ae(ae,ue)}),updateHotItemBatch:ae=>k(ue=>{for(const ke of ae)Ae(ke,ue)}),deleteHotItem:ae=>k(ue=>{je(ae,ue)}),deleteHotItemBatch:ae=>k(ue=>{for(const ke of ae)je(ke,ue)}),moveHotItem:(ae,ue)=>k(ke=>{ze(ae,ue,ke)}),moveHotItemBatch:ae=>k(ue=>{for(const[ke,De]of ae)ze(ke,De,ue)}),editHotItemBatch:ae=>k(ue=>{for(const ke of ae)ke.type==="update"?Ae(ke.hotItem,ue):ke.type==="delete"&&je(ke.key,ue)}),updateHotAttrMerge:(ae,ue)=>k(ke=>{const De=e(ae);if(De===void 0)throw new Error("no item: "+ae);Ae((0,$n.MK)(De,"hotAttr",{...De.hotAttr,...ue}),ke)}),updateHotAttrKV:(ae,ue,ke)=>k(De=>{const Qe=e(ae);if(Qe===void 0)throw new Error("no item: "+ae);Ae((0,$n.MK)(Qe,"hotAttr",(0,$n.MK)(Qe.hotAttr,ue,ke)),De)}),canUndo:n.canUndo,canRedo:n.canRedo,combineMergeMark:n.combineMergeMark,combineMerge:n.combineMerge,undo:()=>{d(n.undo())},redo:()=>{d(n.redo())}}};var kn=a(18856);const hr=s=>{const e=(0,as.wz)(),n=e.subscribe,d=e.unsubscribe,k=ws(s),Z=Qn(k,s),_e=()=>mr(s.getFlatTree),Se=pr(e.send,k,s),{_edit:Me,_editAction:Ae,_editBatch:je,_editActionBatch:ze,...ae}=Se;return{subscribe:n,unsubscribe:d,...Z,createRoCmtStore:_e,...ae}},ws=s=>e=>{const n=s.getFlatTree().get(e);if(n===void 0)return;const d=s.getOCI(n);return d.hotItem===void 0&&(d.hotItem={key:n.key,sup:n.sup,sub:n.sub,hotAttr:cr(n.attr)}),d.hotItem},mr=s=>{const e=(0,kn.b$)(s(),(0,Vt.aF)({})),n=()=>e.getFlatTree()!==s(),d=()=>e.sync(s()),k=ws(e),Z=Qn(k,e);return{hasUpdate:n,syncUpdate:d,...Z}};var _s=a(92200),In=a(32076);if(a.j!=15)var Ss=a(6185);if(a.j!=15)var En=a(13573);var Bt=a(39788),hn=a(14841),mn=a(64161);const gr=s=>{const[e,n,d]=s,k=async()=>(0,hn.BT)(mn.r,e.tre),Z=async function(je){je===void 0&&(je=-1);const ze=[];for(const{pbx:ae,t10s:ue}of n){if(ue<je)continue;const ke=(0,En.CE)(await mn.r.gunzipU8AAsync(new Uint8Array(ae)));for(const De of(0,Bt.Pb)(ke))ze.push(De)}for(const{pch:ae,t10s:ue}of d)ue<je||ze.push(ae);return ze},_e=async function(je){je===void 0&&(je=-1);const ze=[];for(const ae of await Z(je))ze.push((0,Et.iz)(ae));return ze},Se=async function(je){je===void 0&&(je=-1);const ze=[];for(const ae of await Z(je)){const{clock:ue,diffList:ke}=(0,Et.iz)(ae);ze.push([(0,Vt._r)(ue).slice(5),ke,ae])}return ze};return{getParsedTre:k,getPchList:Z,getPatchList:_e,getReadablePatchList:Se,filterReadablePatchList:async function(je,ze){return ze===void 0&&(ze=-1),(await Se(ze)).filter(ae=>{let[,,ue]=ae;return ue.includes(je)})},getMergedReadablePatchList:async function(je,ze){je===void 0&&(je=-1),ze===void 0&&(ze=16);const ae=[];let ue={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const ke=De=>{ue.timePrefix!==De&&(ue.timePrefix!==""&&ae.push(ue.timePrefix.slice(5)+"..Z I*"+(ue.countDI||"-")+" A*"+(ue.countDA||"-")+" ["+[...ue.userIdSet].join(",")+"]"),ue={timePrefix:De,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[De,Qe],diffList:pt}of await _e(je)){const at=new Date(De).toISOString().slice(0,ze);ke(at),ue.userIdSet.add(Qe);for(const{type:vt}of pt)vt===Et.UF?ue.countDI++:ue.countDA++}return ke(""),ae},flpak:s}},Cs=s=>Math.floor(s/10/1e3),en=s=>{const[e]=(0,Et.cx)(s);return Cs(e)},fr=s=>{let[e,n,d]=s;return d.length!==0?d[d.length-1].t10s:n.length!==0?n[n.length-1].t10s:e.t10s};if(a.j!=15)var An=a(37375);const tn=(s,e,n)=>{let d=!1,k=0,Z=0;const _e=new Map;let Se=[],Me,Ae,je,ze;const ae=Ee=>{let[Ye,,Pe]=Ee;if(Ye!==s)return!1;const $e=(0,Bt.vZ)(Pe);for(const Xe of $e)Se.push([Xe,en(Xe),!1]);return je!==void 0&&je($e.map(Xe=>(0,Et.iz)(Xe))),!0},ue=async(Ee,Ye)=>{if(Ae!==void 0)throw new Error("no re-init flatStore");Me=Ee,ze=Ye;const Pe=await ze(s);{const ht="INSP-INIT-FLPAK";location.hash.includes(ht)&&Object.assign(globalThis,{[ht+"/"+s]:{...gr(Pe),__flpakKey:s,__name:e}})}k=fr(Pe);const $e=(0,kn.OR)(),Xe=await(0,hn.TN)(mn.r,Pe,(ht,Ce)=>(0,Bt.qG)(ht,Ce,$e.mutateTFAAFNB));let yt=Nt.xL;{const ht="BYPASS-FLPAK";location.hash.includes(ht)&&(yt=Ce=>console.warn("["+ht+"|vFT]",Ce))}for(const[ht,Ce,Je]of Se)!Je&&k>=Ce||(0,Bt.qG)(Xe,ht,$e.mutateTFAAFNB);Ae=(0,kn.b$)(Xe,Ee,(ht,Ce,Je)=>{if(d&&console.log("flat|onPatch",{diffList:ht,clock:Ce,isLocal:Je}),Se.push([(0,Et.AO)({diffList:ht,clock:Ce}),Cs(Ce[0]),Je]),Je)return;const[St,Mt,fn,sn]=Ce;Z=Math.max(Z,St);const zt=(0,Vt.au)(Mt,fn);if(Me.selfCCK===zt)throw new Error("unexpected selfCck: "+zt);const yn=_e.get(zt)||-1;yn>sn&&console.warn("bad editId for cck: "+zt+", last: "+yn+", new: "+sn),_e.set(zt,sn)},(ht,Ce)=>{console.warn("flat|requestResync",{error:ht,message:Ce})}),je=ht=>{for(const Ce of ht)Ae.applyDiffRemote(Ce.diffList,Ce.clock)};const xt=$e.getFixDiffList(Xe);xt.length&&(Ae.applyDiff(xt),Ae.resetUndo()),n===!0&&yt(Xe)},ke=Ee=>{je=Ee},De=()=>Me,Qe=()=>Ae,pt=async function(Ee){if(Ee===void 0&&(Ee=""),n===!0)try{if(!Ae||!k||!ft())return;const Ye=Ae.getFlatTree(),[Pe,$e]=await(0,hn.Vz)(mn.r,Ye);await(0,An.hp)("//FSS/"+e+"/"+s,new Blob([$e],{type:"application/octet-stream"}),{message:Ee,treRawSize:Pe,treSize:$e.byteLength})}catch(Ye){console.warn("saveSOS",Ee,Ye)}},at=async()=>{if(n===!0)try{const Ee=await(0,An.Ey)("//FSS/"+e+"/"+s);if(Ee.length){console.warn("[loadSOS] found "+Ee.length+" record");const{data:Ye,extra:Pe}=Ee[0];console.warn("[loadSOS] load record from "+new Date(Pe.time).toISOString());const $e=await(0,Ss.WL)(Ye),Xe=await(0,hn.BT)(mn.r,$e);return console.warn("[loadSOS] record tree: "+Xe.slowSize()),{tree:Xe,...Pe}}}catch(Ee){console.warn("loadSOS",Ee)}},vt=async()=>{if(n===!0)try{return await(0,An.EP)("//FSS/"+e+"/"+s)}catch(Ee){console.warn("freeSOS",Ee)}},ft=()=>{if(n!==!0)return!1;for(const[,,Ee]of Se)if(Ee)return!0;return!1};return{flpakKey:s,name:e,__setIsDev:Ee=>{d=Ee},onRemotePayloadSave:ae,bind:ue,useExtORPL:ke,getClockStore:De,getFlatStore:Qe,saveSOS:pt,loadSOS:at,freeSOS:vt,hasPatch:ft,preSettlePatch:()=>{if(n!==!0)return[];const Ee=[];for(const[Ye,,Pe]of Se)Pe&&Ee.push(Ye);return Ee},postSettlePatch:Ee=>{n===!0&&(Se=Se.filter(Ye=>{let[Pe,$e,Xe]=Ye;return!Xe||!Ee.includes(Pe)}))}}},Ns=(s,e,n)=>{let d,k;return{flpakKey:s,name:"[DUMMY]"+e,__setIsDev:Z=>{},onRemotePayloadSave:Z=>{let[_e,,Se]=Z;return!1},bind:async(Z,_e)=>{if(k!==void 0)throw new Error("no re-init flatStore");d=Z,k=(0,kn.b$)((0,Nt.Id)(),Z)},useExtORPL:Z=>{},getClockStore:()=>d,getFlatStore:()=>k,saveSOS:async Z=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:Z=>{}}};if(a.j!=15)var Xn=a(87385);const Tn=a.j!=15?ct.x3:null,nn=a.j!=15?ct.fm:null,On=s=>{const e=new Map;let n=!1,d=!1,k,Z,_e=()=>"";const Se=()=>{e.clear(),je()};let Me=0;const Ae=Ge=>{const Ee={socketId:Ge,index:Me++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return e.set(Ge,Ee),n=!0,Ee},je=(0,N.Ds)(async()=>{if(await(0,v.Y_)(2*1e3),k===void 0)return;const Ge=[];for(const{socketId:$e,lastStatAt:Xe}of e.values())Xe!==0&&Ge.push($e);for(const[$e,Xe,yt]of await k([s,Ge])){const xt=e.get($e)||Ae($e);xt.lastStatAt=Date.now(),xt.stat=[Xe,yt]}const[Ee,Ye,Pe]=ue;Ee&&Z&&Z([s,Ee,Tn(Ye,Pe)])},Ge=>{console.warn("_tPS",Ge)}).trigger,ze=Ge=>{let[Ee,Ye,Pe]=Ge;const[$e,Xe]=nn(Pe),yt=[$e,Xe,Ye],xt=e.get(Ee)||Ae(Ee);xt.lastCurAt=Date.now(),xt.cur=yt,xt.lastStatAt===0?je():d=!0},ae=Ge=>{let[Ee,Ye]=Ge;const Pe=e.has(Ye);Ee===0&&Pe&&(e.delete(Ye),n=!0)};let ue=["",NaN,NaN],ke=0;const De=function(Ge){Ge===void 0&&(Ge=ue[0]);const Ee=_e();if(Ee==="")return!1;for(const{socketId:Ye,cur:Pe}of e.values())if(Pe&&Pe[2]===Ge&&Ye!==Ee)return!0;return!1},Qe=function(Ge,Ee,Ye){Ee===void 0&&(Ee=ct.Ni),Ye===void 0&&(Ye=ct.Ni),!(ue[0]===Ge&&ue[1]===Ee&&ue[2]===Ye)&&(ue[0]!==Ge&&(ke=1),!(!ke&&(e.size<2||!De(Ge)))&&(ue=[Ge,Ee,Ye],ke&&ke--,Z&&Z([s,Ge,Tn(Ee,Ye)])))},pt=async(Ge,Ee,Ye)=>{if(k!==void 0)throw new Error("no re-init fetchCurStat");k=Ge,Z=Ee,_e=Ye},at=()=>{const Ge=_e(),Ee=[];if(Ge==="")return Ee;for(const{socketId:Ye,stat:Pe}of e.values()){if(Pe===void 0)continue;const[$e,Xe]=Pe;Ge===Ye?Ee.unshift([Ye,$e,Xe]):Ee.push([Ye,$e,Xe])}return Ee},vt=Ge=>{const Ee=_e(),Ye=[];if(Ee==="")return Ye;for(const{socketId:Pe,index:$e,cur:Xe,stat:yt}of e.values()){if(Ee===Pe||Xe===void 0||yt===void 0)continue;const[xt,ht,Ce]=Xe;if(Ce!==Ge||xt===ct.Ni)continue;const[Je,St]=yt;Ye.push([$e,xt,ht,Je,St])}return Ye},ft=()=>n?(n=!1,!0):!1,jt=()=>d?(d=!1,!0):!1;return{flpakKey:s,__curStatMap:e,onSocketConnect:Se,onRemoteCur:ze,onRemoteSocket:ae,hasOtherUser:De,tryPackCur:Qe,bind:pt,getRoomStat:at,getSocketStat:at,getCurStat:vt,pollRoomChg:ft,pollCurChg:jt,pollChange:jt}},yr=s=>{const e=()=>{},n=je=>{let[ze,ae,ue]=je},d=je=>{let[ze,ae]=je},k=je=>!1,Z=(je,ze,ae)=>{},_e=async(je,ze,ae)=>{},Se=()=>[],Me=je=>[],Ae=()=>!1;return{flpakKey:s,onSocketConnect:e,onRemoteCur:n,onRemoteSocket:d,hasOtherUser:k,tryPackCur:Z,bind:_e,getRoomStat:Se,getSocketStat:Se,getCurStat:Me,pollRoomChg:Ae,pollCurChg:Ae,pollChange:Ae}},js=()=>{};let br=!1;const Sr=s=>{br=s},Cr="dat",Ms="cmt",xr="mkt:dat",ks=async s=>{let{flpakKey:e,userId:n,uTag:d,token:k,passwd:Z,isDummyCmt:_e=!1,isAllowDat:Se=!1,isAllowCmt:Me=!1,isAllowCur:Ae=!1,afterStoreCreate:je=js,__fetchFlpakAsync:ze=In.T,onTransferError:ae=js}=s;const ue=tn(e,Cr,Se),ke=(_e?Ns:tn)((0,Xn.J6)(e),Ms,Me),De=(Ae?On:yr)(e);await je({fssDat:ue});const Qe=async(Ce,Je)=>{await ue.saveSOS("OTE|"+Ce+"|"+Je),await ae(Ce,Je)},pt=(0,ut.LZ)({flpakKey:e,needDat:!!Se,needCmt:!!Me,needCur:!!Ae}),at=!n||!pt?Hs():ls({query:{uId:String(n),uTag:d,rKey:pt},usePolling:br,lossyListenerMap:{[ut.NX]:Ce=>{const{payload:Je}=Ce;De.onRemoteCur(Je)}},queueListenerMap:{[ut.VU]:Ce=>{const{error:Je}=Ce;console.log("flat-ws drop-client",Je),Qe("4XX",Je)},[ut.Ei]:Ce=>{const{error:Je}=Ce;console.log("flat-ws error",Je),Qe("5XX",Je)},[ut.zS]:()=>{console.log("flat-ws (re)connected"),De.onSocketConnect()},[ut.sP]:Ce=>{const{payload:Je}=Ce;ue.onRemotePayloadSave(Je)||ke.onRemotePayloadSave(Je)||console.warn("drop save payload:",Je)},[ut.$7]:Ce=>{const{payload:Je}=Ce;console.log("flat-ws room cursor:",Je),De.onRemoteSocket(Je)}}});await at.getReadyPromise();const vt=async(Ce,Je,St)=>{try{return await ze(Ce,{token:k,passwd:Z,skipTTre:String(Je||""),skipTPbxList:(St||[]).join("")})}catch(Mt){const fn=Ln(Mt);throw gn(Mt)!=="Fch"&&(0,Pt.p)("fFS "+gn(Mt),Mt),await Qe(fn,Mt),Mt}};await Promise.all([ue.bind((0,Vt.aF)({userId:n,mtimeOffset:at.getOffsetMsec()}),vt).catch(Ce=>{throw(0,Pt.p)("bindDat",Ce),Ce}),ke.bind((0,Vt.aF)({userId:n,mtimeOffset:at.getOffsetMsec()}),vt).catch(Ce=>{throw(0,Pt.p)("bindCmt",Ce),Ce}),De.bind(async Ce=>{try{if(at.getIsConnected())return await at.emitAsync(ut.Am,Ce)}catch(Je){await(0,v.Y_)(42*1e3)}return[]},Ce=>at.getIsConnected()&&at.emitLossy(ut.pL,Ce),at.getSocketId).catch(Ce=>{throw(0,Pt.p)("bindCur",Ce),Ce})]);const ft=new Error("[tracked-error]"),jt=async Ce=>{if(!Ce.hasPatch())return;const Je=Ce.preSettlePatch(),St=(0,Bt.ok)((0,Bt.oG)(Je));for(let Mt=0,fn=St.length;Mt<fn;Mt++){const sn=St[Mt];try{await at.emitAsync(ut.s5,[Ce.flpakKey,sn.length,(0,Bt.iM)(sn)])}catch(zt){const yn=Ln(zt);throw yn==="5XX"&&(0,Pt.p)("saveFss "+gn(zt),zt,Ce.name,Ce.flpakKey,Mt+1+"/"+fn,sn),await Qe(yn,zt),ft}}Ce.postSettlePatch(Je)},Ge=(0,N.Ds)(async()=>(0,N.g7)(async()=>{await jt(ue),await jt(ke),await ue.freeSOS()},5*60*1e3,"lFFss.lA"),Ce=>{if(Ce===ft)return;const Je=Ln(Ce);(0,Pt.p)("lFFss "+gn(Ce),Ce),Promise.resolve(Qe(Je,Ce)).catch(St=>{(0,Pt.p)("lFFss "+Je+" Err",St)})}),Ee=(0,N.Ds)(async()=>{Ge.trigger(),await Ge.getRunningPromise();for(let Ce=0;Ce++<16;)!De.hasOtherUser()&&await(0,v.Y_)(1e3)});setInterval(Ee.trigger,2*1e3),Ae&&setInterval(()=>De.onSocketConnect(),20*60*1e3);const Ye=ue.getFlatStore(),Pe=(0,ds.uq)(ue.getFlatStore());ue.useExtORPL(Pe.onRemotePatchList);const $e=hr(ke.getFlatStore());ke.useExtORPL($e.onRemotePatchList);const Xe=()=>ue.hasPatch()||ke.hasPatch(),yt=(0,N.B1)(async()=>(0,N.JN)(async()=>{let Ce=0;for(;Xe();)await(0,v.Y_)(Math.min(Ce,5)*1e3),Ge.trigger(),await Ge.getRunningPromise(),Ce++})),xt=()=>globalThis.MB.getSelectionItems()[0].key,ht=(0,N.J9)(De.tryPackCur,125);return{fssDat:ue,fssCmt:ke,cssCur:De,flatSocket:at,flatStore:Ye,sdkStore:Pe,cmtStore:$e,sendCur:ht,hasSave:Xe,saveAsync:yt,theTree:function(Ce){return Ce===void 0&&(Ce=Nt.gT),console.log((0,Nt.Wr)(Ye.getFlatTree(),Ce))},hotTree:function(Ce){return Ce===void 0&&(Ce=Nt.gT),console.log(Pe.__devHotTree(Ce))},slctTree:function(Ce){return Ce===void 0&&(Ce=xt()),console.log(Pe.__devHotTree(Ce))},upTree:function(Ce,Je){return Ce===void 0&&(Ce=xt()),Je===void 0&&(Je=Nt.gT),console.log(Pe.findUpHotItemList(Ce,Je))},newFFT:async function(Ce,Je,St){return St===void 0&&(St=Je.name+"-\u4FEE\u590D\u6570\u636E"),(0,_s.N)(Ce,Je.team_cid,{...Je,name:St})},cmtTree:function(Ce){return Ce===void 0&&(Ce=Nt.gT),console.log($e.__devHotTree(Ce))}}},Ln=s=>{const e=s&&s.status;return e>=400&&e<500?"4XX":String(s).toLowerCase().includes("timeout")?"Tot":"5XX"},gn=s=>{const e=s&&s.status,n=[];e>=400&&n.push(String(e));const d=String(s).toLowerCase();return d.includes("timeout")&&n.push("Tot"),d.includes("fetch")&&n.push("Fch"),n.join("")||"Err"},Rt=async s=>{let{flpakKey:e}=s;const n=tn(e,xr,!1),d=async(Z,_e,Se)=>(0,In.T)(Z,{skipTTre:String(_e||""),skipTPbxList:(Se||[]).join("")});return await n.bind((0,Vt.aF)({}),d),{sdkStore:(0,ds.uq)(n.getFlatStore())}}},46664:(Te,oe,a)=>{"use strict";if(a.d(oe,{A1:()=>_,CH:()=>vn,Cp:()=>N.Cp,DQ:()=>Fe,E8:()=>h,F7:()=>Yt,G8:()=>ts,Gx:()=>$,Kc:()=>R,Md:()=>i,OJ:()=>y,Qs:()=>kt,Qy:()=>Ue,SD:()=>_t,Tf:()=>ee,V7:()=>L,Wr:()=>M,XG:()=>Ct,Xw:()=>te,Yu:()=>de,bX:()=>U,cn:()=>le,ct:()=>fe,dC:()=>Pn,hY:()=>he,kZ:()=>ve,l9:()=>w,ob:()=>be,qi:()=>G,s_:()=>q,sw:()=>Zt,ty:()=>Ze,up:()=>Ht,vS:()=>et,vs:()=>Ft,wR:()=>B,wZ:()=>ns,yV:()=>At,yY:()=>It,yk:()=>xn,yr:()=>u}),a.j!=15)var r=a(40684);var N=a(52781),v=a(23990),x=a(45465),T=a(48411);if(a.j!="undefined")var W=a(72907);if(a.j!=15)var b=a(79619);const P=(X,ce)=>{const ye=new Error("[NO SENTRY] "+X);return Object.assign(ye,ce),ye},R=(X,ce)=>(0,v.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+X+"&password="+ce),le=async(X,ce)=>{const ye="/api/flat/web_v1/preview/initial?access_token="+X+"&view_mode="+ce,He=await fetch(ye,{credentials:"same-origin"}),ot=await He.json();if(He.status!==200)throw P("[fetchGetHead] failed with "+He.status+": "+ye,{status:He.status,error_type:ot==null?void 0:ot.error_type});return ot},de=(X,ce)=>(0,v.SN)("/api/upper/web_v1/basics/"+X,{...ce}),ee=async()=>{let X=[];try{const ce=await(0,v.DE)("/api/library/v4/recent_keywords");ce!=null&&ce.keywords&&(X=ce==null?void 0:ce.keywords)}catch(ce){await(0,W.FY)(ce)}return X},q=()=>(0,v.sM)("/api/library/v4/recent_keywords"),$=X=>(0,v.Ds)("/api/library/v4/recent_keywords",{keyword:X}),G=async()=>{if((0,b.Z)())return z();{var X;let ce;try{ce=await(0,v.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(ye){return await(0,W.FY)(ye),{}}return{userComboGroupList:(X=ce)==null?void 0:X.user_combo_groups}}},z=async()=>{var X;let ce;try{ce=await(0,v.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(ye){return await(0,W.FY)(ye),{}}return{userComboGroupList:(X=ce)==null?void 0:X.org_combo_groups}},U=async X=>{var ce;let{orgCid:ye}=X,He;try{He=await(0,v.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+ye)}catch(ot){return await(0,W.FY)(ot),{}}return{orgComboGroupList:(ce=He)==null?void 0:ce.org_combo_groups}},u=async X=>{const{icon_group:ce,market_template:ye}=await(0,N.Yk)(X.cid),{source:He,title:ot}=ce||{},bt=await(0,v.DE)(He),Gt=x.I1[ot]||"svg",{iconGroupData:on}=(0,x.u2)(bt,Gt);return{iconGroupData:on,marketTemplate:ye}},y=async()=>{if((0,b.Z)())return m();try{const{asset_groups:X}=await(0,v.Yo)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:X}}catch(X){await(0,W.FY)(X)}},m=async()=>{const X=MB.user.solo_org.cid;try{const{asset_groups:ce}=await(0,v.Yo)("/api/library/v3/asset_data/org/asset_groups?org_cid="+X);return{userAssetGroupList:ce}}catch(ce){await(0,W.FY)(ce)}},w=async X=>{let{orgCid:ce}=X;try{const{asset_groups:ye}=await(0,v.Yo)("/api/library/v3/asset_data/org/asset_groups?org_cid="+ce);return{orgAssetGroupList:ye}}catch(ye){await(0,W.FY)(ye)}},h=async X=>{if((0,b.Z)())return j(X);try{const{asset:ce,user_asset:ye}=await(0,v.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:X});return{asset:ce,user_asset:ye}}catch(ce){await(0,W.FY)(ce)}},j=async X=>{const ce=MB.user.solo_org.cid;try{const{asset:ye,org_asset:He}=await(0,v.B7)("/api/library/v3/asset_data/org/search_by_url",{image_url:X,org_cid:ce});return{asset:ye,user_asset:He}}catch(ye){await(0,W.FY)(ye)}},M=async(X,ce)=>{try{const{asset:ye,org_asset:He}=await(0,v.B7)("/api/library/v3/asset_data/org/search_by_url",{image_url:X,org_cid:ce});return{asset:ye,org_asset:He}}catch(ye){await(0,W.FY)(ye)}},L=async X=>{if((0,b.Z)())return Y(X);try{const{user_asset_group:ce}=await(0,v.uP)("/api/library/v4/users/asset_groups/"+X.cid,{...X});return{user_asset_group:ce}}catch(ce){await(0,W.FY)(ce)}},Y=async X=>{const ce=MB.user.solo_org.cid;try{const{org_asset_group:ye}=await(0,v.uP)("/api/library/v4/orgs/asset_groups/"+X.cid,{...X,org_cid:ce});return{user_asset_group:ye}}catch(ye){await(0,W.FY)(ye)}},_=async X=>{try{const{org_asset_group:ce}=await(0,v.uP)("/api/library/v4/orgs/asset_groups/"+X.cid,{...X});return{org_asset_group:ce}}catch(ce){await(0,W.FY)(ce)}},B=async X=>{if((0,b.Z)())return re(X);try{return await(0,v.uP)("/api/library/v3/asset_data/me/assets/"+X.asset_cid,{...X})}catch(ce){await(0,W.FY)(ce)}},re=async X=>{try{return await(0,v.uP)("/api/library/v3/orgs/assets/"+X.cid+"?org_cid="+X.org_cid,{...X})}catch(ce){await(0,W.FY)(ce)}},he=async X=>{try{return await(0,v.uP)("/api/library/v3/orgs/assets/"+X.cid+"?org_cid="+X.org_cid,{...X})}catch(ce){await(0,W.FY)(ce)}},te=async X=>{let{cid:ce,name:ye,groupCid:He}=X;if((0,b.Z)())return ne({cid:ce,name:ye,groupCid:He});try{await(0,v.B7)("/api/library/v3/asset_data/me/assets",{cid:ce,name:ye,group_cid:He})}catch(ot){await(0,W.FY)(ot)}},ne=async X=>{let{cid:ce,name:ye,groupCid:He}=X;const ot=MB.user.solo_org.cid;try{await(0,v.B7)("/api/library/v3/orgs/assets?org_cid="+ot,{cid:ce,name:ye,group_cid:He})}catch(bt){await(0,W.FY)(bt)}},be=async X=>{let{orgCid:ce,cid:ye,name:He,groupCid:ot}=X;try{const bt=await(0,v.B7)("/api/library/v3/orgs/assets",{cid:ye,org_cid:ce,name:He,group_cid:ot});return bt==null?void 0:bt.cid}catch(bt){await(0,W.FY)(bt)}},ve=async X=>{let{user_asset_group_cid:ce,org_cid:ye,org_asset_group_cid:He}=X;if((0,b.Z)())return ie({user_asset_group_cid:ce,org_cid:ye,org_asset_group_cid:He});try{return(0,v.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:ce,org_cid:ye,org_asset_group_cid:He})}catch(ot){await(0,W.FY)(ot)}},ie=async X=>{let{user_asset_group_cid:ce,org_cid:ye,org_asset_group_cid:He}=X;try{return(0,v.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:ce,org_cid:ye,org_asset_group_cid:He})}catch(ot){await(0,W.FY)(ot)}},fe=async X=>{if((0,b.Z)())return Le(X);try{const{user_asset_group:ce,user_assets:ye}=await(0,v.Yo)("/api/library/v3/asset_data/me/asset_groups/"+X);return{user_asset_group:ce,userAssets:ye}}catch(ce){await(0,W.FY)(ce)}},Le=async X=>{try{const{org_asset_group:ce,org_assets:ye}=await(0,v.Yo)("/api/library/v3/orgs/asset_groups/"+X);return{user_asset_group:ce,userAssets:ye}}catch(ce){await(0,W.FY)(ce)}},Fe=async X=>{try{const{org_asset_group:ce,org_assets:ye}=await(0,v.Yo)("/api/library/v3/orgs/asset_groups/"+X);return{org_asset_group:ce,orgAssets:ye}}catch(ce){await(0,W.FY)(ce)}},Ue=async X=>{(0,b.Z)()?await We(X):await(0,v.sM)("/api/library/v3/asset_data/me/assets/"+X.cid)},We=async X=>{await(0,v.sM)("/api/library/v3/orgs/assets/"+X.cid+"?org_cid="+X.org_cid)},et=async X=>{await(0,v.sM)("/api/library/v3/orgs/assets/"+X.cid+"?org_cid="+X.org_cid)},Ze=async X=>{(0,b.Z)()?await nt(X):await(0,v.sM)("/api/library/v3/asset_data/me/asset_groups/"+X)},nt=async X=>{await(0,v.sM)("/api/library/v3/orgs/asset_groups/"+X)},At=async X=>{await(0,v.sM)("/api/library/v3/orgs/asset_groups/"+X)},_t=X=>(0,v.iv)("/preferences/update",{...X}),kt=async(X,ce)=>{if((0,b.Z)())return Tt(X,ce);try{return await(0,v.uP)("/api/library/v4/users/asset_groups/"+X,{...ce})}catch(ye){await(0,W.FY)(ye)}},Tt=async(X,ce)=>{const ye=MB.user.solo_org.cid;try{return await(0,v.uP)("/api/library/v4/orgs/asset_groups/"+X,{...ce,org_cid:ye})}catch(He){await(0,W.FY)(He)}},Ct=X=>async(ce,ye)=>{try{const He={...ye,org_cid:X};return await(0,v.uP)("/api/library/v4/orgs/asset_groups/"+ce,{...He})}catch(He){await(0,W.FY)(He)}},It=async(X,ce)=>{let ye=null;try{const He=await(0,v.Yo)("/api/community/v1/workspace?category="+X+"&plabel="+ce);He!=null&&He.market_templates&&(ye=He==null?void 0:He.market_templates)}catch(He){await(0,W.FY)(He)}return ye},i=async(X,ce)=>{let ye=null;try{const He=ce.name===T.bp.All?"&scene_tag="+X:"&scene_tag="+X+"&plabel="+ce.name+"&plabel_id="+ce.id,ot=await(0,v.Yo)("/api/community/v1/workspace/v8_combos?category="+r.t_+He);ot!=null&&ot.market_templates&&(ye=ot==null?void 0:ot.market_templates)}catch(He){await(0,W.FY)(He)}return ye},Yt=async X=>{let ce=null;try{const ye=await(0,v.DE)("/flpak/ww-p2wsearch?"+X);ye!=null&&ye.data&&(ce=ye)}catch(ye){await(0,W.FY)(ye)}return ce},Ft=async X=>{let ce=null;try{const ye=await(0,v.DE)("/flpak/ww-p2meta/"+X);ye!=null&&ye.length&&(ce=ye)}catch(ye){await(0,W.FY)(ye)}return ce},ts=async X=>{let{currentComboPanel:ce,projectMetaCid:ye}=X;try{await(0,v.zi)("/flpak/ww-migrate-"+ce+"-combo-group/"+ye+"?mode=normal")}catch(He){await(0,W.FY)(He)}},xn=async X=>{let{projectBasicCid:ce}=X;try{const{userId:ye,flatKey:He}=await(0,v.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+ce);return{userId:ye,flatKey:He}}catch(ye){await(0,W.FY)(ye)}},vn=async X=>{let{projectBasicCid:ce,accessToken:ye,password:He}=X;try{const{userId:ot,flatKey:bt}=await(0,v.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+ce+"&access_token="+ye+"&password="+He);return{userId:ot,flatKey:bt}}catch(ot){await(0,W.FY)(ot)}},Ht=X=>(0,v.DE)("/api/dashboard/v5/orgs/"+X),Zt=async X=>{const{project:ce}=await(0,v.DE)("/api/dashboard/v5/projects/"+X);return ce},ns=async X=>(0,v.DE)("/api/upper/web_v1/basics/statstics/"+X),Pn=async()=>{try{const{result:X}=await(0,v.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return X}catch(X){console.log(X)}}},52781:(Te,oe,a)=>{"use strict";if(a.d(oe,{$r:()=>de,$z:()=>b,Cp:()=>$,Jv:()=>U,Uy:()=>le,Wu:()=>T,X:()=>R,Yk:()=>P,ZF:()=>z,a3:()=>W,je:()=>u,rd:()=>G}),a.j!=15)var r=a(23990);if(a.j!=15)var N=a(72907);var v=a(204);const x=300,T=async function(y){y===void 0&&(y="");const m=1;let w=[];try{const h=await(0,r.Yo)("/api/community/v1/workspace/my_star?page="+m+(y&&"&category="+y)+"&page_size="+x);h&&(w=h==null?void 0:h.market_templates.filter(j=>(j==null?void 0:j.version)!=="v1"))}catch(h){await(0,N.FY)(h)}return w.map(h=>({...h,is_star:!0}))},W=async y=>{try{await(0,r.Ds)("/api/community/v1/market_template/star/"+y)}catch(m){await(0,N.FY)(m)}},b=async y=>{try{await(0,r.DW)("/api/community/v1/market_template/star/"+y)}catch(m){await(0,N.FY)(m)}},P=async function(y,m){m===void 0&&(m=!0);let w;try{w=await(0,r.DE)("/api/community/v1/market_template/"+y)}catch(h){m&&(0,N.ai)(h)}return w},R=function(y){return y===void 0&&(y=""),(0,r.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+y+"&page_size="+x)},le=async()=>{let y;try{y=await(0,r.DE)("/flpak/ww-p2recent")}catch(m){return await(0,N.FY)(m),m}return y},de=()=>(0,r.DE)("/api/community/v1/hot_icons"),ee=y=>{let{category:m="combo_group",keyword:w=""}=y;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+m+"?q="+encodeURIComponent(w))},q={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},$=y=>{let{projectUpperType:m="",projectUpperCid:w="",itemCid:h=""}=y;return(0,r.Ds)("/api/community/v1/recent_template",{project_upper_type:q[m]||m,project_upper_cid:w,item_cid:h})},G=async y=>{const{sdkStore:m}=await(0,v.O3)({flpakKey:y});return m},z=async function(y){y===void 0&&(y="mobile");try{return(await(0,r.DE)("/api/market_template/v4/workspace/new_page_types?platform="+y)).types}catch(m){return await(0,N.FY)(m),[]}},U=async function(y){y===void 0&&(y="mobile");try{return await(0,r.DE)("/api/community/v1/workspace/recommend_page?platform="+y)}catch(m){return await(0,N.FY)(m),{}}},u=async y=>{let{platform:m,firstTypeCid:w,secondTypeCid:h=null}=y;const j={first_type_cid:w,second_type_cid:h,platform:m};let M=new URLSearchParams;M=Object.assign(M,j);for(const[L,Y]of Object.entries(M))Y?Y==="default"?M.delete(L):M.set(L,Y):M.delete(L);try{return(0,r.DE)("/flpak/ww-p2pagemkt?"+M.toString())}catch(L){return await(0,N.FY)(L),{}}}},15668:(Te,oe,a)=>{"use strict";a.d(oe,{Oc:()=>T,Qi:()=>R,R1:()=>ee,jf:()=>W,jn:()=>b,lV:()=>G,tA:()=>P});var r=a(51044),N=a(82152),v=a(7758),x=a(57464);const T=(0,r.memo)(z=>{let{type:U="linear",className:u,disabled:y=!1,size:m="common",corner:w="smooth",forceTheme:h,children:j,onClick:M}=z;return(0,x.jsx)(N.Yr,{type:U,className:u,disabled:y,size:m,corner:w,forceTheme:h,onClick:M,children:j})}),W=a.j!=15?(0,r.memo)(z=>{let{type:U="linear",className:u,disabled:y=!1,size:m="common",corner:w="smooth",icon:h,children:j,forceTheme:M,onClick:L}=z;return(0,x.jsx)(N.hE,{type:U,className:u,disabled:y,size:m,corner:w,icon:h,forceTheme:M,onClick:L,children:j})}):null,b=(0,r.memo)(z=>{let{className:U,children:u,disabled:y=!1,onClick:m}=z;return(0,x.jsx)(N.Yr,{type:"primary",size:"common",className:U,disabled:y,onClick:m,children:u})}),P=z=>{let{className:U,children:u,disabled:y=!1,onClick:m}=z;return(0,x.jsx)(N.Yr,{type:"secondary",size:"common",className:U,disabled:y,onClick:m,children:u})},R=(0,r.memo)(z=>{let{className:U,children:u,disabled:y=!1,onClick:m}=z;return(0,x.jsx)(N.Yr,{type:"danger",size:"common",className:U,disabled:y,onClick:m,children:u})}),le=null,de=null,ee=a.j==467?(0,r.memo)(z=>{let{className:U,children:u,disabled:y=!1,onClick:m}=z;return(0,x.jsx)(N.Yr,{type:"primary",size:"tiny",corner:"soft",className:U,disabled:y,onClick:m,children:u})}):null,q=null,$=null,G=a.j!=15?(0,r.memo)(z=>{let{className:U,isLoading:u=!1,children:y,disabled:m=!1,onClick:w}=z;return(0,x.jsx)(N.hE,{type:"secondary",size:"tiny",corner:"soft",className:U,icon:u?(0,x.jsx)(v.C,{name:"general/loading",className:"btn-loading"}):null,disabled:m,onClick:w,children:y})}):null},82152:(Te,oe,a)=>{"use strict";a.d(oe,{Yr:()=>b,hE:()=>P,in:()=>W});var r=a(21676),N=a(12660),v=a(80467),x=a(81486);const T=(R,le)=>{const de=R.forceTheme;return de?x.f[le]["value_"+de]:R.theme[le]},W=(0,r.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],R=>T(R,"color_text_btn"),R=>T(R,"color_btn_primary_normal"),R=>T(R,"color_btn_primary_hover"),R=>T(R,"color_btn_primary_clicked"),R=>T(R,"color_text_disabled02"),R=>T(R,"color_btn_primary_disabled"),R=>T(R,"color_text_L1"),R=>T(R,"color_bg_white"),R=>T(R,"color_bg_line"),R=>T(R,"color_btn_secondary_hover"),R=>T(R,"color_bg_line"),R=>T(R,"color_btn_secondary_active"),R=>T(R,"color_bg_line"),R=>T(R,"color_text_disabled01"),R=>T(R,"color_bg_white"),R=>T(R,"color_bg_line"),R=>T(R,"color_text_btn"),R=>T(R,"color_btn_danger_normal"),R=>T(R,"color_btn_danger_hover"),R=>T(R,"color_btn_danger_clicked"),R=>T(R,"color_text_disabled02"),R=>T(R,"color_btn_danger_disabled"),R=>T(R,"color_text_L1"),R=>T(R,"color_btn_secondary_hover"),R=>T(R,"color_btn_secondary_active"),R=>T(R,"color_text_disabled01")),b=(0,r.Ay)(N.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1w5kpr3-0"})(["",";"],W),P=(0,r.Ay)(v.A).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1w5kpr3-1"})(["",";"],W)},31921:(Te,oe,a)=>{"use strict";a.d(oe,{Tw:()=>de,ft:()=>ee});var r=a(51044),N=a(57464);const v="/mb-static/2308/loading.gif",x="/mb-static/2308/loading-mo.gif",T=(q,$)=>$?"."+q:q,W=q=>_jsx("img",{className:q.className,alt:"Loading...",src:T(q.isMockitt?x:v,q.isHtmlZip)}),b=q=>(0,N.jsx)("img",{className:q.className,alt:"Loading...",src:T(ENV.IS_WONDER_SHARE?x:v,q.isHtmlZip)}),P=q=>(0,N.jsx)("img",{className:q.className,alt:"Loading...",src:T(x,q.isHtmlZip)});var R=a(23024);const le=null,de=a.j!=15?(0,r.memo)(q=>(0,N.jsx)(b,{...q,isHtmlZip:(0,R.FM)()})):null,ee=(0,r.memo)(q=>(0,N.jsx)(P,{...q,isHtmlZip:(0,R.FM)()}))},54608:(Te,oe,a)=>{"use strict";a.d(oe,{n:()=>le,A:()=>de});var r=a(51044),N=a(86634),v=a.n(N),x=a(7758),T=a(11777),W=a(21676);const b=W.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-1a6p3ca-0"})(["display:flex;height:100%;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:1;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:",";}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}"],ee=>ee.theme.color_text_L2,ee=>ee.theme.color_text_L1,ee=>ee.theme.color_text_L1,ee=>ee.theme.color_bg_card,ee=>ee.theme.color_text_L1,ee=>ee.theme.color_text_disabled01);var P=a(57464);const R=(0,r.memo)(ee=>{let{activeIndex:q=0,className:$,children:G,onTabChange:z}=ee;return(0,P.jsx)(b,{className:v()($),children:r.Children.map(G,(U,u)=>{const y={index:u,active:u===q,onClick:z};return r.cloneElement(U,y)})})}),le=(0,r.memo)(ee=>{let{className:q,index:$,active:G,onClick:z,label:U,tooltip:u,isNew:y,disabled:m,tempDisabled:w}=ee;const h=()=>{if(m)return w&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;z($)},j=(0,P.jsxs)("li",{className:v()("nav-item",{active:G},{disabled:m},q),onClick:h,children:[U&&(0,P.jsxs)("span",{className:"nav-label",children:[U,u&&u]}),y&&(0,P.jsx)(x.C,{name:"design/tab/new",className:"tabNewIcon"})]});return m?(0,P.jsx)(T.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:j}):j}),de=R},3895:(Te,oe,a)=>{"use strict";a.d(oe,{FU:()=>x,OO:()=>b,Z8:()=>N,au:()=>W,lY:()=>T,p_:()=>v,zB:()=>r});const r={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},N={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},v={org_owner:r.OWNER,org_manager:r.SUPERMANAGER,org_admin:r.MANAGER,org_member:r.MEMBER,org_viewer:r.VIEWER},x={space_owner:r.MANAGER,space_manager:r.MANAGER,space_member:r.MEMBER,space_viewer:r.VIEWER,space_limiter:r.LIMITER},T={team_owner:r.MANAGER,team_manager:r.MANAGER,team_member:r.MEMBER,team_viewer:r.VIEWER,team_none:r.VIEWER,team_ban_viewer:r.BANNED},W=Object.assign({project_owner:r.MANAGER,project_team_owner:r.MANAGER,project_manager:r.MANAGER,project_member:r.MEMBER,project_viewer:r.VIEWER,project_none:r.VIEWER,project_ban_viewer:r.BANNED},T),b={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},P={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},96510:(Te,oe,a)=>{"use strict";a.d(oe,{s:()=>de});var r=a(23990);const N=async(ee,q)=>{const{project:$}=await(0,r.zi)("/api/dashboard/v5/projects/"+ee+"/invite",q);return $},v=async(ee,q)=>(0,r.SN)("/api/dashboard/v5/permissions/projects/"+ee,q),x=async(ee,q)=>{await(0,r.uz)("/api/dashboard/v5/permissions/projects/"+ee,q)};var T=a(15573),W=a(61654),b=a(50378);const P=async(ee,q)=>await(0,r.DE)("/api/dashboard/v5/spaces/"+ee+"?org_cid="+q),R={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let le=function(ee){return ee.Org="org",ee.OrgSpace="space",ee.Folder="folder",ee.Project="project",ee}({});const de={"entry:projectAccess:initProjectData":async(ee,q)=>{let{getState:$,dispatch:G}=ee,{payload:z}=q;try{const{initData:U,members:u}=z,y=U==null?void 0:U.org,{user:m,space:w,project:h,team:j,top_parent_team:M,lang:L}=U||{},Y=new Map,_=new Map;return Y.set(j==null?void 0:j.cid,j),Y.set(M==null?void 0:M.cid,M),j!=null&&j.parent_cid&&(j==null?void 0:j.parent_cid)!==M.cid&&Y.set(j==null?void 0:j.parent_cid,M),_.set(h==null?void 0:h.cid,h),G({type:b.X2.UpdateState,payload:{user:m,org:{...y,members:u},space:w,folderListMap:Y,projectListMap:_,lang:L}}),!0}catch(U){return console.error(U.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(ee,q)=>{let{getState:$,dispatch:G}=ee,{payload:z}=q;const{projectCid:U,userCid:u,roleName:y,userName:m}=z;if(!U||!u)return;const w=$(),h=(0,W.IE)(w),j=(0,W.M0)(w),M=(0,W._B)(w);try{const L=await N(U,{user_cid:u,role:y}),{space:Y}=await P(j,h);M.set(L.cid,L),await G({type:b.X2.UpdateProjectListMap,payload:new Map(M)}),await G({type:b.X2.UpdateSpace,payload:Y}),window.top.postMessage({type:"updateApp",data:{newApp:(0,T.A)(L)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:m,other:R[y]}}},"*")}catch(L){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(ee,q)=>{let{getState:$,dispatch:G}=ee,{payload:z}=q;const{projectCid:U,userId:u,roleName:y,userName:m}=z,w=$();try{const{permission:h}=await v(U,{target_role:y,target_user_id:u}),j=(0,W._B)(w),M=j.get(U),L=(M==null?void 0:M.permissions)||[],Y=L.find(re=>Number(re.user_id)===Number(u));let _=[];Y?_=L.map(re=>Number(re.user_id)===Number(u)?h:re):_=[...L,h];const B={...M,permissions:_};j.set(U,B),await G({type:b.X2.UpdateProjectListMap,payload:new Map(j)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,T.A)(B)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:m,other:R[y]}}},"*")}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(ee,q)=>{let{getState:$,dispatch:G}=ee,{payload:z}=q;const{projectCid:U,userId:u,roleName:y,userName:m}=z,w=$();try{await x(U,{target_role:y,target_user_id:u});const h=(0,W._B)(w),j=h.get(U),M=(j==null?void 0:j.permissions)||[];if(M.find(Y=>Number(Y.user_id)===Number(u))){const Y=M.filter(B=>Number(B.user_id)!==Number(u)),_={...j,permissions:Y};h.set(U,_),await G({type:b.X2.UpdateProjectListMap,payload:new Map(h)}),window.top.postMessage({type:"successMsg",data:{msg:{name:m,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,T.A)(_)}},"*")}}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},50378:(Te,oe,a)=>{"use strict";a.d(oe,{Ay:()=>x,X2:()=>N});const r={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let N=function(T){return T.UpdateState="reducer:update:user",T.UpdateUser="reducer:update:user",T.UpdateOrg="reducer:update:org",T.UpdateSpace="reducer:update:space",T.UpdateFolderListMap="reducer:update:folderListMap",T.UpdateProjectListMap="reducer:update:projectListMap",T}({});const x=function(T,W){T===void 0&&(T=r);const{type:b,payload:P}=W;switch(b){case N.UpdateState:return{...T,...P};case N.UpdateUser:return{...T,user:{...T.user,...P}};case N.UpdateOrg:return{...T,org:{...T.org,...P}};case N.UpdateSpace:return{...T,space:{...T.space,...P}};case N.UpdateFolderListMap:return{...T,folderListMap:P};case N.UpdateProjectListMap:return{...T,projectListMap:P};default:return T}}},61654:(Te,oe,a)=>{"use strict";a.d(oe,{IE:()=>W,M0:()=>le,WR:()=>x,XW:()=>ee,_B:()=>q,cb:()=>$,hG:()=>U,iF:()=>de,il:()=>R,kG:()=>P,q7:()=>y,wA:()=>T,yZ:()=>G});var r=a(63686),N=a(59318),v=a(37673);const x=m=>{var w;return(w=m.projectAccess.user)==null?void 0:w.user_id},T=m=>m.projectAccess.org,W=m=>{var w;return((w=m.projectAccess.org)==null?void 0:w.cid)||""},b=m=>{var w;return((w=m.projectAccess.org)==null?void 0:w.members)||[]},P=m=>{var w;return((w=m.projectAccess.org)==null?void 0:w.permissions)||[]},R=m=>m.projectAccess.space,le=m=>m.projectAccess.space.cid,de=m=>m.projectAccess.space.permissions||[],ee=m=>m.projectAccess.folderListMap||new Map,q=m=>m.projectAccess.projectListMap||new Map,$=(0,r.Mz)(x,P,(m,w)=>(0,N.oE)({userId:m,orgPermissions:w})),G=(0,r.Mz)(x,de,(m,w)=>(0,N.sq)({userId:m,spacePermissions:w})),z=(0,r.Mz)(de,m=>{const w=(0,N.Rc)(m);return m.reduce((h,j)=>{const{user_id:M}=j,L=(0,N.CF)({userId:M,permissionsMap:w,permissionScope:v.W.OrgSpace});return h.set(Number(M),L)},new Map)}),U=(0,r.Mz)(de,m=>m.filter(h=>h.role==="space_limiter").reduce((h,j)=>{const{user_id:M}=j;return h.set(Number(M),j)},new Map)),u=(0,r.Mz)(b,m=>m.reduce((w,h)=>{const{user_id:j,user_cid:M,email:L,mobile:Y}=h;return j&&M?w.set(Number(j)||j,{...h}):(L&&w.set(L,{...h}),Y&&w.set(Y,{...h}),w)},new Map)),y=(0,r.Mz)(P,u,(m,w)=>m.reduce((h,j)=>{const{user_id:M,unsign_remark:L}=j,Y=M||L,_=w.get(Y)||{},B=(0,N.Sc)(j);return h.set(Y,{..._,permission:B})},new Map))},37673:(Te,oe,a)=>{"use strict";a.d(oe,{W:()=>r,p:()=>N});let r=function(v){return v.Org="org",v.OrgSpace="space",v.Folder="folder",v.Project="project",v}({}),N=function(v){return v.OrgSpace="orgspace-permission-tip",v.OrgSpaceLimiter="orgspace-limiter-permission-tip",v.RootFolder="root-folder-permission-tip",v.SubFolder="sub-folder-permission-tip",v.Project="project-permission-tip",v}({})},15573:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>x,u:()=>v});var r=a(63924),N=a.n(r);const v=(T,W)=>{if(!(T!=null&&T.cid))return-1;let b=0,P="",R=T;for(;R&&!R.root_project&&(b=b+1,P=R.parent_cid,!!P);)R=W.get(P);return b};function x(T){return T&&Object.entries(T).reduce((W,b)=>{let[P,R]=b;return Object.assign(W,{[N()(P)]:R})},{})}},59318:(Te,oe,a)=>{"use strict";a.d(oe,{CF:()=>U,CZ:()=>x,Cj:()=>le,Rc:()=>z,Sc:()=>b,oE:()=>de,ox:()=>W,pf:()=>G,sq:()=>ee});var r=a(3895),N=a(37673);const v=function(u,y,m){return m===void 0&&(m=!1),{level:u,roleName:y,isInherited:m,isOwner:u>=r.zB.OWNER,isSuperManager:u>=r.zB.SUPERMANAGER,isManager:u>=r.zB.MANAGER,isMember:u>=r.zB.MEMBER,isViewer:u>=r.zB.VIEWER,isLimiter:u===r.zB.LIMITER,isBanned:u===r.zB.BANNED,isUnknown:u===r.zB.UNKNOWN}},x=v(r.zB.UNKNOWN),T=v(r.zB.UNJOINED),W=(u,y)=>{if(!y||y.length<=0)return null;const m=y.find(w=>{let{user_id:h,unsign_remark:j}=w;return Number(h)===Number(u)||j===u});return m||null},b=u=>u?v(r.p_[u.role],u.role):v(r.zB.UNKNOWN),P=(u,y)=>{if(!u)return[];let m=[],w=u,h=y.get(w);for(;h&&!h.root_project;)m=m.concat(h.permissions),w=h.parent_cid,h=y.get(w);return m},R=(u,y,m)=>{let w=P(u,y);return w=w.concat(m).reverse(),w=w.filter(h=>h.role!=="space_limiter"),w.map(h=>{const j=folderInheritePermissionRoleFixMap[h.role];return j?{...h,role:j,inherited:!0}:{...h,inherited:!0}})},le=(u,y,m)=>{let w=P(u,y);return w=w.concat(m).reverse(),w=w.filter(h=>h.role!=="space_limiter"),w.map(h=>{const j=r.OO[h.role];return j?{...h,role:j,inherited:!0}:{...h,inherited:!0}})},de=u=>{const{orgPermissions:y,userId:m}=u;if(!m||!y||y.length<1)return v(r.zB.UNKNOWN);const w=W(m,y);return w?v(r.p_[w.role],w.role):v(r.zB.UNKNOWN)},ee=u=>{const{spacePermissions:y,userId:m}=u;if(!m||!y||y.length<1)return v(r.zB.UNKNOWN);const w=W(m,y);return w?v(r.FU[w.role],w.role):v(r.zB.UNKNOWN)},q=u=>{const{userId:y,orgPermissions:m,spacePermissions:w,currentFolder:h,folderListMap:j}=u;if(!y||!h)return v(permissionLevels.UNKNOWN);const{org_cid:M,space_cid:L}=h;if(!M&&!L)return v(permissionLevels.OWNER,"team_owner");if(!w||w.length<1)return v(permissionLevels.UNKNOWN);const{isRoot:Y,root_project:_}=h;if(Y||_){const ne=ee({spacePermissions:w,userId:y});return ne.roleName==="space_limiter"?{...de({orgPermissions:m,userId:y}),isLimiter:!0}:ne}const B=h.permissions||[],re=R(h.parent_cid,j,w),he=Object.values(Object.fromEntries([...re,...B].map(ne=>[ne.user_id,ne]))),te=W(y,he);return te?v(folderPermissionLevelsMap[te.role],te.role,te.inherited):v(permissionLevels.UNKNOWN)},$=u=>{const{userId:y,spacePermissions:m,currentProject:w,folderListMap:h}=u;if(!y||!w)return v(permissionLevels.UNKNOWN);const{space_cid:j}=w;if(!j)return v(permissionLevels.OWNER,"project_owner");if(!m||m.length<1)return v(permissionLevels.UNKNOWN);const M=w.permissions||[],L=le(w.team_cid,h,m),Y=Object.values(Object.fromEntries([...L,...M].map(B=>[B.user_id,B]))),_=W(y,Y);return _?v(projectPermissionLevelsMap[_.role],_.role,_.inherited):v(permissionLevels.UNKNOWN)},G=function(u,y,m){return m===void 0&&(m=!1),y?typeof y[u]<"u"?v(y[u],u,m):v(r.zB.UNJOINED):v(r.zB.UNKNOWN)},z=u=>!u||u.length<1?new Map:u.reduce((y,m)=>y.set(Number(m.user_id),m),new Map),U=u=>{const{permissionsMap:y,userId:m,permissionScope:w}=u;if(!m||!y||y.size<1)return v(r.zB.UNKNOWN);const{role:h,inherited:j}=y.get(Number(m))||{};if(!h)return v(r.zB.UNKNOWN);let M=null;switch(w){case N.W.Org:M=r.p_;break;case N.W.OrgSpace:M=r.FU;break;case N.W.Folder:M=r.lY;break;case N.W.Project:M=r.au;break;default:break}return G(h,M,j)}},70260:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>u});var r=a(51044),N=a(21676),v=a(66748),x=a.n(v),T=a(98236),W=a.n(T),b=a(22718);const P=N.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1kbzuk3-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),R=(0,N.Ay)(P).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1kbzuk3-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),le=N.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1kbzuk3-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var de=a(57464);function ee(y,m,w){return m=q(m),m in y?Object.defineProperty(y,m,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[m]=w,y}function q(y){var m=$(y,"string");return typeof m=="symbol"?m:String(m)}function $(y,m){if(typeof y!="object"||!y)return y;var w=y[Symbol.toPrimitive];if(w!==void 0){var h=w.call(y,m||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(y)}class G extends r.PureComponent{constructor(){super(...arguments),ee(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),ee(this,"onToggle",()=>{const{name:m,value:w,label:h,onToggle:j,onChange:M}=this.props,{isChecked:L}=this.state,{canToggle:Y}=this,_=Y?!0:L;this.setState({isChecked:_}),j(_,m,w||h),M(m,w||h,_)})}static getDerivedStateFromProps(m,w){let{prevProps:h,isChecked:j}=w;return W()(h,m)?null:{prevProps:m,isChecked:m.isChecked}}get isDisabled(){const{isDisabled:m,disabled:w}=this.props;return m||w}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:m,readOnly:w}=this;return!m&&!w}render(){const{size:m,theme:w,className:h,label:j,name:M}=this.props,{isChecked:L}=this.state,{isDisabled:Y,readOnly:_}=this;return(0,de.jsxs)(R,{className:(0,b.Hn)([w==="core"?"CoreRadio":"Radio",m,h,L&&"is-checked",Y&&"is-disabled",_&&"readonly"]),children:[(0,de.jsx)("input",{type:"radio",defaultChecked:L,disabled:Y,name:M,onClick:this.onToggle}),(0,de.jsx)("span",{className:"Check-state"}),(0,de.jsx)("span",{className:"Check-label",children:j})]})}}ee(G,"propTypes",{size:x().oneOf(["regular","small"]),theme:x().oneOf(["core","plain"]),className:x().string,label:x().any,name:x().string,value:x().any,isChecked:x().bool,isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,onChange:x().func.isRequired,onToggle:x().func.isRequired}),ee(G,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class z extends r.PureComponent{constructor(){super(...arguments),ee(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),ee(this,"state",{prevProps:this.props,value:this.props.value}),ee(this,"createOnChangeHandler",(m,w,h)=>()=>{const{onToggle:j,onChange:M}=this.props,{value:L}=this.state,{canToggle:Y}=this,_=Y?w:L;this.setState({value:_}),j(_,m),M({name:m,value:_,idx:h})})}static getDerivedStateFromProps(m,w){let{prevProps:h,value:j}=w;return W()(h,m)?null:{prevProps:m,value:m.value}}get isDisabled(){const{isDisabled:m,disabled:w}=this.props;return m||w}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:m,readOnly:w}=this;return!m&&!w}render(){const{size:m,theme:w,className:h,optionList:j}=this.props,{value:M}=this.state,{name:L,isDisabled:Y,readOnly:_}=this,B=(0,b.Hn)([w==="core"?"CoreRadioGroup":"RadioGroup",m,h,Y&&"is-disabled",_&&"readonly"]);return(0,de.jsx)(le,{className:B,children:j.map((re,he)=>re&&(0,de.jsx)(G,{name:L,size:m,theme:w,label:(0,b.Oi)(re),type:"radio",isChecked:(0,b.o3)(re,M),isDisabled:Y||re.isDisabled,readOnly:_,onChange:Y||re.isDisabled?void 0:this.createOnChangeHandler(L,(0,b.nE)(re),he)},he))})}}ee(z,"propTypes",{size:x().oneOf(["regular","small"]),theme:x().oneOf(["core","plain"]),className:x().string,name:x().string,optionList:x().arrayOf(x().oneOfType([x().string,x().number,x().shape({label:x().any,value:x().any,isDisabled:x().bool})])).isRequired,value:x().oneOfType([x().number,x().string]),isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,onChange:x().func.isRequired,onToggle:x().func.isRequired}),ee(z,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const U=(0,N.Ay)(z).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1mmciik-0"})([".Radio{color:",";&.is-checked{color:",";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],y=>y.theme.color_text_L2,y=>y.theme.color_text_L1,y=>y.theme.color_proto,y=>y.theme.color_bg_white,y=>y.theme.color_text_disabled01,y=>y.theme.color_bg_white,y=>y.theme.color_bg_white);class u extends r.PureComponent{render(){return(0,de.jsx)(U,{...this.props})}}},54176:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>G});var r=a(51044),N=a(21676),v=a(66748),x=a.n(v),T=a(98236),W=a.n(T),b=a(22718);const P=N.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-du1ivp-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var R=a(57464);function le(z,U,u){return U=de(U),U in z?Object.defineProperty(z,U,{value:u,enumerable:!0,configurable:!0,writable:!0}):z[U]=u,z}function de(z){var U=ee(z,"string");return typeof U=="symbol"?U:String(U)}function ee(z,U){if(typeof z!="object"||!z)return z;var u=z[Symbol.toPrimitive];if(u!==void 0){var y=u.call(z,U||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(z)}class q extends r.PureComponent{constructor(){super(...arguments),le(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),le(this,"toggle",U=>{let{target:u}=U;const{onChange:y}=this.props,{isChecked:m}=this.state,{isDisabled:w,canToggle:h}=this,j=h?!m:m;return u.blur(),this.setState({isChecked:j}),!w&&y(j)})}static getDerivedStateFromProps(U,u){let{prevProps:y}=u;return W()(y,U)?null:{prevProps:U,isChecked:U.isChecked}}get isDisabled(){const{isDisabled:U,disabled:u}=this.props;return U||u}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:U,readOnly:u}=this;return!U&&!u}render(){const{size:U,readOnly:u,className:y,children:m,isIOS:w,isIOSReverse:h}=this.props,{isChecked:j}=this.state,{isDisabled:M}=this;return(0,R.jsxs)(P,{className:(0,b.Hn)(["Switch",w&&"Switch-IOS",h&&"Switch-IOS-NoTransform",U,j?"is-checked":"isnt-checked",M&&"is-disabled",u&&"readonly",y]),children:[(0,R.jsx)("button",{type:"button",disabled:M,onClick:this.toggle}),m]})}}le(q,"propTypes",{className:x().string,size:x().oneOf(["regular","small"]),isChecked:x().bool,isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,isIOS:x().bool,isIOSReverse:x().bool,onChange:x().func,children:x().any}),le(q,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const $=(0,N.Ay)(q).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-14ktgxw-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.is-checked{&.small{background:",";button{background:",";}}}}"],z=>z.theme.color_text_disabled01,z=>z.theme.color_text_btn,z=>z.theme.color_proto,z=>z.theme.color_text_btn);class G extends r.PureComponent{render(){return(0,R.jsx)($,{...this.props})}}},48411:(Te,oe,a)=>{"use strict";a.d(oe,{P8:()=>ee,CY:()=>le,ZQ:()=>de,bp:()=>R,Qv:()=>P,c3:()=>b,nh:()=>q,HI:()=>G,YN:()=>T,HP:()=>U,GT:()=>y});const r={Mobile:"mobile",PC:"pc",Pad:"pad",DisplayScreen:"display_screen",SmartTV:"smart_tv",SmartCar:"smart_car",Hmi:"hmi",Watch:"watch",Slide:"slide",Customize:"customize"},N={Mobile:"mobile",Web:"web",Other:"other",App:"app",Applet:"applet",Website:"website",WebBack:"web_back",Ipad:"ipad",SmartTV:"smart_tv",AppleWatch:"apple_watch",Slide:"slide",DisplayScreen:"display_screen",HMI:"HMI",Activity:"activity"},v={MP_App:"MP-app",MP_IOS:"MP-ios",MP_Android:"MP-android",MP_Applet:"MP-applet",MP_H5:"MP-h5",MP_Public:"MP-public",MP_ECommerce:"MP-e_commerce",MP_Poster:"MP-poster",PC_Website:"PC-web",PC_WebBack:"PC-web_back",PC_MacOS:"PC-mac",PC_Windows:"PC-win",PAD_IpadOs:"PAD-ipad",PAD_Android:"PAD-android",TV_AppleTVOS:"TV-apple",TV_AndroidTV:"TV-android",CAR_Car:"CAR-car",HMI_IndusHmi:"HMI-indus_hmi",HMI_Car:"HMI-car",WATCH_Apple:"WATCH-apple",WATCH_Android:"WATCH-android",SLIDE_Slide:"SLIDE-slide",DS_Screen:"DS-screen",Customize:"customize",DS_Customize:"DS-customize",HMI_Customize:"HMI-customize"},x={[r.Mobile]:[v.MP_App,v.MP_Applet,v.MP_H5,v.MP_Public,v.MP_IOS,v.MP_Android],[r.PC]:[v.PC_Website,v.PC_WebBack,v.PC_MacOS,v.PC_Windows],[r.Pad]:[v.PAD_IpadOs,v.PAD_Android],[r.DisplayScreen]:[v.DS_Screen],[r.SmartTV]:[v.TV_AppleTVOS,v.TV_AndroidTV],[r.Hmi]:[v.HMI_IndusHmi,v.HMI_Car],[r.Watch]:[v.WATCH_Apple,v.WATCH_Android],[r.Slide]:[v.SLIDE_Slide]},T=()=>{const m=I18N.Resources.basic_widget,w=I18N.Resources.form_widget,h=I18N.Resources.nav_widget,j=I18N.Resources.chart_widget,M=I18N.Resources.advanced_chart_widget,L=I18N.Resources.multimedia_widget,Y=I18N.Resources.shape_widget;return{basic:m,form:w,navigation:h,chart:j,advancedChart:M,multimedia:L,shape:Y}},W={...r,Common:"common"},b={...v,Common:"common"},P={...x,[W.Common]:[b.Common]},R={All:"all",More:"more"},le={[b.MP_App]:{mt2lozhvvrwd9qh3y:1,mt2lozhjwat9i4s4f:2,mt2lozn2pekekuj9o:3,mt2lozkjwaxx5sc6l:4,mt2lozkqyxzboszxp:5,mt2lozkx5obr587d4:6,mt2lozl89fz8opt8u:7,mt2loznb2k0zlyffa:8,mt2lozll0ulbic8cr:9,mt2lozo1tr65gz6pn:10,mt2lozmatpdb5sriv:11,mt2lozmj66ykejjy9:12,mt2lozmtwmqe7ys4b:13},[b.MP_IOS]:{mt2loxx9vhe83pho7:1,mt2lozcyfdcve2tbx:2,mt2lozruqjwdtbvue:3,mt2lozpshrhq5vij5:4,mt2lozs5uy3zaoupu:5,mt2lozsedohxe6r74:6,mt2lozqoyxhmgy5y5:7,mt2lp0j70wykekm4h:8,mt2lozq2ddinb4pf7:9},[b.MP_Android]:{mt2lozsl4bkv77j8s:1,mt2lozsovqt9b08nn:2,mt2lozss5n1uvuc46:3,mt2lozsu90qn0obeu:4},[b.MP_Applet]:{mtl2eevw55atfiu9:1,mtkc608a4k7xr0i2:2,mtkc33rwf8yjgahd:3,mtkc5zphvgbjz33n:4,mtl2gzug7zytusa4:5,mtkc33x51uq24mx:6,mtkc32xraihahnkg:7,mtk4s6tn56o6ph8a:8,mtk4s6tmciidvya6:9,mtki026w64jh2esk:10},[b.MP_H5]:{mtl121jwze5ph1ap:1,mtl4pfb4nyec95sh:2,mtk4s6tsiqfw31q2:3,mtl4f8r5zpju1kk6:4,mtl486i14562v4cu:5},[b.MP_Public]:{mt2lozoup371ddim9:1,mt2lozpcypmvjkd2p:2},[b.MP_ECommerce]:{mtk4s6ttaa6zwrn2:1,mtk4s6tstihx3kv:2,mtk4s6tu9ngo0rcj:3,mtk4s6tkm7vl5oj8:4},[b.MP_Poster]:{mtki03e4384ossnz:1},[b.PC_Website]:{mt2lp0te7lkorbvrt:1,mt2lp0jjhriinr65t:2,mt2lp0tla1tadz8i3:3,mt2lp0tod9dgs38vz:4,mt2lp0trerpe843hv:5,mt2lp0tu2xixvnzxq:6,mt2lp0y1yqzsmvq4b:7,mt2lp0ywxvf2oqb8u:8,mt2lp0y6te0ortuu9:9,mt2lp0yr1u4kwi6tg:10,mt2lp0yp388m469rj:11,mt2lp0yc11psuwxi4:12},[b.PC_WebBack]:{mt2loztlvsbwyhnct:1,mt2lp0hxsgd1u52oi:2,mt2lp0i0kr4oo4ham:3,mt2lp0it6gedxfg4e:4,mt2lp0i3buy38zpxw:5,mt2lozsoc1x8dhgcu:6,mt2lozrjpn1uvtppn:7,mt2lozsjfmlbtb8br:8,mt2lozrsfzox2pvxz:9,mt2lozrngjw8j02by:10},[b.PC_MacOS]:{mt2lp0nlmyrcmh92j:1,mt2lp0sl3piupf46h:2,mt2lp0rlhnccjqm51:3,mt2lp0shy54ktv3ia:4,mt2lp0xqwg1ytx1m1:5,mt2lp0u2tdh8jrsec:6,mt2lp0tyg6sz9t8oc:7,mt2lp0tv5f6q8rnw3:8,mt2lp0y0szn7hv2py:9,mt2lp0yvugl91ms3u:10,mt2lp0y6466kwqonr:11,mt2lp0yrgwtji3xcl:12,mt2lp0yonfcn3ah55:13,mt2lp0yltffjfqtbl:14},[b.PC_Windows]:{mt2lp12zpb0kdluo4:1,mt2lp16ho95o9h1be:2,mt2lp16lqjaey7agv:3,mt2lp16nnmowgzouf:4,mt2lp0xrf137mahyp:5,mt2lp0u3po8n4hcrq:6,mt2lp0tz1rehh8d73:7,mt2lp0tvw7cliz08m:8,mt2lp0y07dhidvrp4:9,mt2lp0yv8u4q8pnhr:10,mt2lp0y5hmrhbtc03:11,mt2lp0yruig74twz:12,mt2lp0yo93fkym2ec:13,mt2lp0yb0uom7m0n1:14},[b.PAD_IpadOs]:{mt2lozt1l2kg7iqtr:1,mt2lp0it6t990rnld:2,mt2lp0mwm8jwcotdv:3,mt2lp0n74zbbdnr7w:4},[b.PAD_Android]:{mtki03e4384ossnz:1},[b.TV_AppleTVOS]:{mt2lp1ycn4ioyfy5a:1,mt2lp1yffemkhsle3:2,mt2lp1yij1yg8g5i3:3,mt2lp1ylg5hmk0i5q:4},[b.TV_AndroidTV]:{mt2lp1y91m6cei8v9:1,mt2lp1xnd95laexgk:2,mt2lp1xuxbeh2rcg1:3,mt2lp1xpsdjrjh6db:4,mt2lp1xkugp2eu9nb:5},[b.HMI_Car]:{mt2lozre4zpi75z6k:1,mt2lozqzddfwb9gs8:2},[b.HMI_IndusHmi]:{mt2lpi48t5neqizai:1,mt2lpi43mu6wk9ffy:2},[b.WATCH_Apple]:{mt2lp0izyslgamu24:1},[b.WATCH_Android]:{mt2lp0j3czrmtow9j:1},[b.SLIDE_Slide]:{mt2lp0kvxkb2r9k7c:1},[b.DS_Screen]:{mt2lpi3vazsyug92l:1,mt2lpi38e9imwzi56:2,mt2lpi2w3koehilvz:3,mt2lpi340d21pk2bv:4,mt2lpi3cszx3ysf1k:5,mt2lpi30fwywrqmar:6}},de={name:R.More,id:null},ee={name:R.All,id:null},q=()=>{const{basic:m,form:w,navigation:h,chart:j,multimedia:M,shape:L}=T();return{[b.Common]:[{name:m},{name:w},{name:h},{name:j},{name:M},{name:L}]}},$={[b.MP_App]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[b.MP_Applet]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[b.PC_WebBack]:{\u5927\u5382\u8D44\u6E90:1,\u901A\u7528:2,\u6570\u636E\u5F55\u5165:3,\u6570\u636E\u5C55\u793A:4,\u5BFC\u822A:5,\u53CD\u9988:6,\u5176\u5B83:7},[b.PC_Website]:{\u5B98\u7F51\u5BFC\u822A:1,\u5185\u5BB9\u533A:2,\u7279\u5F81\u533A:3,Banner:4,\u5B9A\u4EF7\u533A:5,\u9875\u811A:6},[b.DS_Screen]:{\u56FE\u8868:1,\u6846\u67B6\u80CC\u666F:2,\u6807\u9898\u6837\u5F0F:3,\u5730\u56FE:4,\u6309\u94AE:5,\u7A97\u53E3\u6846:6},[b.Common]:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},G=()=>{if(!ENV.IS_WONDER_SHARE)return $;const{basic:m,form:w,navigation:h,chart:j,multimedia:M,shape:L}=T();return{[b.Common]:{[m]:1,[w]:2,[h]:3,[j]:4,[M]:5,[L]:6}}},z={[b.MP_App]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[b.MP_Applet]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[b.PC_WebBack]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6},\u901A\u7528:{\u57FA\u7840:1},\u6570\u636E\u5F55\u5165:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u6570\u636E\u5C55\u793A:{\u591A\u5A92\u4F53:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3},\u5176\u5B83:{\u5F62\u72B6:1}},[b.PC_Website]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6},\u5B98\u7F51\u5BFC\u822A:{\u5BFC\u822A:1},\u5185\u5BB9\u533A:{\u591A\u5A92\u4F53:1}},[b.DS_Screen]:{all:{\u57FA\u7840:1,\u56FE\u8868:2,\u9AD8\u7EA7\u56FE\u8868:3,\u591A\u5A92\u4F53:4,\u8868\u5355:5,\u5BFC\u822A:6,\u5F62\u72B6:7},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2}},[b.MP_H5]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.MP_Public]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4}},[b.MP_IOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.MP_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.PC_MacOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.PC_Windows]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.PAD_IpadOs]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.PAD_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.TV_AppleTVOS]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},[b.TV_AndroidTV]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6}},[b.HMI_IndusHmi]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u591A\u5A92\u4F53:6,\u5F62\u72B6:7}},[b.HMI_Car]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u5BFC\u822A:4,\u56FE\u8868:5,\u5F62\u72B6:6}},[b.WATCH_Apple]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5}},[b.WATCH_Android]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u591A\u5A92\u4F53:4,\u5F62\u72B6:5}},[b.SLIDE_Slide]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u591A\u5A92\u4F53:3,\u56FE\u8868:4,\u9AD8\u7EA7\u56FE\u8868:5,\u5BFC\u822A:6,\u5F62\u72B6:7}},[b.Common]:{all:{\u57FA\u7840:1,\u8868\u5355:2,\u5BFC\u822A:3,\u56FE\u8868:4,\u591A\u5A92\u4F53:5,\u5F62\u72B6:6},\u57FA\u7840:{\u57FA\u7840:1},\u8868\u5355:{\u8868\u5355:1},\u5BFC\u822A:{\u5BFC\u822A:1},\u56FE\u8868:{\u56FE\u8868:1,\u9AD8\u7EA7\u56FE\u8868:2},\u591A\u5A92\u4F53:{\u591A\u5A92\u4F53:1},\u5F62\u72B6:{\u5F62\u72B6:1}}},U=()=>{if(!ENV.IS_WONDER_SHARE)return z;const{basic:m,form:w,navigation:h,chart:j,advancedChart:M,multimedia:L,shape:Y}=T();return{[b.Common]:{all:{[m]:1,[w]:2,[h]:3,[j]:4,[M]:5,[L]:6,[Y]:7},[m]:{[m]:1},[w]:{[w]:1},[h]:{[h]:1},[j]:{[j]:1,[M]:2},[L]:{[L]:1},[Y]:{[Y]:1}}}},u={[b.MP_App]:"app",[b.MP_IOS]:"ios",[b.MP_Android]:"android",[b.MP_Applet]:"\u5C0F\u7A0B\u5E8F",[b.MP_H5]:"H5",[b.MP_Public]:"\u516C\u4F17\u53F7",[b.MP_ECommerce]:"\u7535\u5546",[b.MP_Poster]:"\u6D77\u62A5",[b.PC_Website]:"web\u5B98\u7F51",[b.PC_WebBack]:"web\u540E\u53F0",[b.PC_MacOS]:"mac OS",[b.PC_Windows]:"windows",[b.PAD_IpadOs]:"iPad OS",[b.PAD_Android]:"\u5E73\u677F\u5B89\u5353",[b.TV_AppleTVOS]:"apple tv",[b.TV_AndroidTV]:"Android tv",[b.HMI_IndusHmi]:"\u5DE5\u4E1AHMI",[b.HMI_Car]:"\u8F66\u8F7D\u4E2D\u63A7",[b.CAR_Car]:"\u8F66\u8F7D\u4E2D\u63A7",[b.WATCH_Apple]:"watch os",[b.WATCH_Android]:"\u5B89\u5353\u624B\u8868",[b.SLIDE_Slide]:"\u5E7B\u706F\u7247",[b.DS_Screen]:"\u53EF\u89C6\u5316\u5927\u5C4F"},y={[N.Mobile]:"\u624B\u673A",[N.Web]:"\u7F51\u9875/\u7535\u89C6",[N.Other]:"\u5176\u5B83",[N.App]:"App",[N.Applet]:"\u5C0F\u7A0B\u5E8F",[N.Website]:"Web\u7F51\u7AD9",[N.WebBack]:"Web\u540E\u53F0",[N.Ipad]:"\u5E73\u677F\u7AEF",[N.SmartTV]:"\u667A\u80FD\u7535\u89C6",[N.AppleWatch]:"\u624B\u8868",[N.Slide]:"\u5E7B\u706F\u7247",[N.DisplayScreen]:"\u53EF\u89C6\u5316\u5927\u5C4F",[N.HMI]:"HMI",[N.Activity]:"\u6D3B\u52A8"}},10286:(Te,oe,a)=>{"use strict";a.d(oe,{ER:()=>U,J_:()=>q,Or:()=>R,QC:()=>w,X0:()=>G,Y5:()=>$,aX:()=>m,g:()=>le,l1:()=>y,wi:()=>P,yq:()=>de});var r=a(26114),N=a(44422),v=a(72907),x=a(23990),T=a(29601),W=a(36521),b=a(57464);const P=async h=>{let{projectCid:j}=h;return(0,x.DE)("/api/upper/web_v1/sharing/initial?cid="+j)},R=async h=>{let{projectCid:j,sharing:M}=h;return(await(0,x.zi)("/api/flat/web_v1/project_share/"+j,{...M})).project_share},le=async h=>{let{projectCid:j,sharingCid:M}=h;try{return await(0,x.OD)("/api/flat/web_v1/project_share/"+M+"?project_cid="+j)}catch(L){await(0,v.FY)(L)}},de=async h=>{let{sharing:j}=h;try{return await(0,x.SN)("/api/flat/web_v1/project_share/"+j.cid,{project_share:j})}catch(M){await(0,v.FY)(M)}},ee=()=>{const h=document.getElementById("workspace");(0,r.H)(h).render((0,b.jsx)(N.A,{locale:(0,T.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},q=async h=>{try{if(!h.accessToken||h.project.access_token===h.accessToken)return $(h.project);{const{project:j,accessToken:M}=h,{project_share:L}=await(0,x.DE)("/api/flat/web_v1/project_share/"+j.cid+"?access_token="+M);return{sharing:{...L,type:"advanced",view_mode:L.device_model}}}}catch(j){await ee()}},$=h=>{const{cid:j,access_token:M,access:L,building:Y,comment_permission:_,password:B,visibility:re,wechat:he}=h,te=new URLSearchParams(location.search),ne=te.get("screen"),be=te.get("canvasId"),ve=te.get("view_mode")||(0,W.Yt)(j+"_default_sharing_view_mode","read_only",W.qW.String),ie=te.get("view_mode")||(0,W.Yt)(j+"_default_sharing_view_mode","read_only",W.qW.String),fe=!!te.get("selection"),Le=fe?te.get("selection").split(","):[];return{sharing:{type:"default",project_cid:j,access_token:M,view_access:L,view_sticky:Y,comment_permission:_,password:B,visibility:re,wechat:he,view_mode:ve,screen_visible_switch:fe,screen_visible_list:Le,page_begin:ne,canvas_begin:be,device_model:ie}}},G=async h=>{let{projectCid:j}=h;try{const{project_shares:M}=await(0,x.DE)("/api/flat/web_v1/project_share/"+j+"/all");return M.sort((L,Y)=>new Date(Y.created_at).getTime()-new Date(L.created_at).getTime())}catch(M){await(0,v.FY)(M)}},z=async h=>{try{const{result:j}=await fetchGetJSON("/api/accesses/v4/project/"+h+"/permission_check?permission=P:update");return j}catch(j){await apiErrorModals(j)}},U=async h=>{let j=null;try{j=await(0,x.DE)("/flpak/ww-p2meta/"+h)}catch(M){await(0,v.FY)(M)}return j},u={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,view_sticky:!0},y=()=>({sharing:u}),m=async h=>{let j,M;try{j=await(0,x.DE)("/api/upper/web_v1/basics/"+h+"/get_details"),j&&JSON.stringify(j)!=="{}"&&(M=!0)}catch(L){j=L,M=!1}return{result:j,statusOk:M}},w=async h=>{let j,M;try{j=await(0,x.DE)("/api/accesses/v4/project/"+h+"/permission_check?permission=P:update"),j&&JSON.stringify(j)!=="{}"&&(M=!0)}catch(L){j=L,M=!1}return{result:j,statusOk:M}}},77180:(Te,oe,a)=>{"use strict";a.d(oe,{gE:()=>N,nM:()=>r,nQ:()=>v});const r="local_sharing_copy_url_v8_1",N=50,v={public:"share_anyone_view",restricted:"org_members_only"}},6264:(Te,oe,a)=>{"use strict";a.d(oe,{n:()=>si});var r=a(51044),N=a(28055),v=a(96510),x=a(82928),T=a(50378),W=a(30939);const b={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only"},P=null,R="123",le={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},de={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},ee={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var q=a(10286),$=a(46664),G=a(60482),z=a(15039);const u=(()=>{const t={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:b,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0},o=function(f,p){f===void 0&&(f=t);let{type:S="sharing:state:update",payload:C=t}=p;switch(S){case"sharing:state:update":return{...f,...C};case"sharing:state:clear":return{...t};default:return f}},c={"sharing:init":(f,p)=>{let{dispatch:S}=f,{payload:C}=p;S({type:"sharing:state:update",payload:C})},"sharing:currentSharing:update":(f,p)=>{let{getState:S,dispatch:C}=f,{payload:{updatedKV:I}}=p;const O=S(),A={...l.getCurrentSharing(O),...I};C({type:"sharing:state:update",payload:{currentSharing:A}})},"sharing:remote:sharing:update":async(f,p)=>{let{getState:S,dispatch:C}=f,{payload:{sharingData:I,updatedKV:O}}=p;const F=S(),A=l.getOrg(F),V=l.getProject(F);let Q;if(I.type==="default"){var E,J;Q=async()=>(0,$.Yu)(V.cid,{...O}),await(0,G.eH)({updateType:"update",updateFn:Q,org:A});const K={...V,...O};C({type:"sharing:state:update",payload:{project:K}}),(E=MB)!=null&&E.action&&((J=MB)==null||J.action("current:update:state",{currentProject:K}))}else{const K=l.getAdvancedSharingList(F),H={...I,...O};Q=async()=>(0,q.yq)({sharing:H}),await(0,G.eH)({updateType:"update",updateFn:Q,org:A});const se=K.map(pe=>pe.cid===H.cid?H:pe);C({type:g["sharing:advancedSharingList:update"],payload:{sharingList:se}})}},"sharing:remote:sharing:delete":async(f,p)=>{let{getState:S,dispatch:C}=f,{payload:{sharingCid:I}}=p;const O=S(),F=l.getProject(O),A=l.getAdvancedSharingList(O);await(0,q.g)({projectCid:F.cid,sharingCid:I});const V=A.filter(Q=>Q.cid!==I);C({type:g["sharing:advancedSharingList:update"],payload:{sharingList:V}})},"sharing:settingPage:advanced:confirm":async f=>{let{getState:p,dispatch:S}=f;const C=p(),I=l.getSettingPageType(C),O=l.getCurrentSharing(C),F=l.getOrg(C),A=l.getProject(C);if(I==="create"){const V=async()=>(0,q.Or)({projectCid:A.cid,sharing:O});await(0,G.eH)({updateType:"create",updateFn:V,org:F}),S({type:g["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const V=async()=>(0,q.yq)({sharing:O});await(0,G.eH)({updateType:"update",updateFn:V,org:F})}S({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async f=>{var p,S;let{getState:C,dispatch:I}=f;const O=C(),F=l.getCurrentSharing(O),A=l.getProject(O),V=l.getOrg(O),Q=async()=>(0,$.Yu)(A.cid,Object.assign({},F,{building:F.view_sticky}));await(0,G.eH)({updateType:"update",updateFn:Q,org:V});const E=Object.assign({},A,F,{building:F.view_sticky});I({type:"sharing:state:update",payload:{project:E}}),(p=MB)!=null&&p.action&&((S=MB)==null||S.action("current:update:state",{currentProject:E}))},"sharing:go-settingPage":(f,p)=>{let{dispatch:S}=f,{payload:{currentSharing:C,settingPageType:I,subSettingPageType:O=t.subSettingPageType}}=p;S({type:"sharing:state:update",payload:{currentSharing:C,settingPageType:I,topPageIndex:"setting",subSettingPageType:O}})},"sharing:topPageIndex:jump":(f,p)=>{let{dispatch:S}=f,{payload:{topPageIndex:C=t.topPageIndex}}=p;S({type:"sharing:state:update",payload:{topPageIndex:C}})},"sharing:advancedSharingList:update":(f,p)=>{let{dispatch:S}=f,{payload:{sharingList:C}}=p;S({type:"sharing:state:update",payload:{advancedSharingList:C}})},"sharing:projectAccess:init":async f=>{let{dispatch:p,getState:S}=f;const C=S(),I=l.getMembers(C),O=l.getProject(C),F=O==null?void 0:O.cid,A=O==null?void 0:O.is_org_project;if(!F||!A){setTimeout(()=>{p({type:u.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:V,statusOk:Q}=await(0,q.aX)(F);if(p({type:u.entryKey["sharing:init"],payload:{loading:!1}}),!!Q&&V){var E,J;const{project:K,org:H}=V;await p({type:"entry:projectAccess:initProjectData",payload:{initData:V,members:I}}),p({type:u.entryKey["sharing:init"],payload:{project:K,org:H,initData:V}}),(E=MB)!=null&&E.action&&((J=MB)==null||J.action("current:update:state",{currentProject:K}))}},"sharing:function:track":(f,p)=>{let{getState:S}=f,{payload:{operation:C,viewMode:I,isDefault:O}}=p;const F=S(),A=l.getProject(F)||{},V=l.getCanEditByUser(F),Q=l.getOrg(F)||{},E=l.getUser(F),J=l.getInitData(F)||{},K=(J==null?void 0:J.space)||{},H=l.getIsEditMode(F),se=l.getHostType(F),{cid:pe,name:D}=A,me={userCanEdit:V,userId:E==null?void 0:E.id,orgPermissions:Q==null?void 0:Q.permissions,spacePermissions:K==null?void 0:K.permissions,projectPermissions:A==null?void 0:A.permissions,isEditMode:H,view_mode:I,optionType:C,share_type:O?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:se==="iframe",project_name:D,project_cid:pe};(0,z.Xc)(me)},"sharing:advance:click:track":(f,p)=>{let{getState:S}=f,{}=p;const C=S(),I=l.getSettingPageType(C),O=l.getCurrentSharing(C),F=l.getProject(C),A=l.getAdvancedSharingList(C)||[],V=l.getScreenMetaList(C),Q=l.getHostType(C),E=(0,G.RF)(V.pageAttrMap),J=(0,G.Mj)(!O.screen_visible_switch,O.screen_visible_list,E);let K="\u5168\u90E8";O.screen_visible_switch&&(K=""+J);const H=A.length;(0,z.nr)({link_name:O.link_name,links_number:I==="create"?H+1:H,share_type:O.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:K,operation_type:I==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:Q==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:F.name,project_cid:F.cid})}},l=W.B.genQuery(t,{getStateFn:f=>f.sharing}),g=W.B.genEntryKey(c);return{__initialState:t,__reducer:o,__entry:c,entryKey:g,query:l}})(),y=(0,N.HY)({sharing:u.__reducer,projectAccess:T.Ay}),m={...u.__entry,...v.s},w=()=>{const t=(0,x.RZ)(),o=(0,N.y$)(y,(0,N.Tw)(t.middleware));return t.setEntryMap(m),o};var h=a(72605),j=a(21676),M=a(21952),L=a(57716),Y=a(86634),_=a.n(Y),B=a(77180);const re=j.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1ergmj0-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],B.gE,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1,t=>t.theme.color_background_AI_head_tag,t=>t.theme.color_background_AI_head_tag_hover,t=>t.theme.color_AI_switch_gradient_start,t=>t.theme.color_AI_switch_gradient_end,t=>t.theme.color_text_btn,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_hover),he=j.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-v93i5v-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],t=>t.theme.color_grid_line,t=>t.theme.color_share_member__border_color,t=>t.theme.color_bg_line,t=>t.theme.color_share_member__border_color);var te=a(37673),ne=a(7758),be=a(59318);const ve="__mb_delete_permission",ie=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],fe=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],Le=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],Fe=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Ue={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},We={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},et=Object.fromEntries([...ie,...fe,...Le,...Fe].map(t=>[t.value,t.label]));var Ze=a(3895),nt=a(61654),At=a(15573);const _t=t=>{const o=(0,h.d4)(nt.XW),c=o.get(t);return(0,At.u)(c,o)},kt=(t,o)=>{const c=(0,h.d4)(nt.XW),l=(0,h.d4)(nt._B),g=(0,h.d4)(nt.kG),f=(0,h.d4)(nt.iF),p=(0,h.d4)(nt.yZ),C=(0,h.d4)(nt.il).is_disable_banned_viewer||!1;let I=null,O=null;const F=t;let A=[],V=[],Q=[];I=l.get(o),V=I.permissions,Q=(0,be.Cj)(I.team_cid,c,f),O=te.W.Org,A=g,Q=Object.values(Object.fromEntries(Q.map(se=>[se.user_id,se])));const E=Object.values(Object.fromEntries([...Q,...V].map(se=>[se.user_id,se]))),J=(0,r.useMemo)(()=>{const se=(0,be.Rc)(A);return A.reduce((pe,D)=>{const{user_id:me}=D,ge=(0,be.CF)({userId:me,permissionsMap:se,permissionScope:O});return pe.set(Number(me),ge)},new Map)},[A]),K=(0,r.useMemo)(()=>{const se=(0,be.Rc)(E);return A.reduce((pe,D)=>{const{user_id:me}=D,ge=(0,be.CF)({userId:me,permissionsMap:se,permissionScope:F});return pe.set(Number(me),ge)},new Map)},[E,A]),H=(0,r.useMemo)(()=>{const se=(0,be.Rc)(Q);return Q.reduce((pe,D)=>{const{user_id:me}=D,ge=(0,be.CF)({userId:me,permissionsMap:se,permissionScope:F});return pe.set(Number(me),ge)},new Map)},[Q]);return{userCurrentSpacePermission:p,membersTopScopePermissonMap:J,membersCurrentScopePermissonMap:K,membersInheritedCurrentScopePermissonMap:H,topScopePermissionMembers:A,currentScopePermissionMembers:V,inheritedPermissionMembers:Q,combinedCurrentPermissionMembers:E,isDisableBannedViewer:C}},Tt=(t,o,c)=>{const l=(0,h.wA)();return(0,r.useCallback)(async(f,p)=>{const{name:S,email:C,mobile:I,permissionMap:O}=f,{memberCurrentScopePermisson:F,currentScopeRoleName:A}=O;if(!F)return;const V=S||C||I;let Q=!1;p===ve&&(Q=!0),F.isUnknown?await l({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:o,userCid:f.user_cid,roleName:p,userName:V}}):Q?await l({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:o,userId:f.user_id,roleName:A,userName:V}}):await l({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:o,userId:f.user_id,roleName:p,userName:V}})},[o,l])},Ct=(t,o)=>{const c=(0,h.d4)(nt.WR),l=(0,h.d4)(nt.q7),g=(0,h.d4)(nt.hG),{userCurrentSpacePermission:f,membersTopScopePermissonMap:p,membersCurrentScopePermissonMap:S,membersInheritedCurrentScopePermissonMap:C,topScopePermissionMembers:I,inheritedPermissionMembers:O,currentScopePermissionMembers:F,combinedCurrentPermissionMembers:A,isDisableBannedViewer:V}=kt(t,o),Q=S.get(Number(c))||be.CZ,E=!!g.get(Number(c)),J=(0,r.useMemo)(()=>{const xe=new Map;return I.forEach(we=>{let{user_id:Ne,role:Ie}=we;const Be=p.get(Number(Ne))||be.CZ,qe=S.get(Number(Ne))||be.CZ,st=C.get(Number(Ne))||be.CZ,rt=!!g.get(Number(Ne)),tt=l.get(Number(Ne));if(!tt)return;const Oe=tt.permission,Re=qe.isUnknown?Ie:qe.roleName;xe.set(Number(Ne),{...tt,permissionMap:{currentScopeRoleName:Re,userCurrentSpacePermission:f,userCurrentScopePermisson:Q,memberTopScopePermisson:Be,memberCurrentScopePermisson:qe,memberInheritedPermisson:st,memberOrgPermisson:Oe,isSelf:Number(Ne)===Number(c),isDisableBannedViewer:V,userIsSpaceLimiter:E,memberIsSpaceLimiter:rt}})}),xe},[I,p,S,C,g]),K=(0,r.useMemo)(()=>F.sort((xe,we)=>Ze.Z8[we.role]-Ze.Z8[xe.role]).map(xe=>J.get(Number(xe.user_id))).filter(xe=>xe),[F,J]),H=(0,r.useMemo)(()=>O.sort((xe,we)=>Ze.Z8[we.role]-Ze.Z8[xe.role]).map(xe=>{const{user_id:we,role:Ne}=xe,Ie=C.get(Number(we))||be.CZ,Be=J.get(Number(xe.user_id));return Be?{...Be,permissionMap:{...Be.permissionMap,currentScopeRoleName:Ne,memberCurrentScopePermisson:Ie}}:null}).filter(xe=>xe),[O,J,C]),se=(0,r.useMemo)(()=>A.sort((xe,we)=>Ze.Z8[we.role]-Ze.Z8[xe.role]).map(xe=>J.get(Number(xe.user_id))).filter(xe=>xe),[A,J]),pe=(0,r.useMemo)(()=>{const xe=se.map(Ne=>Number(Ne.user_id)),we=[];for(const[Ne,Ie]of J.entries())xe.includes(Number(Ne))||Ie&&we.push(Ie);return we},[J,se]),D=(0,r.useMemo)(()=>{const xe=H.filter(Ne=>{var Ie;return(Ie=Ne.permissionMap)==null||(Ie=Ie.memberCurrentScopePermisson)==null?void 0:Ie.isManager});return Object.values(Object.fromEntries([...xe,...K].map(Ne=>[Ne.user_id,Ne])))},[H,K]),me=(0,r.useMemo)(()=>{const xe=D.map(Ne=>Number(Ne.user_id)),we=[];for(const[Ne,Ie]of J.entries())xe.includes(Number(Ne))||Ie&&we.push(Ie);return we},[J,D]);return{isOnlyOneManager:(0,r.useMemo)(()=>se.filter(xe=>{var we;return(we=xe.permissionMap)==null||(we=we.memberCurrentScopePermisson)==null?void 0:we.isManager}).length===1,[se]),userCurrentScopePermisson:Q,userCurrentSpacePermission:f,currentMembers:K,inheritedMembers:H,joinedMembers:se,unjoinedMembers:pe,assignedMembers:D,unassignedMembers:me,currentOrgMembersMap:l}};var It=a(11777),i=a(57464);const Yt=()=>{var t;const o=(0,h.d4)(u.query.getUser),c=(0,h.d4)(u.query.getProject),l=(0,h.d4)(u.query.getInitData),g=_t(c==null?void 0:c.team_cid),f=c==null?void 0:c.cid,p=(0,h.wA)(),S=(0,r.useCallback)(E=>{E.stopPropagation(),p({type:u.entryKey["sharing:init"],payload:{mainPage:"access"}})},[p]),{currentMembers:C,inheritedMembers:I,joinedMembers:O}=Ct(te.W.Project,f);let F=C;g>=1?I.forEach(E=>{F.find(K=>K.id===E.id)||F.push(E)}):F=O;const V=(t=F)==null?void 0:t.filter(E=>Number(E.user_id)!==Number(o==null?void 0:o.id));V&&(F=V.slice(0,2));const Q=(0,r.useCallback)(E=>{var J;const{avatar:K,name:H,id:se}=E;return K&&!K.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:E.avatar,alt:E.name},se):(0,i.jsx)("div",{className:"avatar avater-name",children:H==null||(J=H.slice(0,1))==null?void 0:J.toUpperCase()},se)},[]);return!l||JSON.stringify(l)==="{}"?null:(0,i.jsx)(It.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,i.jsxs)(he,{onClick:S,children:[Q(o),F.length>0&&F.map(E=>Q(E)),(0,i.jsx)("div",{className:"remaining",children:(0,i.jsx)(ne.C,{name:"sharing/add_member",isColorPure:!0})}),(0,i.jsx)(ne.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},Ft=(0,r.memo)(Yt),ts=j.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1u48ud6-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],t=>t.theme.color_share_switch_sel_color,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1),xn=t=>{let{tabs:o,handleChangeTabIndex:c,tabIndex:l,className:g}=t;return(0,i.jsx)(ts,{className:g,children:o.map((f,p)=>(0,i.jsx)("div",{className:_()("tab-item",l===p&&"tab-sel"),id:"tab-item-"+p,onClick:()=>c(p),children:f},p))})},vn=(0,r.memo)(xn);var Ht=a(40230),Zt=a(47755);const ns=()=>{let t=null;const o=(0,h.wA)(),c=(0,h.d4)(u.query.getProject),l=(0,h.d4)(u.query.getCanEditByUser),g=(0,h.d4)(u.query.getHostType),f=(0,h.d4)(u.query.getIsEditMode),p=(0,h.d4)(u.query.getInitData),S=(0,h.d4)(u.query.getTabIndex),[C,I]=(0,r.useState)(!1),O=(c==null?void 0:c.is_org_project)||!1,F=g==="iframe"||f,V=new URLSearchParams(location.search).get("view_mode")||"read_only",Q=F&&O&&p&&JSON.stringify(p)!=="{}",E=l&&!O,J=(0,r.useCallback)(()=>{const pe=g==="iframe",D=(pe?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",me=(pe?"dashboard":"workspace")+"-v8_solo_share_upgrade",ge={payEntrance:D,checkoutPlace:me,checkoutArea:pe?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(pe){const xe="/workspace/''?payment_param="+(0,Zt._)(ge);(0,Ht.JW)(xe,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ge)},[]),K=()=>{t=setTimeout(()=>{I(!0)},1e3)},H=()=>{t&&clearTimeout(t),I(!1)},se=(0,r.useCallback)(pe=>{o({type:u.entryKey["sharing:init"],payload:{tabIndex:pe}})},[o]);return(0,i.jsx)(re,{className:_()(E&&"tool-upgrade"),children:F?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(vn,{tabIndex:S,tabs:ENV.IS_ON_PREMISES?[I18N.imockSharing.default_share]:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:se}),E&&(0,i.jsxs)("div",{className:"upgrade-team-business",onClick:J,onMouseEnter:K,onMouseLeave:H,children:[(0,i.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),C&&(0,i.jsxs)("div",{className:"content",onClick:pe=>pe.stopPropagation(),children:[(0,i.jsx)("div",{className:"top-bar"}),(0,i.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,i.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),Q&&(0,i.jsx)(Ft,{})]}):(0,i.jsx)("div",{className:"sharing-title",children:V==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Pn=(0,r.memo)(ns),X=j.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-2ovkcx-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],B.gE,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_btn_secondary_active),ce=j.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-2ovkcx-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],B.gE);var ye=a(15668),He=a(49776);const ot=j.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-15116kg-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],t=>t.theme.color_background_sharing_item),bt=j.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-15116kg-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],t=>t.theme.color_share_access__button_disable,t=>t.theme.color_share_copy__button_disable_bg,t=>t.theme.color_bg_line,t=>t.theme.color_share_copy__button_disable,t=>t.isViewActiveDropdown?t.theme.color_btn_secondary_hover:t.theme.color_bg_white,t=>t.theme.color_bg_line,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_text_L3,t=>t.theme.color_text_L1,t=>t.theme.color_text_L3,t=>t.theme.color_text_L1,t=>t.isViewActiveDropdown?"rotate(-180deg)":"",t=>t.theme.color_text_L1),Gt=(0,j.Ay)(He.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-15116kg-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"]),on=j.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-15116kg-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],t=>t.theme.color_btn_primary_normal,t=>t.theme.color_btn_primary_hover,t=>t.theme.color_btn_primary_clicked,t=>t.theme.color_text_btn),ss=j.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-g4yrew-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-name{width:240px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;padding:0px 4px;justify-content:center;align-items:center;gap:6px;border-radius:4px;&:hover{background-color:",";}}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_proto,t=>t.theme.color_text_L1,t=>t.theme.color_proto,t=>t.theme.color_btn_secondary_active);function rs(t){const{fBlur:o,name:c}=t,[l,g]=(0,r.useState)(!1),[f,p]=(0,r.useState)(c),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(l){var A;(A=S.current)==null||A.focus()}},[l]);const C=()=>{o(),g(!1)};return{inputRef:S,isRenaming:l,setIsRenaming:g,inputName:f,setInputName:p,handleFocus:()=>{var A;(A=S.current)==null||A.select()},handleBlur:C,handleKeyDown:A=>{A.key==="Enter"&&C()},handleInput:A=>{let V=A.target.value;V.length>200&&(V=V.substring(0,200)),p(V)}}}const gt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},As=j.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1gzmiv1-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],t=>t.theme.color_text_L2,t=>t.theme.color_bg_line,t=>t.theme.color_text_disabled01,t=>t.theme.color_btn_secondary_active,t=>t.theme.color_btn_secondary_active);function an(t){const{className:o,size:c=20,name:l,onClick:g,onMouseEnter:f,onMouseLeave:p,children:S,tempDisabled:C,direction:I,toolTipName:O,type:F,isColorPure:A,isBorder:V}=t,Q=E=>{C||g(E,F)};return(0,i.jsx)(As,{className:_()(o,C&&"tempDisabled",V&&"isBorder"),onClick:Q,onMouseEnter:f,onMouseLeave:p,children:(0,i.jsxs)(It.A,{content:O,direction:I||"up",distance:5,enterHoverTime:500,children:[(0,i.jsx)(ne.C,{size:c,name:l,isColorPure:A}),S]})})}const Ts=t=>{let{sharingData:o,handleItemAction:c}=t;const{link_name:l}=o,g=(0,h.wA)(),f=o.device_model,[p,S]=(0,r.useState)(l),C=(0,h.d4)(u.query.getCanEditByUser),I=(0,h.d4)(u.query.getIsEditMode),O=(0,h.d4)(u.query.getHostType),F=(0,h.d4)(u.query.getScreenMetaList),A=(0,h.d4)(u.query.getAdvancedSharingList),V=O==="iframe"||I,Q=V&&C,E=V&&C,J=()=>{const Be=ge.current.value;if(Be==="")we(p),g({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,G.it)({value:Be,currentSharing:o,sharingList:A}))we(p),g({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{S(Be);const qe={link_name:Be};g({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:o,updatedKV:qe}})}},K=(0,r.useMemo)(()=>o.type==="advanced"?(0,G.Sy)(F,o):null,[o,F]),{isRenaming:H,setIsRenaming:se,handleKeyDown:pe,handleBlur:D,handleFocus:me,inputRef:ge,handleInput:xe,setInputName:we,inputName:Ne}=rs({name:p||"",fBlur:J}),Ie=(0,r.useCallback)(()=>{se(!0)},[se]);return(0,i.jsxs)(ss,{className:_()(!E&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"head-left",children:[(0,i.jsx)(ne.C,{className:"view-mode-icon",name:f==="device"?"sharing/mode_device":"sharing/mode_canvas"}),H?(0,i.jsx)("form",{children:(0,i.jsx)("input",{value:Ne,onFocus:me,onChange:xe,ref:ge,onBlur:D,onKeyPress:pe})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:_()("link-name",!Q&&"link-name-not-edit"),onClick:Ie,children:p})})]}),(0,i.jsx)(It.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,i.jsxs)("div",{className:"head-right",children:[(0,i.jsx)("div",{children:K}),(0,i.jsx)(an,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!Q,size:20,onClick:Be=>c(Be,gt.showPage)})]})})]})},Dn=(0,r.memo)(Ts),Os=j.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-11jw1u-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.foot-right{display:flex;align-items:center;}"],t=>t.theme.color_text_L2),Ls=t=>{let{handleItemAction:o}=t;const c="open",l=(0,h.d4)(u.query.getCanEditByUser),g=(0,h.d4)(u.query.getIsEditMode),S=((0,h.d4)(u.query.getHostType)==="iframe"||g)&&l&&c==="open",C=(0,r.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:gt.embed,tempDisabled:!1},{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:gt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:gt.setting,tempDisabled:!S}],[S]);return(0,i.jsxs)(Os,{children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{className:"foot-right",children:C.map((I,O)=>(0,i.jsx)(an,{className:_()("share-icon",I.className),name:I.name,type:I.className,toolTipName:I.toolTipName,onClick:o,tempDisabled:I.tempDisabled,isColorPure:I.isColorPure,size:20},O))})]})},Dt=(0,r.memo)(Ls);var Kt=a(36521),wn=a(24078),Ps=a(76713),Ds=a.n(Ps);const _n=t=>{const{project:o,sharing:c,user:l}=t,[g,f]=(0,r.useState)(!1),[p,S]=(0,r.useState)(void 0);return{isURLCopied:g,handleCopyURL:()=>{(0,G.kv)({project:o,action:c.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:c.link_name}),f(!0),clearTimeout(p);const I=setTimeout(()=>f(!1),3e3);S(I);const O=Ds()().format("YYYY-MM-DD HH:mm:ss"),F=(0,G.EL)(l)&&!(0,Kt.kV)(B.nM);(0,Kt.cH)(B.nM,O),F&&(0,wn.Sx)({prototype_activation_time:O})}}};var cn=a(93869);function Rn(t){const{password:o}=t;return{isHavePassword:(0,r.useMemo)(()=>o!==null&&o!=="",[o])}}const zn=t=>{var o;let{sharingData:c,setShowDelConfirmModal:l,fromDefault:g}=t;const f=(0,h.wA)(),p=(0,r.useRef)(null),S=c.view_access,C=c.device_model,I=(0,h.d4)(u.query.getProject),O=(0,h.d4)(u.query.getCanEditByUser),F=(0,h.d4)(u.query.getIsEditMode),A=(0,h.d4)(u.query.getHostType),V=(0,h.d4)(u.query.getUser),Q=(I==null?void 0:I.is_org_project)||!1,J=(A==="iframe"||F)&&O,[K,H]=(0,r.useState)({top:0,left:0}),[se,pe]=(0,r.useState)(!1),{isURLCopied:D,handleCopyURL:me}=_n({project:I,sharing:c,user:V}),{isHavePassword:ge}=Rn(c),xe=(0,r.useCallback)(()=>{const Re=(0,G.O8)(I,c);(0,cn.$)(Re),me(),f({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:C,isDefault:!1}})},[f,c,me,I,C]),we=(0,r.useCallback)(Re=>{const it={view_access:Re};f({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:c,updatedKV:it}}),f({type:u.entryKey["sharing:function:track"],payload:{operation:Re==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:C,isDefault:!1}})},[c,f,C]),Ne=(0,r.useCallback)(()=>{l({isOpened:!0,item:c})},[l,c]),Ie=(0,r.useCallback)(()=>{f({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:c,settingPageType:"edit"}}),f({type:u.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:C,isDefault:!1}})},[f,c,C]),[Be,qe]=(0,r.useState)(void 0),st=(0,r.useMemo)(()=>{if(Be==="viewAccess"){const Re=(0,i.jsx)(ne.C,{name:"toolbar/selected",className:"selected-icon"});if(Q){const it=S==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>we("public"),icon:it?Re:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>we("restricted"),icon:it?(0,i.jsx)("div",{style:{width:0}}):Re}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Ie},{label:I18N.imockSharing.delete,onclick:Ne}]},[Be,we,Ne,Ie,S,Q]),rt=(0,r.useCallback)(Re=>{if(!Q||!J)return;qe("viewAccess");const it=Re.currentTarget.getBoundingClientRect();H({top:it.y+it.height+3,left:it.x-1}),pe(!se)},[Q,J,se,qe,H]),tt=(0,r.useCallback)((Re,it)=>{if(Re!=null&&Re.currentTarget)switch(it){case gt.QRcode:Re.stopPropagation(),f({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:c}}),f({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:C,isDefault:!1}});break;case gt.embed:f({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:c}}),f({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:C,isDefault:!1}});break;case gt.mkt:(0,Ht.JW)("/community/upload?project_cid="+(I==null?void 0:I.cid),"_blank","noreferrer");break;case gt.setting:{qe("misc");const mt=Re.currentTarget.getBoundingClientRect(),wt=document.getElementById("v8-share-page").getBoundingClientRect().bottom-mt.bottom<120?mt.y-75:mt.bottom+5;H({top:wt,left:A==="iframe"?mt.x+20:mt.x-60}),pe(!se)}break;case gt.showPage:f({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:c,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[se,qe,H,pe,f,I,c,C,A]),Oe=(0,r.useCallback)(()=>{var Re;H({...K,left:((Re=p.current)==null?void 0:Re.getBoundingClientRect().x)-1})},[K]);return(0,r.useEffect)(()=>(window.addEventListener("resize",Oe),()=>window.removeEventListener("resize",Oe))),(0,i.jsxs)(ot,{className:_()(g&&"from-default"),children:[(0,i.jsx)(Dn,{sharingData:c,handleItemAction:tt}),(0,i.jsxs)(bt,{className:_()("item-center",!J&&"userNoEdit","advance-item"),isViewActiveDropdown:se&&Be==="viewAccess",children:[(0,i.jsx)("div",{ref:p,className:_()("left","sharingV2-click-visible",{"normal-hover":!0},!Q&&"can-not-edit"),onClick:rt,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(o=I18N.imockSharing[B.nQ[S]])!=null?o:"missing data"}),Q&&(0,i.jsx)(ne.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(on,{type:"button",className:_()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(D)),onClick:xe,children:[(0,i.jsx)("span",{className:"state state-0",children:ge?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(ne.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,i.jsx)(Dt,{handleItemAction:tt}),se&&(0,i.jsx)(Gt,{className:_()("design-avoid",Be,"advance_menu"),position:K,onClose:()=>{pe(!1)},children:st.map((Re,it)=>(0,i.jsx)(He.Dr,{text:Re.label,onClick:Re.onclick,icon:Re.icon,disabled:Re.disabled,canClick:Re.tempDisabled},it))})]})},Sn=(0,r.memo)(zn),Rs=j.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1kiue1c-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],t=>t.theme.color_bg_white,t=>t.theme.color_text_L1,t=>t.theme.color_share_del_confirm_border_color,B.gE,t=>t.theme.color_bg_line);function Fn(t){let{handleConfirmAction:o}=t;return(0,i.jsx)(Rs,{children:(0,i.jsxs)("div",{className:"confirm-content",children:[(0,i.jsxs)("div",{className:"top",children:[(0,i.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,i.jsx)(an,{name:"sharing/close",onClick:()=>o(!1),className:"close"})]}),(0,i.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,i.jsxs)("div",{className:"bottom",children:[(0,i.jsx)(ye.tA,{onClick:()=>o(!1),children:I18N.imockSharing.cancel}),(0,i.jsx)(ye.Qi,{className:"delete",onClick:()=>o(!0),children:I18N.imockSharing.delete})]})]})})}const zs=r.memo(Fn),Bn=()=>{const t=(0,h.d4)(u.query.getUser),o=(0,h.d4)(u.query.getOrg),{cid:c,name:l,is_org_project:g}=(0,h.d4)(u.query.getProject),f=(0,h.d4)(u.query.getHostType),p=(0,h.d4)(u.query.getAdvancedSharingList),S=(0,h.d4)(u.query.getCanEditByUser),C=(0,h.d4)(u.query.getTheme),[I,O]=(0,r.useState)({isOpened:!1,item:null}),[F,A]=(0,r.useState)(!1),V=(0,h.wA)(),Q=p.length===0,E=(0,r.useCallback)(async K=>{K&&V({type:u.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:I.item.cid}}),O({isOpened:!1,item:null})},[I.item,O,V]);(0,r.useEffect)(()=>{(async()=>{const se=(await(0,q.X0)({projectCid:c})).map(pe=>({...pe,type:"advanced"})).sort((pe,D)=>new Date(D.created_at).getTime()-new Date(pe.created_at).getTime());V({type:u.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:se}}),A(!0)})()},[c,V]);const J=async()=>{const K=(0,G.jc)(t,o),H=()=>{(0,wn.kH)("create_advanced_sharing_click",{project_name:l,project_cid:c,source:f==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(p.length>=K){const pe=(o==null?void 0:o.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:pe}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:pe}}),"*"),H();return}const se=(0,G.zM)(c,p,{view_access:g?"restricted":"public"});V({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:se,settingPageType:"create"}}),H()};return F?Q?(0,i.jsxs)(ce,{children:[(0,i.jsx)(ne.C,{name:C==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,i.jsx)(ye.jn,{onClick:J,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,i.jsxs)(X,{children:[(0,i.jsxs)("div",{className:"create-item "+(S?"":"no-edit"),onClick:J,children:[(0,i.jsx)(ne.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),p.map((K,H)=>(0,i.jsx)(Sn,{setShowDelConfirmModal:O,sharingData:K},K.cid+"-"+H)),I.isOpened&&(0,i.jsx)(zs,{handleConfirmAction:E})]}):null},Fs=(0,r.memo)(Bn),is=j.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-1mfcda2-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;span{margin-right:10px;}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],B.gE,B.gE,t=>t.theme.color_text_L1,B.gE,t=>t.theme.color_text_L1,t=>t.theme.color_sharing_default_bottom_bg,t=>t.theme.color_btn_secondary_active,t=>t.theme.color_btn_secondary_active);var Ke=a(54176);const Bs=t=>{var o;let{defaultShare:c}=t;const l=(0,h.wA)(),g=(0,r.useRef)(null),f=(0,h.d4)(u.query.getProject),p=c;f&&(p.visibility=f.visibility);const S=(0,h.d4)(u.query.getHostType),C=(0,h.d4)(u.query.getIsEditMode),I=(0,h.d4)(u.query.getUser),O=S==="iframe"||C,F=(0,h.d4)(u.query.getCanEditByUser),A=(f==null?void 0:f.is_org_project)||!1,V=!A&&F,[Q,E]=(0,r.useState)({top:0,left:0}),[J,K]=(0,r.useState)(!1),[H,se]=(0,r.useState)(p==null?void 0:p.visibility),pe=O&&F&&H==="open",D=O&&F,{isURLCopied:me,handleCopyURL:ge}=_n({project:f,sharing:p,user:I}),xe=(0,r.useCallback)(Oe=>{const Re={access:Oe};l({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:p,updatedKV:Re}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:Oe==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:p.view_mode,isDefault:!0}})},[p,l]),we=(0,r.useMemo)(()=>{const Oe=(0,i.jsx)(ne.C,{name:"toolbar/selected",className:"selected-icon"});if(A){const Re=(p==null?void 0:p.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>xe("public"),icon:Re?Oe:(0,i.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>xe("restricted"),icon:Re?(0,i.jsx)("div",{style:{width:0}}):Oe}]}else return[]},[xe,A,p]),Ne=(0,r.useMemo)(()=>{const Oe=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:gt.embed,tempDisabled:H==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||Oe.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:gt.QRcode,tempDisabled:H==="close",isBorder:!0}),V&&Oe.push({name:"sharing/mkt_icon",toolTipName:I18N.imockSharing.publish_to_community,className:gt.mkt,tempDisabled:H==="close",isColorPure:!0,isBorder:!0}),Oe},[H,V]),Ie=(0,r.useCallback)(()=>{const Oe=H==="close"?"open":"close",Re={visibility:Oe};se(Oe),l({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:p,updatedKV:Re}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:Oe==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:p.view_mode,isDefault:!0}})},[H,l,p,se]),Be=(0,r.useCallback)(Oe=>{if(!A||!pe)return;const Re=Oe.currentTarget.getBoundingClientRect();let it=Re.y+Re.height+3;S==="iframe"&&(it=it+56),E({top:it,left:Re.x-1}),K(!J)},[A,pe,J,E,S]),qe=(0,r.useCallback)(()=>{const Oe=(0,G.O8)(f,p);(0,cn.$)(Oe),ge(),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:p.view_mode,isDefault:!0}})},[l,p,ge,f]),st=(0,r.useCallback)(()=>{const Oe=p,{view_mode:Re}=p;l({type:u.entryKey["sharing:go-settingPage"],payload:{currentSharing:Oe,settingPageType:"edit"}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Re,isDefault:!0}})},[p,l]),rt=(0,r.useCallback)((Oe,Re)=>{if(!(Oe!=null&&Oe.currentTarget))return;const it=p,{view_mode:mt}=p;switch(Re){case gt.QRcode:Oe.stopPropagation(),l({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:it}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:mt,isDefault:!1}});break;case gt.embed:l({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:it}}),l({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:mt,isDefault:!1}});break;case gt.mkt:(0,Ht.JW)("/community/upload?project_cid="+(f==null?void 0:f.cid),"_blank","noreferrer");break;default:break}},[l,f,p]),tt=(0,r.useCallback)(()=>{var Oe;E({...Q,left:((Oe=g.current)==null?void 0:Oe.getBoundingClientRect().x)-1})},[Q]);return(0,r.useEffect)(()=>(window.addEventListener("resize",tt),()=>window.removeEventListener("resize",tt))),p?(0,i.jsxs)(is,{className:_()(!D&&"canNotEdit"),children:[(0,i.jsxs)("div",{className:"default-top",children:[O?(0,i.jsxs)("div",{className:"switch-content",children:[(0,i.jsx)("span",{children:I18N.imockSharing.public_access}),(0,i.jsx)(Ke.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:H==="open",onChange:Ie})]}):(0,i.jsx)("div",{className:"switch-content",children:I18N.imockSharing.default_share}),(0,i.jsxs)(bt,{className:_()("item-center","default-link",H==="close"&&"notView",!pe&&"userNoEdit"),isViewActiveDropdown:J,children:[(0,i.jsx)("div",{ref:g,className:_()("left","sharingV2-click-visible",{"normal-hover":!0},!A&&"can-not-edit"),onClick:Be,children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(o=I18N.imockSharing[B.nQ[p.view_access]])!=null?o:"missing data"}),A&&(0,i.jsx)(ne.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(on,{type:"button",className:_()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(me)),onClick:qe,children:[(0,i.jsx)("span",{className:"state state-0",children:p.password&&p.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(ne.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsxs)("div",{className:"default-bottom",children:[(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),Ne.map((Oe,Re)=>(0,i.jsx)(an,{className:_()("share-icon",Oe.className),name:Oe.name,type:Oe.className,toolTipName:Oe.toolTipName,onClick:rt,tempDisabled:Oe.tempDisabled,isColorPure:Oe.isColorPure,isBorder:Oe.isBorder,size:24},Re))]}),O&&(0,i.jsxs)("div",{className:_()("default-setting",!pe&&"no-edit"),onClick:st,children:[(0,i.jsx)(ne.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),J&&(0,i.jsx)(Gt,{className:_()("design-avoid","viewAccess"),position:Q,onClose:()=>{K(!1)},children:we.map((Oe,Re)=>(0,i.jsx)(He.Dr,{text:Oe.label,onClick:Oe.onclick,icon:Oe.icon,disabled:Oe.disabled,canClick:Oe.tempDisabled},Re))})]}):null},os=(0,r.memo)(Bs),Un=j.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-1sz39j-0"})(["width:100%;position:relative;height:100%;"]),Us=j.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-13xenhf-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],t=>t.theme.color_text_L1,t=>t.theme.color_grid_line,t=>t.theme.color_text_L2,t=>t.theme.color_bg_card,t=>t.theme.color_grid_line,t=>t.theme.color_text_L1,t=>t.theme.color_btn_secondary_active,t=>t.theme.color_text_L3);var Ot=a(95230);const Ws=j.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-8g3rhq-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],B.gE,t=>t.theme.color_border_state,t=>t.theme.color_text_L1),ln=t=>{let{title:o,handleClick:c}=t;return(0,i.jsx)(Ws,{children:(0,i.jsxs)("div",{className:"title",onClick:c,children:[(0,i.jsx)(ne.C,{name:"sharing/nav_back"}),o]})})},Jt=()=>{let t="read_only";const o=(0,h.wA)(),c=(0,h.d4)(u.query.getCurrentSelectSharing),l=(0,h.d4)(u.query.getProject),g=(0,h.d4)(u.query.getTheme),{screen_visible_list:f,access_token:p}=c||{};if(c.type==="default"){const{view_mode:V}=c;t=V}else{const{device_model:V}=c;t=V}let S="";const C=(0,G.a2)(p);f&&f.length!==0?S='<iframe src="'+C+"/embed/v2/sharing?view_mode="+t+"&selection="+f[0]+'" allowTransparency="true" frameborder="0"></iframe>':S='<iframe src="'+C+"/embed/v2/sharing?view_mode="+t+'" allowTransparency="true" frameborder="0"></iframe>';let I=null;const O=(0,r.useCallback)(V=>{const Q=V.currentTarget;Q.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(I),I=setTimeout(()=>{Q.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,G.kv)({action:"\u590D\u5236\u4EE3\u7801",project:l||{},linkName:c.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(E){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[c,I,l]),F=(0,r.useCallback)(V=>{(0,cn.$)(S),O(V)},[O,S]),A=(0,r.useCallback)(()=>{o({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[o]);return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(ln,{title:I18N.imockSharing.insert,handleClick:A}),(0,i.jsxs)(Us,{children:[(0,i.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,i.jsxs)("div",{className:"copy-wrapper",children:[(0,i.jsx)("img",{src:g===Ot.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,i.jsxs)("div",{className:"copy-box",children:[(0,i.jsx)("p",{className:"sharing-embedded-url",children:S}),(0,i.jsx)("button",{className:"copy-button copy","data-clipboard-text":S,onClick:F,children:I18N.imockSharing.copy_code})]})]})]})]})},Cn=(0,r.memo)(Jt),Qt=j.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-q78fwd-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);flex-direction:column;justify-content:center;display:flex;:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:0 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:40px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],t=>t.theme.color_bg_white,B.gE,B.gE,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_background_icon_hover2,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L3,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1),Nn=j.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-q78fwd-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.mt{margin-top:4px;}.last{margin-bottom:-8px;}"],t=>t.theme.color_background_icon_hover2,t=>t.theme.color_text_L1,t=>t.isActiveContextMenu&&t.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",t=>t.isActiveContextMenu&&t.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)"),as=j.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-q78fwd-2"})(["height:298px;.visible-check{height:32px;}"]);var ut=a(70260);const Pt=j.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-1w4pkti-0"})(["display:flex;background-color:",";height:32px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:108px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;transition:all 0.2s ease-out;color:",";border:1px solid ",";border-radius:4px;height:100%;&:focus{border-color:",";border-right:1px solid ",";}}.reset-pwd{width:16px;height:16px;position:absolute;border-radius:2px;right:6px;color:#999;&:hover{background-color:",";}&:active{background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],t=>t.theme.color_bg_white,t=>t.theme.color_grid_line,t=>t.theme.color_text_L1,t=>t.theme.color_bg_line,t=>t.theme.color_proto,t=>t.theme.color_proto,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,t=>t.theme.color_text_L1,t=>t.theme.color_bg_line,t=>t.theme.color_bg_canvas,t=>t.theme.color_bg_canvas);function Wn(t){return Math.random().toString(36).slice(-t)}function jn(t){const{onSubmit:o,value:c}=t,[l,g]=(0,r.useState)(t.value),f=(0,r.useRef)(null),p=O=>{g(O.target.value)},S=()=>{const O=Wn(6);g(O),o(O)},C=()=>{if(!o(l)){g(c);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(F){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},I=O=>{O.key==="Enter"&&(C(),f.current.blur())};return(0,i.jsx)(Pt,{children:(0,i.jsxs)("div",{className:"password-input-wrapper",children:[(0,i.jsx)("input",{ref:f,type:"text",className:"password-input",value:l,onChange:p,onBlur:C,onKeyPress:I}),(0,i.jsx)(It.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,i.jsx)(ne.C,{className:"reset-pwd",name:"common/spinner",onClick:S})})]})})}function Hn(t){const{isOrgProject:o,sharingData:c,updateSharing:l}=t,g=c.view_mode,{isHavePassword:f}=Rn(c),p=(0,h.wA)(),{comment_permission:S,wechat:C,view_sticky:I}=c,O=(0,r.useMemo)(()=>(0,G.R0)(o),[o]),F=()=>{if(f)l({password:""}),p({type:u.entryKey["sharing:settingPage:default:confirm"]});else{const H=Wn(6);A(H)}p({type:u.entryKey["sharing:function:track"],payload:{operation:f?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:g}})},A=H=>/^\s*$/.test(H)||!/^\w+$/.test(H)?!1:(l({password:H}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:g}}),!0),V=()=>{l({wechat:!C}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:C?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:g}})},Q=(0,r.useMemo)(()=>S==="org_member",[S]),E=()=>{l({view_sticky:I==="view_sticky"?"no_sticky":"view_sticky"}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:I?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:g}})},J=()=>{l({comment_permission:S==="org_member"?"off":"org_member"}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:function:track"],payload:{operation:Q?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:g}})},K=H=>{let{value:se}=H;l({view_access:se}),p({type:u.entryKey["sharing:settingPage:default:confirm"]}),p({type:u.entryKey["sharing:remote:sharing:update"],payload:{sharingData:c,updatedKV:{access:se}}})};return(0,i.jsxs)(Nn,{children:[o&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(ut.A,{name:"access",optionList:O,value:c.view_access,onChange:K})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[f&&(0,i.jsx)(jn,{value:c.password,onSubmit:A}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:f,onChange:F})]})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:I==="view_sticky",onChange:E})]}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:Q,onChange:J})]}),(0,i.jsx)("div",{className:"divider"}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:C,onChange:V})]})]})}const cs=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"}],dn=t=>{let{sharingData:o,updateSharing:c}=t;const l=I=>()=>{c({device_model:I})},[g,f]=(0,r.useState)(!1),p=(0,h.d4)(u.query.getTheme),S=()=>{f(!0)},C=()=>{f(!1)};return(0,i.jsx)(Hs,{className:_()({dark:p==="dark"}),children:(0,i.jsxs)("div",{className:"device-model",children:[(0,i.jsxs)("div",{className:"device-model-header",children:[(0,i.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsx)(ne.C,{onMouseEnter:S,onMouseLeave:C,className:"tipsIcon",name:"sharing/question",size:14}),g&&(0,i.jsxs)("div",{className:_()("device-model-modal",{light:p==="light",dark:p==="dark"}),children:[(0,i.jsx)("div",{className:"icon-triangle"}),(0,i.jsxs)("div",{className:_()("modal-content"),children:[(0,i.jsxs)("div",{className:"read_only",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+p+".png"}),(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]}),(0,i.jsxs)("div",{className:"device",children:[(0,i.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+p+".png"}),(0,i.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,i.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]})]})]})]}),(0,i.jsx)("div",{className:"device-model-type-container",children:cs().map((I,O)=>{let{key:F,label:A,icon:V}=I;const Q="device-model-"+F+"   ";return(0,i.jsxs)("div",{className:_()(Q,{"is-active":F===o.device_model,dark:p==="dark"}),onClick:l(F),children:[(0,i.jsx)(ne.C,{name:V,size:16}),(0,i.jsx)("span",{children:A})]},O)})})]})})},Hs=j.Ay.div.withConfig({displayName:"ViewModeModel__StyledDevcieModel",componentId:"sc-1tq5cfg-0"})(["position:relative;margin-bottom:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}.device-model-modal{z-index:100;position:absolute;left:20px;top:24px;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;justify-content:space-evenly;padding:24px 0px;width:374px;height:230px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.device,.read_only{width:160px;height:180px;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin:6px 0;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-read_only,.device-model-device{width:177px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);&.dark{border:1px solid #4f5052;}border-radius:6px;color:",";span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],t=>t.theme.color_text_L2,t=>t.theme.color_text_L3,t=>t.theme.color_text_L2,t=>t.theme.color_bg_line,t=>t.theme.color_bg_white,t=>t.theme.color_bg_line,t=>t.theme.color_bg_line,t=>t.theme.color_bg_white,t=>t.theme.color_text_L1,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_normal);function Vs(){const t=(0,h.d4)(u.query.getCurrentSharing),o=(0,h.d4)(u.query.getProject),c=(0,h.wA)(),l=(0,r.useCallback)(p=>{c({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:p}})},[c]),g=p=>{c({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:p}}),(0,Kt.a0)(o.cid+"_default_sharing_view_mode",p.device_model,Kt.qW.String),c({type:u.entryKey["sharing:settingPage:default:confirm"]})},f=()=>{c({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,i.jsxs)(Qt,{children:[(0,i.jsx)(ln,{title:I18N.imockSharing.sharing_setting_title,handleClick:f}),(0,i.jsxs)("div",{className:"basic-content",children:[(0,i.jsx)(dn,{sharingData:t,updateSharing:g}),(0,i.jsx)(Hn,{isOrgProject:o.is_org_project,sharingData:t,updateSharing:l})]})]})}var ls=a(54608);const Vt=()=>(0,i.jsx)(Nt,{}),Nt=j.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-178sehp-0"})(["height:1px;background:",";margin:8px 24px;"],t=>t.theme.color_background_icon_hover2);function ds(t){const{isOrgProject:o,sharingData:c,updateSharing:l}=t,g=c.device_model,f=(0,r.useMemo)(()=>(0,G.R0)(o),[o]),{isHavePassword:p}=Rn(c),S=(0,h.wA)(),{view_sticky:C,comment_permission:I,wechat:O}=c,F=H=>{let{value:se}=H;l({view_access:se})},A=()=>{if(p)l({password:""});else{const H=Wn(6);V(H)}S({type:u.entryKey["sharing:function:track"],payload:{operation:p?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:g,isDefault:!0}})},V=H=>/^\s*$/.test(H)||!/^\w+$/.test(H)?!1:(l({password:H}),S({type:u.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:g,isDefault:!0}}),!0),Q=()=>{l({wechat:!O}),S({type:u.entryKey["sharing:function:track"],payload:{operation:O?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:g,isDefault:!0}})},E=(0,r.useMemo)(()=>I==="org_member",[I]),J=()=>{l({view_sticky:!C,sticky:!C}),S({type:u.entryKey["sharing:function:track"],payload:{operation:C?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:g,isDefault:!0}})},K=()=>{l({comment_permission:I==="org_member"?"off":"org_member"}),S({type:u.entryKey["sharing:function:track"],payload:{operation:E?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:g,isDefault:!0}})};return(0,i.jsxs)(Nn,{children:[c.type==="advanced"&&o&&(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,i.jsx)(ut.A,{name:"access",optionList:f,value:c.view_access,onChange:F})]}),(0,i.jsxs)("div",{className:"line-item "+(o?"mt":""),children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,i.jsxs)("div",{className:"password-input-item",children:[p&&(0,i.jsx)(jn,{value:c.password,onSubmit:V}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:p,onChange:A})]})]}),(0,i.jsx)(Vt,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:C,onChange:J})]}),(0,i.jsxs)("div",{className:"line-item mt",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:E,onChange:K})]}),(0,i.jsx)(Vt,{}),(0,i.jsxs)("div",{className:"line-item",children:[(0,i.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,i.jsx)(Ke.A,{size:"small",isIOS:!0,isChecked:O,onChange:Q})]})]})}var ct=a(74059),dt=a(66748),Ve=a.n(dt);const $t=j.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-ysqvb2-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],t=>t.theme.color_text_L2,t=>t.theme.color_text_disabled01,t=>t.isCircle?"50%":"2px",t=>t.theme.color_bg_white,t=>t.theme.color_text_L2,t=>t.theme.color_text_L3,t=>t.theme.color_text_L2);class Xt extends r.PureComponent{constructor(){super(...arguments),(0,ct.A)(this,"onToggle",o=>{const{onChange:c}=this.props;c(o)})}render(){const{className:o,isDisabled:c,readOnly:l,isChecked:g,isCircle:f}=this.props,p=_()(o,{"is-checked":g,"is-disabled":c,readonly:l});return(0,i.jsx)($t,{className:p,onClick:this.onToggle,isCircle:f,children:(0,i.jsx)("span",{className:"Check-state",children:(0,i.jsx)(ne.C,{name:"new_replace/box_check"})})})}}(0,ct.A)(Xt,"propTypes",{isChecked:Ve().bool,isDisabled:Ve().bool,readOnly:Ve().bool,onChange:Ve().func,label:Ve().any,name:Ve().string,value:Ve().any,className:Ve().string,isCircle:Ve().bool}),(0,ct.A)(Xt,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var Ys=a(67234),qt=a(89099),Vn=a(44622);const us=j.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1qgvr8z-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:180px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_L1,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,t=>t.theme.color_text_disabled01,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_L2,t=>t.theme.color_text_L2,t=>t.theme.color_bg_card,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1);class Yn extends r.PureComponent{constructor(o){super(o),(0,ct.A)(this,"handleCheck",p=>{const{onUpdateScreenVisibleList:S,screenVisibleList:C}=this.props,I=new Set(C),O=(0,Vn.YU)(p),F=I.has(p.cid);O.forEach(V=>{let{cid:Q}=V;F?I.delete(Q):I.add(Q)});const A=[];for(const V of I){const Q=this.screenDataMap[V];Q&&!(0,Vn.Mo)(Q)&&A.push(Q)}S(Array.from(I))}),(0,ct.A)(this,"onSelectAll",p=>{const{onUpdateScreenVisibleList:S}=this.props;S(p?this.pageKeyList:[])});const{screenMetaList:c}=o,{treeData:l,pageAttrMap:g,pageKeyList:f}=c;this.screenDataMap=g,this.screenTreeData=l,this.pageKeyList=f,this.pageExceptFolderList=(0,G.RF)(g)}componentDidMount(){const o=(0,Kt.Yt)("currentJumpingSharingScreenMetaCid",void 0,Kt.qW.String);(0,Kt.G5)("currentJumpingSharingScreenMetaCid"),o!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+o+'"]').scrollIntoView(),300)}render(){const{theme:o,screenVisibleList:c,isDisplayScreenAll:l}=this.props,g=(c==null?void 0:c.length)===this.pageKeyList.length,f=(0,G.Mj)(l,c,this.pageExceptFolderList);return(0,i.jsxs)(us,{children:[(0,i.jsxs)("div",{className:_()("screen-config-header",{"is-disabled":l}),children:[(0,i.jsx)(Ys.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:l,isChecked:g}),(0,i.jsxs)("div",{className:"content-wrapper",children:[(0,i.jsx)("span",{className:"divider",children:"|"}),(0,i.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",f).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,i.jsx)("div",{className:_()("screen-list-content",{"is-disabled":l,dark:o==="dark"}),children:(0,i.jsx)("div",{className:"sm-list",children:(0,i.jsx)(Zs,{theme:o,isDisplayScreenAll:l,screenTreeData:this.screenTreeData,screenVisibleList:c,onCheck:this.handleCheck})})})]})}}(0,ct.A)(Yn,"propTypes",{theme:Ve().string,screenMetaList:Ve().object,screenVisibleList:Ve().array,onUpdateScreenVisibleList:Ve().func,isDisplayScreenAll:Ve().bool});const Zs=t=>{let{theme:o,isDisplayScreenAll:c,screenTreeData:l,screenVisibleList:g,onCheck:f}=t;return(0,i.jsx)(i.Fragment,{children:l.children.map(p=>(0,i.jsx)(Zn,{theme:o,treeNode:p,root:!0,depth:0,screenVisibleList:g,isDisplayScreenAll:c,onCheck:f},p.cid))})};Zs.propTypes={theme:Ve().string,isDisplayScreenAll:Ve().bool,screenTreeData:Ve().object,screenVisibleList:Ve().array,onCheck:Ve().func};class Zn extends r.PureComponent{constructor(o){super(o),(0,ct.A)(this,"handleCheck",c=>{c.stopPropagation();const{isDisplayScreenAll:l}=this.props;if(l)return;const{treeNode:g,onCheck:f}=this.props;f(g)}),(0,ct.A)(this,"handleExpand",c=>{const{isDisplayScreenAll:l}=this.props;l||(c.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:o,treeNode:c,root:l,depth:g,screenVisibleList:f,onCheck:p,theme:S}=this.props,{children:C,data:I}=c,O=C.length!==0,{expand:F}=this.state,A=f&&f.includes(c.cid);return(0,i.jsxs)("li",{className:_()("content-item"),"data-cid":c.cid,children:[(0,i.jsxs)("div",{className:_()("sm-box",{"is-display":A,"is-disabled":o}),children:[(0,i.jsx)(Xt,{isDisabled:o,className:"sm-check",isChecked:A,onChange:this.handleCheck}),(0,i.jsx)(Gn,{isDisabled:o,theme:S,root:l,depth:g,showExpander:O,data:I,expand:F,onClick:this.handleCheck,onExpand:this.handleExpand})]}),C.length>0&&F&&(0,i.jsx)("ol",{className:"sm-child",children:C.map(V=>(0,i.jsx)(Zn,{theme:S,treeNode:V,depth:g+1,screenVisibleList:f,isDisplayScreenAll:o,onCheck:p},V.cid))})]})}}(0,ct.A)(Zn,"propTypes",{theme:Ve().string,isDisplayScreenAll:Ve().bool,treeNode:Ve().object,screenVisibleList:Ve().array,depth:Ve().number,root:Ve().bool,onCheck:Ve().func});class Gn extends r.PureComponent{render(){const{depth:o,showExpander:c,data:l,expand:g,onExpand:f,onClick:p,theme:S,isDisabled:C}=this.props,I=19*(o+1);return(0,i.jsxs)("div",{className:_()("sm-item"),style:{paddingLeft:I},onClick:p,children:[c&&(0,i.jsx)("a",{className:"expander",onClick:f,children:(0,i.jsx)(ne.C,{className:_()("arrow-icon",{"is-expand":g}),name:"common/expand"})}),(0,i.jsx)(qt.k,{icon:l.icon,theme:S,disabled:C,isExpand:g}),(0,i.jsx)("span",{className:"screen-name",children:l.name})]})}}(0,ct.A)(Gn,"propTypes",{theme:Ve().string,isDisabled:Ve().bool,showExpander:Ve().bool,data:Ve().object,depth:Ve().number,expand:Ve().bool,onExpand:Ve().func,onClick:Ve().func});function Gs(t){const o=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:c,updateSharing:l}=t,[g,f]=(0,r.useState)(c.screen_visible_switch?2:1),p=(0,h.d4)(u.query.getTheme),S=(0,h.d4)(u.query.getScreenMetaList),C=O=>{l({screen_visible_list:O})},I=O=>{let{value:F}=O;l({screen_visible_switch:F==="2",screen_visible_list:[]}),f(F)};return(0,i.jsxs)(as,{children:[(0,i.jsx)("div",{className:"line-item visible-check",children:(0,i.jsx)(ut.A,{name:"access",optionList:o,value:g,onChange:I})}),S&&(0,i.jsx)(Yn,{theme:p,screenMetaList:S,screenVisibleList:c.screen_visible_list,isDisplayScreenAll:!c.screen_visible_switch,onUpdateScreenVisibleList:C})]})}var ps=a(19722);const Ks=t=>{let{handleConfirm:o,handleCancel:c}=t;const l=(0,h.d4)(u.query.getCurrentSharing),g=(0,h.d4)(u.query.getTheme),f=(0,h.d4)(u.query.getScreenMetaList),p=l.type==="default"?!1:l.screen_visible_switch&&(0,G.Mb)(f,l).selectedSize===0,S=()=>{p||o()};return(0,i.jsxs)(Mn,{className:"confirm-bar",children:[(0,i.jsx)(ye.jn,{className:_()("confirm",{dark:g==="dark"}),disabled:p,onClick:S,children:I18N.SettingPanel.confirm}),(0,i.jsx)(ye.tA,{className:"cancel",onClick:c,children:I18N.imockSharing.cancel})]})},Mn=j.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-fh6wtb-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:12px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),Js=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function hs(){const t=(0,h.d4)(u.query.getProject),o=(0,h.d4)(u.query.getSettingPageType),c=(0,h.d4)(u.query.getSubSettingPageType),l=(0,h.d4)(u.query.getCurrentSharing),g=(0,h.d4)(u.query.getAdvancedSharingList),f=(0,h.wA)(),[p,S]=(0,r.useState)(c==="basic"?0:1),[C,I]=(0,r.useState)(l.link_name),[O,F]=(0,r.useState)(!1),A=Ie=>{S(Ie)},V=(0,r.useCallback)(async()=>{f({type:u.entryKey["sharing:settingPage:advanced:confirm"]})},[f]),Q=(0,r.useCallback)(()=>{f({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),o==="edit"&&O&&f({type:"sharing:advance:click:track"})},[f,o,O]),E=(0,r.useCallback)(Ie=>{f({type:u.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Ie}}),o==="edit"&&(F(!0),V())},[f,o,V,F]),J=()=>{const Ie=me.current.value;Ie===""?(f({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),we(C)):(0,G.it)({value:Ie,currentSharing:l,sharingList:g})?(we(C),f({type:u.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(I(Ie),E({link_name:Ie}))},{isRenaming:K,setIsRenaming:H,handleKeyDown:se,handleBlur:pe,handleFocus:D,inputRef:me,handleInput:ge,inputName:xe,setInputName:we}=rs({name:l.link_name,fBlur:J}),Ne=()=>{H(!0)};return(0,i.jsxs)(Qt,{children:[o==="create"?(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,i.jsx)(ln,{title:I18N.imockSharing.sharing_setting_title,handleClick:Q}),(0,i.jsxs)("div",{className:"share-link-title",children:[(0,i.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,i.jsx)("div",{className:_()("name-input",{"is-renaming":K}),children:K?(0,i.jsx)("form",{children:(0,i.jsx)("input",{value:xe,onFocus:D,onChange:ge,ref:me,onBlur:pe,onKeyPress:se})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{onClick:Ne,children:C}),(0,i.jsx)(ps.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ne})]})})]}),(0,i.jsx)(dn,{sharingData:l,updateSharing:E}),(0,i.jsxs)("div",{className:"tabs",children:[(0,i.jsx)(ls.A,{className:"sharing-nav",activeIndex:p,onTabChange:A,children:Js().map(Ie=>{let{key:Be,name:qe,...st}=Ie;return(0,i.jsx)(ls.n,{...st,active:p===Be,className:_()({visible:qe==="visible",basic:qe==="basic"})},Be)})}),(0,i.jsx)("div",{})]}),p===0?(0,i.jsx)(ds,{isOrgProject:t.is_org_project,sharingData:l,updateSharing:E}):(0,i.jsx)(Gs,{sharingData:l,updateSharing:E}),o==="create"&&(0,i.jsx)(Ks,{handleConfirm:V,handleCancel:Q})]})}function Qs(){return(0,h.d4)(u.query.getCurrentSharing).type==="default"?(0,i.jsx)(Vs,{}):(0,i.jsx)(hs,{})}const ms=j.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-1konos2-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),$s=(0,r.memo)(function(){const o=(0,h.d4)(u.query.getSharingToast),c=(0,h.wA)();return(0,r.useEffect)(()=>{setTimeout(()=>{c({type:u.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[c]),o?(0,i.jsxs)(ms,{children:[(0,i.jsx)(ne.C,{name:"sharing/toast_waring",isColorPure:!0}),o]}):null}),gs=j.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-qtrrh-0"})(["margin-top:70px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],B.gE,t=>t.theme.color_text_L3);var Xs=a(80582);const qs=j.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-ft5f1y-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],t=>t.theme.color_sharing_qrcode_bg,t=>t.theme.color_sharing_qrcode_filter,t=>t.theme.color_share_del_confirm_border_color);function er(t){const{isQRcodePanel:o,text:c,project:l}=t,g=l.icon||null;return o?(0,i.jsxs)(qs,{className:"qrcode-and-icon",children:[(0,i.jsx)(Xs.A,{className:"qrcode",text:c,width:110,height:110}),g&&(0,i.jsx)("div",{className:"p-icon-box",children:(0,i.jsx)("img",{src:g})})]}):null}const tr=()=>{const t=(0,h.wA)(),o=(0,h.d4)(u.query.getCurrentSelectSharing),c=(0,h.d4)(u.query.getProject),l=(0,r.useMemo)(()=>(0,G.O8)(c,o),[o,c]),g=(0,r.useCallback)(()=>{t({type:u.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[t]);return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(ln,{title:I18N.imockSharing.qr_code,handleClick:g}),(0,i.jsxs)(gs,{children:[(0,i.jsx)(er,{isQRcodePanel:!0,project:c,text:l}),(0,i.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},nr=(0,r.memo)(tr),sr=()=>{var t;const o=(0,h.wA)(),c=(0,h.d4)(u.query.getHostSharingData),l=(0,h.d4)(u.query.getProject),g=l==null?void 0:l.is_org_project,{link_name:f,view_access:p}=c,S=(0,h.d4)(u.query.getUser),C=(0,h.d4)(u.query.getHostType),I=(0,h.d4)(u.query.getIsEditMode),O=C==="iframe"||I,F=(0,h.d4)(u.query.getCanEditByUser),{isURLCopied:A,handleCopyURL:V}=_n({project:l,sharing:c,user:S}),Q=O&&F,E=(0,r.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:gt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:gt.embed,tempDisabled:!1,isBorder:!0}],[]),J=(0,r.useCallback)(()=>{const H=(0,G.O8)(l,c);(0,cn.$)(H),V(),o({type:u.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:c.device_model,isDefault:!1}})},[o,c,V,l]),K=(0,r.useCallback)((H,se)=>{if(!(H!=null&&H.currentTarget))return;const pe=c,{device_model:D}=c;switch(se){case gt.QRcode:H.stopPropagation(),o({type:u.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:pe}}),o({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:D,isDefault:!1}});break;case gt.embed:o({type:u.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:pe}}),o({type:u.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:D,isDefault:!1}});break;default:break}},[o,c]);return(0,i.jsxs)(is,{children:[(0,i.jsxs)("div",{className:"default-top",children:[(0,i.jsx)("div",{className:"switch-content",children:f}),(0,i.jsxs)(bt,{className:_()("item-center","default-link",!Q&&"userNoEdit"),children:[(0,i.jsx)("div",{className:_()("left","sharingV2-click-visible",{"normal-hover":!0},!g&&"can-not-edit"),children:(0,i.jsxs)("div",{className:"view-access-select",children:[(0,i.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,i.jsx)("div",{className:"access-name",children:(t=I18N.imockSharing[B.nQ[p]])!=null?t:"missing data"}),g&&(0,i.jsx)(ne.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,i.jsxs)(on,{type:"button",className:_()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(A)),onClick:J,children:[(0,i.jsx)("span",{className:"state state-0",children:c.password&&c.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,i.jsx)("span",{className:"state state-1",children:(0,i.jsx)(ne.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,i.jsx)("div",{className:"default-bottom",children:(0,i.jsxs)("div",{className:"bottom-left",children:[(0,i.jsx)("div",{children:I18N.imockSharing.share_mode}),E.map((H,se)=>(0,i.jsx)(an,{className:_()("share-icon",H.className),name:H.name,type:H.className,toolTipName:H.toolTipName,onClick:K,tempDisabled:H.tempDisabled,isColorPure:H.isColorPure,isBorder:H.isBorder,size:24},se))]})})]})},rr=(0,r.memo)(sr),ir=()=>{const t=(0,h.d4)(u.query.getTopPageIndex),o=(0,h.d4)(u.query.getTabIndex),c=(0,h.d4)(u.query.getSharingToast),l=(0,h.d4)(u.query.getHostSharingData),g=!l||l.type==="default",f=(0,h.d4)(u.query.getProject),p=(0,h.d4)(u.query.getIsEditMode),C=(0,h.d4)(u.query.getHostType)==="iframe"||p,[I,O]=(0,r.useState)(l);return(0,r.useEffect)(()=>{const{sharing:F}=(0,q.Y5)(f);O(F)},[l,f]),(0,i.jsxs)(Un,{children:[t==="edit"&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Pn,{}),o===0?!C&&!g?(0,i.jsx)(rr,{}):I?(0,i.jsx)(os,{defaultShare:I}):(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(Fs,{})]}),t==="embed"&&(0,i.jsx)(Cn,{}),t==="setting"&&(0,i.jsx)(Qs,{}),t==="qrCode"&&(0,i.jsx)(nr,{}),c&&(0,i.jsx)($s,{})]})},fs=(0,r.memo)(ir),ys=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,Kn=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var un=a(23990);const bs=async(t,o)=>{try{let l=null;return t?l=await(0,un.DE)("/api/dashboard/v4/users/search?email="+t):o&&(l=await(0,un.DE)("/api/dashboard/v4/users/search?mobile="+o)),l}catch(l){var c;return l!=null&&(c=l.message)!=null&&c.includes("failed with 404")?{}:null}};var Jn=a(97383);const or=(0,j.Ay)(Jn.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1wqmy1b-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],t=>t.theme.color_project_access_tip_hover),ar=(0,j.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:100px;margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:102px;margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}']);let pn=function(t){return t.OrgSpace="orgspace-permission-tip",t.OrgSpaceLimiter="orgspace-limiter-permission-tip",t.RootFolder="root-folder-permission-tip",t.SubFolder="sub-folder-permission-tip",t.Project="project-permission-tip",t}({});const cr=t=>{const{tipType:o,position:c="center",className:l}=t,[g,f]=(0,r.useState)({}),p=(0,h.d4)(nt.il);(0,r.useEffect)(()=>{const C=document.querySelector(".sharingBoxV2 ");if(C){const{left:I,top:O}=C.getBoundingClientRect();f({left:Number(I)+13,top:Number(O)+29})}},[]);const S=()=>{switch(o){case pn.Project:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),!(p!=null&&p.is_disable_banned_viewer)&&(0,i.jsxs)("li",{children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,i.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case pn.SubFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,i.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case pn.RootFolder:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case pn.OrgSpace:return(0,i.jsxs)("section",{className:"multi-line",children:[(0,i.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,i.jsxs)("li",{className:"desc",children:[(0,i.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case pn.OrgSpaceLimiter:return(0,i.jsx)("section",{className:"single-line",children:(0,i.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,i.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(or,{opener:(0,i.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:c,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:_()("permission-tip",l&&l),menu:S(),menuBaseStyle:g}),(0,i.jsx)(ar,{})]})};var xs=a(5348);const lr=j.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-se9dlz-0"})(["width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Qn=(0,j.Ay)(xs.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-se9dlz-1"})(["width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),vs=(0,j.DU)([".permission-select.CheckSelectMenu{padding:8px 0;background-color:#333;border-radius:4px;box-shadow:none;&:lang(en){min-width:120px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:#fff;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:#444;color:#fff;}&:hover{color:#fff;}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:#fff;}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"]);var $n=a(74352);const dr=t=>{let o=[],c={};switch(t){case te.W.OrgSpace:o=fe,c=Ze.FU;break;case te.W.Folder:o=Le,c=Ze.lY;break;case te.W.Project:o=Fe,c=Ze.au;break;default:break}return o.map(l=>({...l,permission:(0,be.pf)(l.value,c)}))},Et=(t,o)=>{let c={};switch(t){case te.W.OrgSpace:return o;case te.W.Folder:c=We;break;case te.W.Project:c=Ue;break;default:return o}return c[o]||o},ur=t=>{switch(t){case te.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case te.W.Folder:return I18N.imockSharing.permission_no_right_folder;case te.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},pr=t=>{const{value:o,optionList:c,handleChange:l}=t,g=(0,r.useRef)(null),[f,p]=(0,r.useState)(!0),S=c.filter(I=>I.value===o),C=(0,r.useCallback)(()=>{g.current&&g.current.close()},[]);return(0,r.useEffect)(()=>(document.body.addEventListener("wheel",C),()=>{document.body.removeEventListener("wheel",C)}),[C]),(0,r.useEffect)(()=>{const I=setTimeout(()=>{p(!1)},1e3);return()=>{clearTimeout(I)}},[]),f?(0,i.jsx)(Qn,{unstyled:!0,ref:g,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:o,menuX:"right",onChange:l,optionList:S,menuClassName:"permission-select"}):(0,i.jsx)(Qn,{unstyled:!0,ref:g,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:o,menuX:"right",onChange:l,optionList:c,menuClassName:"permission-select"})},kn=(0,r.memo)(pr),hr=(t,o)=>{const{isSelf:c,userCurrentSpacePermission:l,userCurrentScopePermisson:g,memberCurrentScopePermisson:f,memberTopScopePermisson:p,memberOrgPermisson:S}=o;return t.map(I=>{let{value:O,label:F,permission:A}=I,V=!1;return l.isManager&&c||(g.isMember?(g.level<f.level||g.level<A.level||!p.isMember&&p.isViewer&&!S.isMember&&A.isMember)&&(V=!0):V=!0),Object.assign({},{value:O,label:I18N.imockSharing[F]||F},{isDisabled:V})})},ws=t=>{const{readOnlyTooltip:o,isReset:c=!1,member:l,isOnlyOneManager:g,permissionScope:f,onPermissionChange:p}=t;let{readOnly:S}=t,C=S,I=o;const O=dr(f),{permissionMap:F}=l,{memberCurrentScopePermisson:A,userCurrentScopePermisson:V,userCurrentSpacePermission:Q,currentScopeRoleName:E,isSelf:J,isDisableBannedViewer:K,userIsSpaceLimiter:H,memberIsSpaceLimiter:se}=F;let pe=hr(O,F);K&&(pe=pe.filter(ge=>!ge.value.includes("ban_viewer"))),f===te.W.OrgSpace&&!se&&(pe=pe.filter(ge=>ge.value!=="space_limiter")),(f===te.W.OrgSpace||se)&&!A.isUnknown&&!A.isInherited&&!c&&(J&&!A.isUnknown||V.isManager&&pe.push({value:ve,label:I18N.imockSharing.remove,isDisabled:!1})),!C&&H&&!c&&(S=!0,C=!0),!C&&A.isViewer&&!c&&(V.isMember?V.level<A.level?(C=!0,I="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):A.isManager&&g&&(C=!0,I=ur(f)):Q!=null&&Q.isManager&&J||(C=!0));let D=Et(f,E);c&&(D="");const me=ge=>{C||p(l,ge)};if(C||S){const ge=pe.find(xe=>xe.value===D);return(0,i.jsx)(lr,{className:_()("read-only-option",!S&&C&&"disabled"),children:(0,i.jsx)($n.A,{content:I,position:"bottom",children:(0,i.jsx)("span",{className:"label",children:ge.label})})})}return(0,i.jsx)(kn,{value:D,handleChange:me,optionList:pe})},mr=(0,r.memo)(ws),_s=(0,j.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),In=j.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-12wxg8o-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:60px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_share_member__border_color,t=>t.theme.color_AI_Text_Auto_fill_path_hover);var Ss=a(18824);function En(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Bt=a(7043),hn=Number.isNaN||function(o){return typeof o=="number"&&o!==o};function mn(t,o){return!!(t===o||hn(t)&&hn(o))}function gr(t,o){if(t.length!==o.length)return!1;for(var c=0;c<t.length;c++)if(!mn(t[c],o[c]))return!1;return!0}function Cs(t,o){o===void 0&&(o=gr);var c,l=[],g,f=!1;function p(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];return f&&c===this&&o(S,l)||(g=t.apply(this,S),f=!0,c=this,l=S),g}return p}const en=Cs;var fr=typeof performance=="object"&&typeof performance.now=="function",An=fr?function(){return performance.now()}:function(){return Date.now()};function tn(t){cancelAnimationFrame(t.id)}function Ns(t,o){var c=An();function l(){An()-c>=o?t.call(null):g.id=requestAnimationFrame(l)}var g={id:requestAnimationFrame(l)};return g}var Xn=-1;function Tn(t){if(t===void 0&&(t=!1),Xn===-1||t){var o=document.createElement("div"),c=o.style;c.width="50px",c.height="50px",c.overflow="scroll",document.body.appendChild(o),Xn=o.offsetWidth-o.clientWidth,document.body.removeChild(o)}return Xn}var nn=null;function On(t){if(t===void 0&&(t=!1),nn===null||t){var o=document.createElement("div"),c=o.style;c.width="50px",c.height="50px",c.overflow="scroll",c.direction="rtl";var l=document.createElement("div"),g=l.style;return g.width="100px",g.height="100px",o.appendChild(l),document.body.appendChild(o),o.scrollLeft>0?nn="positive-descending":(o.scrollLeft=1,o.scrollLeft===0?nn="negative":nn="positive-ascending"),document.body.removeChild(o),nn}return nn}var yr=150,js=function(o){var c=o.columnIndex,l=o.data,g=o.rowIndex;return g+":"+c},br=null,Sr=null,Cr=null;function Ms(t){var o,c=t.getColumnOffset,l=t.getColumnStartIndexForOffset,g=t.getColumnStopIndexForStartIndex,f=t.getColumnWidth,p=t.getEstimatedTotalHeight,S=t.getEstimatedTotalWidth,C=t.getOffsetForColumnAndAlignment,I=t.getOffsetForRowAndAlignment,O=t.getRowHeight,F=t.getRowOffset,A=t.getRowStartIndexForOffset,V=t.getRowStopIndexForStartIndex,Q=t.initInstanceProps,E=t.shouldResetStyleCacheOnItemSizeChange,J=t.validateProps;return o=function(K){(0,Bt.A)(H,K);function H(pe){var D;return D=K.call(this,pe)||this,D._instanceProps=Q(D.props,En(D)),D._resetIsScrollingTimeoutId=null,D._outerRef=void 0,D.state={instance:En(D),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof D.props.initialScrollLeft=="number"?D.props.initialScrollLeft:0,scrollTop:typeof D.props.initialScrollTop=="number"?D.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},D._callOnItemsRendered=void 0,D._callOnItemsRendered=en(function(me,ge,xe,we,Ne,Ie,Be,qe){return D.props.onItemsRendered({overscanColumnStartIndex:me,overscanColumnStopIndex:ge,overscanRowStartIndex:xe,overscanRowStopIndex:we,visibleColumnStartIndex:Ne,visibleColumnStopIndex:Ie,visibleRowStartIndex:Be,visibleRowStopIndex:qe})}),D._callOnScroll=void 0,D._callOnScroll=en(function(me,ge,xe,we,Ne){return D.props.onScroll({horizontalScrollDirection:xe,scrollLeft:me,scrollTop:ge,verticalScrollDirection:we,scrollUpdateWasRequested:Ne})}),D._getItemStyle=void 0,D._getItemStyle=function(me,ge){var xe=D.props,we=xe.columnWidth,Ne=xe.direction,Ie=xe.rowHeight,Be=D._getItemStyleCache(E&&we,E&&Ne,E&&Ie),qe=me+":"+ge,st;if(Be.hasOwnProperty(qe))st=Be[qe];else{var rt=c(D.props,ge,D._instanceProps),tt=Ne==="rtl";Be[qe]=st={position:"absolute",left:tt?void 0:rt,right:tt?rt:void 0,top:F(D.props,me,D._instanceProps),height:O(D.props,me,D._instanceProps),width:f(D.props,ge,D._instanceProps)}}return st},D._getItemStyleCache=void 0,D._getItemStyleCache=en(function(me,ge,xe){return{}}),D._onScroll=function(me){var ge=me.currentTarget,xe=ge.clientHeight,we=ge.clientWidth,Ne=ge.scrollLeft,Ie=ge.scrollTop,Be=ge.scrollHeight,qe=ge.scrollWidth;D.setState(function(st){if(st.scrollLeft===Ne&&st.scrollTop===Ie)return null;var rt=D.props.direction,tt=Ne;if(rt==="rtl")switch(On()){case"negative":tt=-Ne;break;case"positive-descending":tt=qe-we-Ne;break}tt=Math.max(0,Math.min(tt,qe-we));var Oe=Math.max(0,Math.min(Ie,Be-xe));return{isScrolling:!0,horizontalScrollDirection:st.scrollLeft<Ne?"forward":"backward",scrollLeft:tt,scrollTop:Oe,verticalScrollDirection:st.scrollTop<Ie?"forward":"backward",scrollUpdateWasRequested:!1}},D._resetIsScrollingDebounced)},D._outerRefSetter=function(me){var ge=D.props.outerRef;D._outerRef=me,typeof ge=="function"?ge(me):ge!=null&&typeof ge=="object"&&ge.hasOwnProperty("current")&&(ge.current=me)},D._resetIsScrollingDebounced=function(){D._resetIsScrollingTimeoutId!==null&&tn(D._resetIsScrollingTimeoutId),D._resetIsScrollingTimeoutId=Ns(D._resetIsScrolling,yr)},D._resetIsScrolling=function(){D._resetIsScrollingTimeoutId=null,D.setState({isScrolling:!1},function(){D._getItemStyleCache(-1)})},D}H.getDerivedStateFromProps=function(D,me){return xr(D,me),J(D),null};var se=H.prototype;return se.scrollTo=function(D){var me=D.scrollLeft,ge=D.scrollTop;me!==void 0&&(me=Math.max(0,me)),ge!==void 0&&(ge=Math.max(0,ge)),this.setState(function(xe){return me===void 0&&(me=xe.scrollLeft),ge===void 0&&(ge=xe.scrollTop),xe.scrollLeft===me&&xe.scrollTop===ge?null:{horizontalScrollDirection:xe.scrollLeft<me?"forward":"backward",scrollLeft:me,scrollTop:ge,scrollUpdateWasRequested:!0,verticalScrollDirection:xe.scrollTop<ge?"forward":"backward"}},this._resetIsScrollingDebounced)},se.scrollToItem=function(D){var me=D.align,ge=me===void 0?"auto":me,xe=D.columnIndex,we=D.rowIndex,Ne=this.props,Ie=Ne.columnCount,Be=Ne.height,qe=Ne.rowCount,st=Ne.width,rt=this.state,tt=rt.scrollLeft,Oe=rt.scrollTop,Re=Tn();xe!==void 0&&(xe=Math.max(0,Math.min(xe,Ie-1))),we!==void 0&&(we=Math.max(0,Math.min(we,qe-1)));var it=p(this.props,this._instanceProps),mt=S(this.props,this._instanceProps),Ut=mt>st?Re:0,Wt=it>Be?Re:0;this.scrollTo({scrollLeft:xe!==void 0?C(this.props,xe,ge,tt,this._instanceProps,Wt):tt,scrollTop:we!==void 0?I(this.props,we,ge,Oe,this._instanceProps,Ut):Oe})},se.componentDidMount=function(){var D=this.props,me=D.initialScrollLeft,ge=D.initialScrollTop;if(this._outerRef!=null){var xe=this._outerRef;typeof me=="number"&&(xe.scrollLeft=me),typeof ge=="number"&&(xe.scrollTop=ge)}this._callPropsCallbacks()},se.componentDidUpdate=function(){var D=this.props.direction,me=this.state,ge=me.scrollLeft,xe=me.scrollTop,we=me.scrollUpdateWasRequested;if(we&&this._outerRef!=null){var Ne=this._outerRef;if(D==="rtl")switch(On()){case"negative":Ne.scrollLeft=-ge;break;case"positive-ascending":Ne.scrollLeft=ge;break;default:var Ie=Ne.clientWidth,Be=Ne.scrollWidth;Ne.scrollLeft=Be-Ie-ge;break}else Ne.scrollLeft=Math.max(0,ge);Ne.scrollTop=Math.max(0,xe)}this._callPropsCallbacks()},se.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&tn(this._resetIsScrollingTimeoutId)},se.render=function(){var D=this.props,me=D.children,ge=D.className,xe=D.columnCount,we=D.direction,Ne=D.height,Ie=D.innerRef,Be=D.innerElementType,qe=D.innerTagName,st=D.itemData,rt=D.itemKey,tt=rt===void 0?js:rt,Oe=D.outerElementType,Re=D.outerTagName,it=D.rowCount,mt=D.style,Ut=D.useIsScrolling,Wt=D.width,lt=this.state.isScrolling,wt=this._getHorizontalRangeToRender(),rn=wt[0],wr=wt[1],Es=this._getVerticalRangeToRender(),bn=Es[0],Lt=Es[1],Er=[];if(xe>0&&it)for(var qn=bn;qn<=Lt;qn++)for(var es=rn;es<=wr;es++)Er.push((0,r.createElement)(me,{columnIndex:es,data:st,isScrolling:Ut?lt:void 0,key:tt({columnIndex:es,data:st,rowIndex:qn}),rowIndex:qn,style:this._getItemStyle(qn,es)}));var ri=p(this.props,this._instanceProps),ii=S(this.props,this._instanceProps);return(0,r.createElement)(Oe||Re||"div",{className:ge,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Ss.A)({position:"relative",height:Ne,width:Wt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:we},mt)},(0,r.createElement)(Be||qe||"div",{children:Er,ref:Ie,style:{height:ri,pointerEvents:lt?"none":void 0,width:ii}}))},se._callPropsCallbacks=function(){var D=this.props,me=D.columnCount,ge=D.onItemsRendered,xe=D.onScroll,we=D.rowCount;if(typeof ge=="function"&&me>0&&we>0){var Ne=this._getHorizontalRangeToRender(),Ie=Ne[0],Be=Ne[1],qe=Ne[2],st=Ne[3],rt=this._getVerticalRangeToRender(),tt=rt[0],Oe=rt[1],Re=rt[2],it=rt[3];this._callOnItemsRendered(Ie,Be,tt,Oe,qe,st,Re,it)}if(typeof xe=="function"){var mt=this.state,Ut=mt.horizontalScrollDirection,Wt=mt.scrollLeft,lt=mt.scrollTop,wt=mt.scrollUpdateWasRequested,rn=mt.verticalScrollDirection;this._callOnScroll(Wt,lt,Ut,rn,wt)}},se._getHorizontalRangeToRender=function(){var D=this.props,me=D.columnCount,ge=D.overscanColumnCount,xe=D.overscanColumnsCount,we=D.overscanCount,Ne=D.rowCount,Ie=this.state,Be=Ie.horizontalScrollDirection,qe=Ie.isScrolling,st=Ie.scrollLeft,rt=ge||xe||we||1;if(me===0||Ne===0)return[0,0,0,0];var tt=l(this.props,st,this._instanceProps),Oe=g(this.props,tt,st,this._instanceProps),Re=!qe||Be==="backward"?Math.max(1,rt):1,it=!qe||Be==="forward"?Math.max(1,rt):1;return[Math.max(0,tt-Re),Math.max(0,Math.min(me-1,Oe+it)),tt,Oe]},se._getVerticalRangeToRender=function(){var D=this.props,me=D.columnCount,ge=D.overscanCount,xe=D.overscanRowCount,we=D.overscanRowsCount,Ne=D.rowCount,Ie=this.state,Be=Ie.isScrolling,qe=Ie.verticalScrollDirection,st=Ie.scrollTop,rt=xe||we||ge||1;if(me===0||Ne===0)return[0,0,0,0];var tt=A(this.props,st,this._instanceProps),Oe=V(this.props,tt,st,this._instanceProps),Re=!Be||qe==="backward"?Math.max(1,rt):1,it=!Be||qe==="forward"?Math.max(1,rt):1;return[Math.max(0,tt-Re),Math.max(0,Math.min(Ne-1,Oe+it)),tt,Oe]},H}(r.PureComponent),o.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},o}var xr=function(o,c){var l=o.children,g=o.direction,f=o.height,p=o.innerTagName,S=o.outerTagName,C=o.overscanColumnsCount,I=o.overscanCount,O=o.overscanRowsCount,F=o.width,A=c.instance},ks=50,Ln=function(o,c){var l=o.rowCount,g=c.rowMetadataMap,f=c.estimatedRowHeight,p=c.lastMeasuredRowIndex,S=0;if(p>=l&&(p=l-1),p>=0){var C=g[p];S=C.offset+C.size}var I=l-p-1,O=I*f;return S+O},gn=function(o,c){var l=o.columnCount,g=c.columnMetadataMap,f=c.estimatedColumnWidth,p=c.lastMeasuredColumnIndex,S=0;if(p>=l&&(p=l-1),p>=0){var C=g[p];S=C.offset+C.size}var I=l-p-1,O=I*f;return S+O},Rt=function(o,c,l,g){var f,p,S;if(o==="column"?(f=g.columnMetadataMap,p=c.columnWidth,S=g.lastMeasuredColumnIndex):(f=g.rowMetadataMap,p=c.rowHeight,S=g.lastMeasuredRowIndex),l>S){var C=0;if(S>=0){var I=f[S];C=I.offset+I.size}for(var O=S+1;O<=l;O++){var F=p(O);f[O]={offset:C,size:F},C+=F}o==="column"?g.lastMeasuredColumnIndex=l:g.lastMeasuredRowIndex=l}return f[l]},s=function(o,c,l,g){var f,p;o==="column"?(f=l.columnMetadataMap,p=l.lastMeasuredColumnIndex):(f=l.rowMetadataMap,p=l.lastMeasuredRowIndex);var S=p>0?f[p].offset:0;return S>=g?e(o,c,l,p,0,g):n(o,c,l,Math.max(0,p),g)},e=function(o,c,l,g,f,p){for(;f<=g;){var S=f+Math.floor((g-f)/2),C=Rt(o,c,S,l).offset;if(C===p)return S;C<p?f=S+1:C>p&&(g=S-1)}return f>0?f-1:0},n=function(o,c,l,g,f){for(var p=o==="column"?c.columnCount:c.rowCount,S=1;g<p&&Rt(o,c,g,l).offset<f;)g+=S,S*=2;return e(o,c,l,Math.min(g,p-1),Math.floor(g/2),f)},d=function(o,c,l,g,f,p,S){var C=o==="column"?c.width:c.height,I=Rt(o,c,l,p),O=o==="column"?gn(c,p):Ln(c,p),F=Math.max(0,Math.min(O-C,I.offset)),A=Math.max(0,I.offset-C+S+I.size);switch(g==="smart"&&(f>=A-C&&f<=F+C?g="auto":g="center"),g){case"start":return F;case"end":return A;case"center":return Math.round(A+(F-A)/2);case"auto":default:return f>=A&&f<=F?f:A>F||f<A?A:F}},k=Ms({getColumnOffset:function(o,c,l){return Rt("column",o,c,l).offset},getColumnStartIndexForOffset:function(o,c,l){return s("column",o,l,c)},getColumnStopIndexForStartIndex:function(o,c,l,g){for(var f=o.columnCount,p=o.width,S=Rt("column",o,c,g),C=l+p,I=S.offset+S.size,O=c;O<f-1&&I<C;)O++,I+=Rt("column",o,O,g).size;return O},getColumnWidth:function(o,c,l){return l.columnMetadataMap[c].size},getEstimatedTotalHeight:Ln,getEstimatedTotalWidth:gn,getOffsetForColumnAndAlignment:function(o,c,l,g,f,p){return d("column",o,c,l,g,f,p)},getOffsetForRowAndAlignment:function(o,c,l,g,f,p){return d("row",o,c,l,g,f,p)},getRowOffset:function(o,c,l){return Rt("row",o,c,l).offset},getRowHeight:function(o,c,l){return l.rowMetadataMap[c].size},getRowStartIndexForOffset:function(o,c,l){return s("row",o,l,c)},getRowStopIndexForStartIndex:function(o,c,l,g){for(var f=o.rowCount,p=o.height,S=Rt("row",o,c,g),C=l+p,I=S.offset+S.size,O=c;O<f-1&&I<C;)O++,I+=Rt("row",o,O,g).size;return O},initInstanceProps:function(o,c){var l=o,g=l.estimatedColumnWidth,f=l.estimatedRowHeight,p={columnMetadataMap:{},estimatedColumnWidth:g||ks,estimatedRowHeight:f||ks,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return c.resetAfterColumnIndex=function(S,C){C===void 0&&(C=!0),c.resetAfterIndices({columnIndex:S,shouldForceUpdate:C})},c.resetAfterRowIndex=function(S,C){C===void 0&&(C=!0),c.resetAfterIndices({rowIndex:S,shouldForceUpdate:C})},c.resetAfterIndices=function(S){var C=S.columnIndex,I=S.rowIndex,O=S.shouldForceUpdate,F=O===void 0?!0:O;typeof C=="number"&&(p.lastMeasuredColumnIndex=Math.min(p.lastMeasuredColumnIndex,C-1)),typeof I=="number"&&(p.lastMeasuredRowIndex=Math.min(p.lastMeasuredRowIndex,I-1)),c._getItemStyleCache(-1),F&&c.forceUpdate()},p},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(o){var c=o.columnWidth,l=o.rowHeight}}),Z=150,_e=function(o,c){return o},Se=null,Me=null;function Ae(t){var o,c=t.getItemOffset,l=t.getEstimatedTotalSize,g=t.getItemSize,f=t.getOffsetForIndexAndAlignment,p=t.getStartIndexForOffset,S=t.getStopIndexForStartIndex,C=t.initInstanceProps,I=t.shouldResetStyleCacheOnItemSizeChange,O=t.validateProps;return o=function(F){(0,Bt.A)(A,F);function A(Q){var E;return E=F.call(this,Q)||this,E._instanceProps=C(E.props,En(E)),E._outerRef=void 0,E._resetIsScrollingTimeoutId=null,E.state={instance:En(E),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof E.props.initialScrollOffset=="number"?E.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},E._callOnItemsRendered=void 0,E._callOnItemsRendered=en(function(J,K,H,se){return E.props.onItemsRendered({overscanStartIndex:J,overscanStopIndex:K,visibleStartIndex:H,visibleStopIndex:se})}),E._callOnScroll=void 0,E._callOnScroll=en(function(J,K,H){return E.props.onScroll({scrollDirection:J,scrollOffset:K,scrollUpdateWasRequested:H})}),E._getItemStyle=void 0,E._getItemStyle=function(J){var K=E.props,H=K.direction,se=K.itemSize,pe=K.layout,D=E._getItemStyleCache(I&&se,I&&pe,I&&H),me;if(D.hasOwnProperty(J))me=D[J];else{var ge=c(E.props,J,E._instanceProps),xe=g(E.props,J,E._instanceProps),we=H==="horizontal"||pe==="horizontal",Ne=H==="rtl",Ie=we?ge:0;D[J]=me={position:"absolute",left:Ne?void 0:Ie,right:Ne?Ie:void 0,top:we?0:ge,height:we?"100%":xe,width:we?xe:"100%"}}return me},E._getItemStyleCache=void 0,E._getItemStyleCache=en(function(J,K,H){return{}}),E._onScrollHorizontal=function(J){var K=J.currentTarget,H=K.clientWidth,se=K.scrollLeft,pe=K.scrollWidth;E.setState(function(D){if(D.scrollOffset===se)return null;var me=E.props.direction,ge=se;if(me==="rtl")switch(On()){case"negative":ge=-se;break;case"positive-descending":ge=pe-H-se;break}return ge=Math.max(0,Math.min(ge,pe-H)),{isScrolling:!0,scrollDirection:D.scrollOffset<ge?"forward":"backward",scrollOffset:ge,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._onScrollVertical=function(J){var K=J.currentTarget,H=K.clientHeight,se=K.scrollHeight,pe=K.scrollTop;E.setState(function(D){if(D.scrollOffset===pe)return null;var me=Math.max(0,Math.min(pe,se-H));return{isScrolling:!0,scrollDirection:D.scrollOffset<me?"forward":"backward",scrollOffset:me,scrollUpdateWasRequested:!1}},E._resetIsScrollingDebounced)},E._outerRefSetter=function(J){var K=E.props.outerRef;E._outerRef=J,typeof K=="function"?K(J):K!=null&&typeof K=="object"&&K.hasOwnProperty("current")&&(K.current=J)},E._resetIsScrollingDebounced=function(){E._resetIsScrollingTimeoutId!==null&&tn(E._resetIsScrollingTimeoutId),E._resetIsScrollingTimeoutId=Ns(E._resetIsScrolling,Z)},E._resetIsScrolling=function(){E._resetIsScrollingTimeoutId=null,E.setState({isScrolling:!1},function(){E._getItemStyleCache(-1,null)})},E}A.getDerivedStateFromProps=function(E,J){return je(E,J),O(E),null};var V=A.prototype;return V.scrollTo=function(E){E=Math.max(0,E),this.setState(function(J){return J.scrollOffset===E?null:{scrollDirection:J.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},V.scrollToItem=function(E,J){J===void 0&&(J="auto");var K=this.props,H=K.itemCount,se=K.layout,pe=this.state.scrollOffset;E=Math.max(0,Math.min(E,H-1));var D=0;if(this._outerRef){var me=this._outerRef;se==="vertical"?D=me.scrollWidth>me.clientWidth?Tn():0:D=me.scrollHeight>me.clientHeight?Tn():0}this.scrollTo(f(this.props,E,J,pe,this._instanceProps,D))},V.componentDidMount=function(){var E=this.props,J=E.direction,K=E.initialScrollOffset,H=E.layout;if(typeof K=="number"&&this._outerRef!=null){var se=this._outerRef;J==="horizontal"||H==="horizontal"?se.scrollLeft=K:se.scrollTop=K}this._callPropsCallbacks()},V.componentDidUpdate=function(){var E=this.props,J=E.direction,K=E.layout,H=this.state,se=H.scrollOffset,pe=H.scrollUpdateWasRequested;if(pe&&this._outerRef!=null){var D=this._outerRef;if(J==="horizontal"||K==="horizontal")if(J==="rtl")switch(On()){case"negative":D.scrollLeft=-se;break;case"positive-ascending":D.scrollLeft=se;break;default:var me=D.clientWidth,ge=D.scrollWidth;D.scrollLeft=ge-me-se;break}else D.scrollLeft=se;else D.scrollTop=se}this._callPropsCallbacks()},V.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&tn(this._resetIsScrollingTimeoutId)},V.render=function(){var E=this.props,J=E.children,K=E.className,H=E.direction,se=E.height,pe=E.innerRef,D=E.innerElementType,me=E.innerTagName,ge=E.itemCount,xe=E.itemData,we=E.itemKey,Ne=we===void 0?_e:we,Ie=E.layout,Be=E.outerElementType,qe=E.outerTagName,st=E.style,rt=E.useIsScrolling,tt=E.width,Oe=this.state.isScrolling,Re=H==="horizontal"||Ie==="horizontal",it=Re?this._onScrollHorizontal:this._onScrollVertical,mt=this._getRangeToRender(),Ut=mt[0],Wt=mt[1],lt=[];if(ge>0)for(var wt=Ut;wt<=Wt;wt++)lt.push((0,r.createElement)(J,{data:xe,key:Ne(wt,xe),index:wt,isScrolling:rt?Oe:void 0,style:this._getItemStyle(wt)}));var rn=l(this.props,this._instanceProps);return(0,r.createElement)(Be||qe||"div",{className:K,onScroll:it,ref:this._outerRefSetter,style:(0,Ss.A)({position:"relative",height:se,width:tt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:H},st)},(0,r.createElement)(D||me||"div",{children:lt,ref:pe,style:{height:Re?"100%":rn,pointerEvents:Oe?"none":void 0,width:Re?rn:"100%"}}))},V._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var E=this.props.itemCount;if(E>0){var J=this._getRangeToRender(),K=J[0],H=J[1],se=J[2],pe=J[3];this._callOnItemsRendered(K,H,se,pe)}}if(typeof this.props.onScroll=="function"){var D=this.state,me=D.scrollDirection,ge=D.scrollOffset,xe=D.scrollUpdateWasRequested;this._callOnScroll(me,ge,xe)}},V._getRangeToRender=function(){var E=this.props,J=E.itemCount,K=E.overscanCount,H=this.state,se=H.isScrolling,pe=H.scrollDirection,D=H.scrollOffset;if(J===0)return[0,0,0,0];var me=p(this.props,D,this._instanceProps),ge=S(this.props,me,D,this._instanceProps),xe=!se||pe==="backward"?Math.max(1,K):1,we=!se||pe==="forward"?Math.max(1,K):1;return[Math.max(0,me-xe),Math.max(0,Math.min(J-1,ge+we)),me,ge]},A}(r.PureComponent),o.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},o}var je=function(o,c){var l=o.children,g=o.direction,f=o.height,p=o.layout,S=o.innerTagName,C=o.outerTagName,I=o.width,O=c.instance;if(0)var F},ze=50,ae=function(o,c,l){var g=o,f=g.itemSize,p=l.itemMetadataMap,S=l.lastMeasuredIndex;if(c>S){var C=0;if(S>=0){var I=p[S];C=I.offset+I.size}for(var O=S+1;O<=c;O++){var F=f(O);p[O]={offset:C,size:F},C+=F}l.lastMeasuredIndex=c}return p[c]},ue=function(o,c,l){var g=c.itemMetadataMap,f=c.lastMeasuredIndex,p=f>0?g[f].offset:0;return p>=l?ke(o,c,f,0,l):De(o,c,Math.max(0,f),l)},ke=function(o,c,l,g,f){for(;g<=l;){var p=g+Math.floor((l-g)/2),S=ae(o,p,c).offset;if(S===f)return p;S<f?g=p+1:S>f&&(l=p-1)}return g>0?g-1:0},De=function(o,c,l,g){for(var f=o.itemCount,p=1;l<f&&ae(o,l,c).offset<g;)l+=p,p*=2;return ke(o,c,Math.min(l,f-1),Math.floor(l/2),g)},Qe=function(o,c){var l=o.itemCount,g=c.itemMetadataMap,f=c.estimatedItemSize,p=c.lastMeasuredIndex,S=0;if(p>=l&&(p=l-1),p>=0){var C=g[p];S=C.offset+C.size}var I=l-p-1,O=I*f;return S+O},pt=Ae({getItemOffset:function(o,c,l){return ae(o,c,l).offset},getItemSize:function(o,c,l){return l.itemMetadataMap[c].size},getEstimatedTotalSize:Qe,getOffsetForIndexAndAlignment:function(o,c,l,g,f,p){var S=o.direction,C=o.height,I=o.layout,O=o.width,F=S==="horizontal"||I==="horizontal",A=F?O:C,V=ae(o,c,f),Q=Qe(o,f),E=Math.max(0,Math.min(Q-A,V.offset)),J=Math.max(0,V.offset-A+V.size+p);switch(l==="smart"&&(g>=J-A&&g<=E+A?l="auto":l="center"),l){case"start":return E;case"end":return J;case"center":return Math.round(J+(E-J)/2);case"auto":default:return g>=J&&g<=E?g:g<J?J:E}},getStartIndexForOffset:function(o,c,l){return ue(o,l,c)},getStopIndexForStartIndex:function(o,c,l,g){for(var f=o.direction,p=o.height,S=o.itemCount,C=o.layout,I=o.width,O=f==="horizontal"||C==="horizontal",F=O?I:p,A=ae(o,c,g),V=l+F,Q=A.offset+A.size,E=c;E<S-1&&Q<V;)E++,Q+=ae(o,E,g).size;return E},initInstanceProps:function(o,c){var l=o,g=l.estimatedItemSize,f={itemMetadataMap:{},estimatedItemSize:g||ze,lastMeasuredIndex:-1};return c.resetAfterIndex=function(p,S){S===void 0&&(S=!0),f.lastMeasuredIndex=Math.min(f.lastMeasuredIndex,p-1),c._getItemStyleCache(-1),S&&c.forceUpdate()},f},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(o){var c=o.itemSize}}),at=Ms({getColumnOffset:function(o,c){var l=o.columnWidth;return c*l},getColumnWidth:function(o,c){var l=o.columnWidth;return l},getRowOffset:function(o,c){var l=o.rowHeight;return c*l},getRowHeight:function(o,c){var l=o.rowHeight;return l},getEstimatedTotalHeight:function(o){var c=o.rowCount,l=o.rowHeight;return l*c},getEstimatedTotalWidth:function(o){var c=o.columnCount,l=o.columnWidth;return l*c},getOffsetForColumnAndAlignment:function(o,c,l,g,f,p){var S=o.columnCount,C=o.columnWidth,I=o.width,O=Math.max(0,S*C-I),F=Math.min(O,c*C),A=Math.max(0,c*C-I+p+C);switch(l==="smart"&&(g>=A-I&&g<=F+I?l="auto":l="center"),l){case"start":return F;case"end":return A;case"center":var V=Math.round(A+(F-A)/2);return V<Math.ceil(I/2)?0:V>O+Math.floor(I/2)?O:V;case"auto":default:return g>=A&&g<=F?g:A>F||g<A?A:F}},getOffsetForRowAndAlignment:function(o,c,l,g,f,p){var S=o.rowHeight,C=o.height,I=o.rowCount,O=Math.max(0,I*S-C),F=Math.min(O,c*S),A=Math.max(0,c*S-C+p+S);switch(l==="smart"&&(g>=A-C&&g<=F+C?l="auto":l="center"),l){case"start":return F;case"end":return A;case"center":var V=Math.round(A+(F-A)/2);return V<Math.ceil(C/2)?0:V>O+Math.floor(C/2)?O:V;case"auto":default:return g>=A&&g<=F?g:A>F||g<A?A:F}},getColumnStartIndexForOffset:function(o,c){var l=o.columnWidth,g=o.columnCount;return Math.max(0,Math.min(g-1,Math.floor(c/l)))},getColumnStopIndexForStartIndex:function(o,c,l){var g=o.columnWidth,f=o.columnCount,p=o.width,S=c*g,C=Math.ceil((p+l-S)/g);return Math.max(0,Math.min(f-1,c+C-1))},getRowStartIndexForOffset:function(o,c){var l=o.rowHeight,g=o.rowCount;return Math.max(0,Math.min(g-1,Math.floor(c/l)))},getRowStopIndexForStartIndex:function(o,c,l){var g=o.rowHeight,f=o.rowCount,p=o.height,S=c*g,C=Math.ceil((p+l-S)/g);return Math.max(0,Math.min(f-1,c+C-1))},initInstanceProps:function(o){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(o){var c=o.columnWidth,l=o.rowHeight}}),vt=Ae({getItemOffset:function(o,c){var l=o.itemSize;return c*l},getItemSize:function(o,c){var l=o.itemSize;return l},getEstimatedTotalSize:function(o){var c=o.itemCount,l=o.itemSize;return l*c},getOffsetForIndexAndAlignment:function(o,c,l,g,f,p){var S=o.direction,C=o.height,I=o.itemCount,O=o.itemSize,F=o.layout,A=o.width,V=S==="horizontal"||F==="horizontal",Q=V?A:C,E=Math.max(0,I*O-Q),J=Math.min(E,c*O),K=Math.max(0,c*O-Q+O+p);switch(l==="smart"&&(g>=K-Q&&g<=J+Q?l="auto":l="center"),l){case"start":return J;case"end":return K;case"center":{var H=Math.round(K+(J-K)/2);return H<Math.ceil(Q/2)?0:H>E+Math.floor(Q/2)?E:H}case"auto":default:return g>=K&&g<=J?g:g<K?K:J}},getStartIndexForOffset:function(o,c){var l=o.itemCount,g=o.itemSize;return Math.max(0,Math.min(l-1,Math.floor(c/g)))},getStopIndexForStartIndex:function(o,c,l){var g=o.direction,f=o.height,p=o.itemCount,S=o.itemSize,C=o.layout,I=o.width,O=g==="horizontal"||C==="horizontal",F=c*S,A=O?I:f,V=Math.ceil((A+l-F)/S);return Math.max(0,Math.min(p-1,c+V-1))},initInstanceProps:function(o){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(o){var c=o.itemSize}});function ft(t,o){for(var c in t)if(!(c in o))return!0;for(var l in o)if(t[l]!==o[l])return!0;return!1}var jt=null,Ge=null;function Ee(t,o){var c=t.style,l=_objectWithoutPropertiesLoose(t,jt),g=o.style,f=_objectWithoutPropertiesLoose(o,Ge);return!ft(c,g)&&!ft(l,f)}function Ye(t,o){return!Ee(this.props,t)||ft(this.state,o)}let Pe;typeof window<"u"?Pe=window:typeof self<"u"?Pe=self:Pe=a.g;let $e=null,Xe=null;const yt=20,xt=Pe.clearTimeout,ht=Pe.setTimeout,Ce=Pe.cancelAnimationFrame||Pe.mozCancelAnimationFrame||Pe.webkitCancelAnimationFrame,Je=Pe.requestAnimationFrame||Pe.mozRequestAnimationFrame||Pe.webkitRequestAnimationFrame;Ce==null||Je==null?($e=xt,Xe=function(o){return ht(o,yt)}):($e=function(o){let[c,l]=o;Ce(c),xt(l)},Xe=function(o){const c=Je(function(){xt(l),o()}),l=ht(function(){Ce(c),o()},yt);return[c,l]});function St(t){let o,c,l,g,f,p,S;const C=typeof document<"u"&&document.attachEvent;if(!C){p=function(K){const H=K.__resizeTriggers__,se=H.firstElementChild,pe=H.lastElementChild,D=se.firstElementChild;pe.scrollLeft=pe.scrollWidth,pe.scrollTop=pe.scrollHeight,D.style.width=se.offsetWidth+1+"px",D.style.height=se.offsetHeight+1+"px",se.scrollLeft=se.scrollWidth,se.scrollTop=se.scrollHeight},f=function(K){return K.offsetWidth!==K.__resizeLast__.width||K.offsetHeight!==K.__resizeLast__.height},S=function(K){if(K.target.className&&typeof K.target.className.indexOf=="function"&&K.target.className.indexOf("contract-trigger")<0&&K.target.className.indexOf("expand-trigger")<0)return;const H=this;p(this),this.__resizeRAF__&&$e(this.__resizeRAF__),this.__resizeRAF__=Xe(function(){f(H)&&(H.__resizeLast__.width=H.offsetWidth,H.__resizeLast__.height=H.offsetHeight,H.__resizeListeners__.forEach(function(D){D.call(H,K)}))})};let A=!1,V="";l="animationstart";const Q="Webkit Moz O ms".split(" ");let E="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),J="";{const K=document.createElement("fakeelement");if(K.style.animationName!==void 0&&(A=!0),A===!1){for(let H=0;H<Q.length;H++)if(K.style[Q[H]+"AnimationName"]!==void 0){J=Q[H],V="-"+J.toLowerCase()+"-",l=E[H],A=!0;break}}}c="resizeanim",o="@"+V+"keyframes "+c+" { from { opacity: 0; } to { opacity: 0; } } ",g=V+"animation: 1ms "+c+"; "}const I=function(A){if(!A.getElementById("detectElementResize")){const V=(o||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',Q=A.head||A.getElementsByTagName("head")[0],E=A.createElement("style");E.id="detectElementResize",E.type="text/css",t!=null&&E.setAttribute("nonce",t),E.styleSheet?E.styleSheet.cssText=V:E.appendChild(A.createTextNode(V)),Q.appendChild(E)}};return{addResizeListener:function(A,V){if(C)A.attachEvent("onresize",V);else{if(!A.__resizeTriggers__){const Q=A.ownerDocument,E=Pe.getComputedStyle(A);E&&E.position==="static"&&(A.style.position="relative"),I(Q),A.__resizeLast__={},A.__resizeListeners__=[],(A.__resizeTriggers__=Q.createElement("div")).className="resize-triggers";const J=Q.createElement("div");J.className="expand-trigger",J.appendChild(Q.createElement("div"));const K=Q.createElement("div");K.className="contract-trigger",A.__resizeTriggers__.appendChild(J),A.__resizeTriggers__.appendChild(K),A.appendChild(A.__resizeTriggers__),p(A),A.addEventListener("scroll",S,!0),l&&(A.__resizeTriggers__.__animationListener__=function(se){se.animationName===c&&p(A)},A.__resizeTriggers__.addEventListener(l,A.__resizeTriggers__.__animationListener__))}A.__resizeListeners__.push(V)}},removeResizeListener:function(A,V){if(C)A.detachEvent("onresize",V);else if(A.__resizeListeners__.splice(A.__resizeListeners__.indexOf(V),1),!A.__resizeListeners__.length){A.removeEventListener("scroll",S,!0),A.__resizeTriggers__.__animationListener__&&(A.__resizeTriggers__.removeEventListener(l,A.__resizeTriggers__.__animationListener__),A.__resizeTriggers__.__animationListener__=null);try{A.__resizeTriggers__=!A.removeChild(A.__resizeTriggers__)}catch(Q){}}}}}class Mt extends r.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:o,disableWidth:c,onResize:l}=this.props;if(this._parentNode){const g=window.getComputedStyle(this._parentNode)||{},f=parseFloat(g.paddingLeft||"0"),p=parseFloat(g.paddingRight||"0"),S=parseFloat(g.paddingTop||"0"),C=parseFloat(g.paddingBottom||"0"),I=this._parentNode.getBoundingClientRect(),O=I.height-S-C,F=I.width-f-p,A=this._parentNode.offsetHeight-S-C,V=this._parentNode.offsetWidth-f-p;(!o&&(this.state.height!==A||this.state.scaledHeight!==O)||!c&&(this.state.width!==V||this.state.scaledWidth!==F))&&(this.setState({height:A,width:V,scaledHeight:O,scaledWidth:F}),typeof l=="function"&&l({height:A,scaledHeight:O,scaledWidth:F,width:V}))}},this._setRef=o=>{this._autoSizer=o}}componentDidMount(){const{nonce:o}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=St(o),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:o,defaultHeight:c,defaultWidth:l,disableHeight:g=!1,disableWidth:f=!1,nonce:p,onResize:S,style:C={},tagName:I="div",...O}=this.props,{height:F,scaledHeight:A,scaledWidth:V,width:Q}=this.state,E={overflow:"visible"},J={};let K=!1;return g||(F===0&&(K=!0),E.height=0,J.height=F,J.scaledHeight=A),f||(Q===0&&(K=!0),E.width=0,J.width=Q,J.scaledWidth=V),(0,r.createElement)(I,{ref:this._setRef,style:{...E,...C},...O},!K&&o(J))}}function fn(t){return t&&t.disableHeight!==!0&&t.disableWidth!==!0}function sn(t){return t&&t.disableHeight!==!0&&t.disableWidth===!0}function zt(t){return t&&t.disableHeight===!0&&t.disableWidth!==!0}const yn=t=>{let{className:o,itemCount:c,itemSize:l,itemData:g,renderItem:f,onItemCountChange:p}=t;const S=r.createRef();return(0,r.useEffect)(()=>{S.current&&p&&p(S)},[c,S,p]),(0,i.jsx)(Mt,{children:C=>{let{width:I,height:O=0}=C;return(0,i.jsx)(vt,{ref:S,className:o,itemCount:c,itemSize:l,itemData:g,height:O,width:I,children:f})}})},Ar=t=>{const{theme:o,caption:c,captionExtra:l,className:g,permissionScope:f,memberList:p,isOnlyOneManager:S,readOnly:C,readOnlyTooltip:I,expandable:O,defaultExpanded:F=!0,isResetPermission:A=!1,children:V,onPermissionChange:Q,onChangeHeight:E,isMemberList:J,onlyTitle:K,isUseVirtualizedRender:H=!1}=t,[se,pe]=(0,r.useState)(F),D=(0,r.useCallback)(()=>{pe(we=>!we),E&&E()},[E]),me=(0,r.useCallback)(we=>{var Ne;const{avatar:Ie,name:Be}=we;return Ie&&!Ie.includes("/images/avatar.png")?(0,i.jsx)("img",{className:"avatar",src:we.avatar,alt:we.name}):(0,i.jsx)("div",{className:"avatar avater-name",children:Be==null||(Ne=Be.slice(0,1))==null?void 0:Ne.toUpperCase()})},[]),ge=(we,Ne)=>(0,i.jsxs)("div",{className:"item",style:Ne,children:[(0,i.jsxs)("span",{className:"title",children:[me(we),(0,i.jsx)("span",{className:"name",children:we.name})]}),(0,i.jsx)("span",{className:"account",children:we.email||we.mobile}),(0,i.jsx)(mr,{readOnly:C,readOnlyTooltip:I,member:we,isReset:A,isOnlyOneManager:S,permissionScope:f,onPermissionChange:Q})]},we.user_cid),xe=we=>{let{data:Ne,index:Ie,style:Be}=we;const{memberList:qe}=Ne;return ge(qe[Ie],Be)};return(0,i.jsxs)(In,{className:_()("member-list",o,g&&g,H&&"use-virtualized-list"),"data-expanded":se,children:[O&&(0,i.jsxs)("h5",{className:"caption",children:[(0,i.jsx)("span",{children:c}),!K&&O&&!J&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:p.length>0&&"\xB7"+p.length}),(0,i.jsx)("span",{className:_()("btn-toggle-expand"),onClick:D,children:se?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),l]}),V,!!p.length&&(0,i.jsx)("div",{className:"members",children:H?(0,i.jsx)(yn,{className:"virtualized-list",itemSize:48,itemCount:p.length,itemData:{memberList:p},renderItem:xe}):p.map(we=>ge(we))})]})},vr=(0,r.memo)(Ar),Tr=j.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-xh4s6x-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],t=>t.theme.color_text_L1,t=>t.theme.color_bg_line),Or=t=>{const{value:o,onChange:c,onKeyPress:l}=t,g=p=>{c(p.currentTarget.value)},f=p=>{p.key==="Enter"&&l(p.currentTarget.value)};return(0,i.jsxs)(Tr,{className:"search-box",children:[(0,i.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),(0,i.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:o,onChange:g,onKeyPress:f})]})},Lr=(0,r.memo)(Or);var Nr=a(78018);function Pr(t){const{theme:o,caption:c,outerMembers:l,canInvite:g,isSharing:f,handleClickInviteMember:p}=t,S=()=>{const O="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(l[0].mobile||l[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+c+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,cn.$)(O)},C=!l||l.length<1;return f?(0,i.jsxs)(In,{className:"member-list sharing "+o,children:[(0,i.jsxs)("div",{className:"members invite",children:[!C&&l.map(I=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:I.avatar,alt:I.name}),(0,i.jsxs)("span",{className:"name",children:[I.name,(0,i.jsx)("span",{className:"register",children:I.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:I.email||I.mobile}),!a.g.ENV.IS_ON_PREMISES&&(g?(0,i.jsx)("span",{className:"inviteJoin",onClick:p,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(Jn.A,{opener:(0,i.jsx)(Nr.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:S,children:I18N.imockSharing.copy})]})})]}))]},I.cid)),C&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:a.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(_s,{})]}):(i.Fragment,(0,i.jsxs)(In,{className:"member-list "+o,children:[(0,i.jsxs)("div",{className:"members invite",children:[!C&&l.map(I=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsxs)("span",{className:"title",children:[(0,i.jsx)("img",{className:"avatar",src:I.avatar,alt:I.name}),(0,i.jsxs)("span",{className:"name",children:[I.name,(0,i.jsx)("span",{className:"register",children:I.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,i.jsx)("span",{className:"account",children:I.email||I.mobile}),!a.g.ENV.IS_ON_PREMISES&&(g?(0,i.jsx)("span",{className:"inviteJoin",onClick:p,children:I18N.imockSharing.invite_h}):(0,i.jsxs)("div",{className:"addOuter",children:[(0,i.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,i.jsx)(Jn.A,{opener:(0,i.jsx)(Nr.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,i.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,i.jsx)("a",{className:"copy-text",onClick:S,children:I18N.imockSharing.copy})]})})]}))]},I.cid)),C&&(0,i.jsx)("div",{className:"enterTip",children:(0,i.jsx)("span",{children:a.g.ENV.IS_ON_PREMISES?(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,i.jsx)(_s,{})]}))}const Dr=(0,r.memo)(Pr),jr=()=>!!Number(sessionStorage.getItem("inClowdz"));function Rr(t){let o="file_editarea-proto-v8-add",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return o=t?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",c=t?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:o,trackSource:c}}function zr(t,o){o===void 0&&(o=!1);let c="file_editarea-proto-v8-invite",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return o?(c="file_editarea-proto-v8-input-inviteTA",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(c=t?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",l=t?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:c,trackSource:l}}function Mr(t){if(!t)return"";let o="";return t==="org_owner"?o="\u4F01\u4E1A\u6240\u6709\u8005":t==="org_manager"?o="\u8D85\u7EA7\u7BA1\u7406\u5458":t==="org_admin"||t!=null&&t.includes("manager")?o="\u7BA1\u7406\u5458":t!=null&&t.includes("member")?o="\u534F\u4F5C\u6210\u5458":t!=null&&t.includes("viewer")&&(o="\u5BA1\u9605\u6210\u5458"),o}const kr=(t,o,c)=>{try{const{source_id:l,source:g,step:f,option:p=null}=c;if(!o||!t||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!p||(p==null?void 0:p.results)!==!1)&&l)try{(0,un.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:t,org_cid:o,source:l,step:f}})}catch(S){console.log(S.message)}if(f===0)(0,wn.kH)("invite_members_entrance",{source:g});else if(f===2&&p){const S=Mr(p==null?void 0:p.invitor_role),C=Mr(p==null?void 0:p.invitee_role);(0,wn.kH)("invite_members_via_add",{source:g,join_space_num:1,has_department:!1,invitor_role:S,invitee_role:C,results:(p==null?void 0:p.results)||!0,error_type:(p==null?void 0:p.error_type)||""})}}catch(l){console.log(l.message)}},Is=function(t,o,c,l,g){g===void 0&&(g=null);const{trackSourceId:f,trackSource:p}=Rr(c);kr(t,o,{source_id:f,source:p,step:l,option:g})},Fr=function(t,o,c,l){l===void 0&&(l=!1);const{trackSourceId:g,trackSource:f}=zr(c,l),p={trackSourceId:g,trackSource:f},S="/workspace/"+o+"/member?openInviteByLinkModal=true&invite_track="+(0,Zt._)(p);if(kr(t,o,{source_id:g,source:f,step:0}),jr()){location.pathname=S;return}(0,Ht.JW)(S)},Br=(t,o,c)=>{const[l]=(0,r.useState)(c),g=(0,r.useRef)(0);return(0,r.useEffect)(()=>{l&&g.current>=1||g.current>=2||(Is(t,o,c,0),g.current+=1)},[!!c]),l||c},Ur=j.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-5a6cx0-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],B.gE,B.gE,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1),Wr=t=>{const{theme:o,keyword:c,source:l,caption:g,permissionScope:f,assignedMembers:p,unassignedMembers:S,outerMember:C,onPermissionChange:I,hostType:O,handleClose:F}=t,A=(0,h.d4)(nt.wA),V=(0,h.d4)(nt.cb),Q=(0,h.d4)(nt.WR),{settings:E,seats_taken:J,total_seats:K,cid:H}=A,se=Br(Q,H,c);let pe=!1;(E.invite_permission&&E.invite_permission[0]==="all"||V.isManager)&&(pe=!0);const D=()=>{const Ie={mode:"org",orgCid:A.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(O==="proto")MB.global.popupHelper.chargeAsync(Ie),F&&F();else{const Be="/workspace/"+A.cid+"?payment_param="+(0,Zt._)(Ie);if(jr()){location.pathname=Be;return}(0,Ht.JW)(Be)}},me=(0,r.useMemo)(()=>S.filter(Ie=>Ie.name&&Ie.name.includes(c)||Ie.mobile&&Ie.mobile.includes(c)||Ie.email&&Ie.email.includes(c)),[c,S]),ge=()=>{pe&&Fr(Q,H,se,!0)},xe=(Ie,Be)=>{I(Ie,Be),Is(Q,H,se,1),C&&Is(Q,H,se,2,{invitor_role:V==null?void 0:V.roleName,invitee_role:Be}),Is(Q,H,se,3)},we=!me||me.length<1,Ne=C?[C]:[];return(0,i.jsxs)(Ur,{className:"overlay-adding-member sharing",children:[(0,i.jsxs)("div",{className:_()("overlay-content",!C&&we&&"no-members"),children:[!we&&(0,i.jsx)(vr,{theme:o,caption:c?null:I18N.imockSharing.unjoined,expandable:!1,className:_()(c&&"invite"),permissionScope:f,memberList:me,isResetPermission:!0,onPermissionChange:xe,isUseVirtualizedRender:!0},"filtered-unassigned-members"),we&&(0,i.jsx)(Dr,{theme:o,caption:g,outerMembers:Ne,canInvite:pe,isSharing:!0,handleClickInviteMember:ge})]}),(0,i.jsxs)("footer",{className:"overlay-footer",children:[(0,i.jsxs)("span",{className:"seats",children:[I18N.imockSharing.members_account,I18N.imockSharing.common_colon,J,"/",K]}),!a.g.ENV.IS_ON_PREMISES&&(0,i.jsx)(ye.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:D,children:I18N.imockSharing.add_team_seat})]})]})},Hr=(0,r.memo)(Wr),Vr=j.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-dbcmx0-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.invite-item{display:flex;align-items:center;padding-right:8px;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;margin-right:20px;color:",";cursor:pointer;svg{width:32px;color:",";}&:hover{background:",";}&:active{background:",";}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_hover,t=>t.theme.color_text_L1,B.gE,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,B.gE),Yr=t=>{const{theme:o,from:c,caption:l,targetCid:g,permissionScope:f,captionTipType:p,isFolder:S=!1,isAllowSetCollaborators:C,isShowInheritedCollaborators:I=!1,handleBackSharingHandel:O,onChangeMembersAccess:F,handleClose:A,hostType:V}=t,[Q,E]=(0,r.useState)(""),[J,K]=(0,r.useState)(null),[H,se]=(0,r.useState)(!1),{currentMembers:pe,inheritedMembers:D,joinedMembers:me,unjoinedMembers:ge,assignedMembers:xe,unassignedMembers:we,userCurrentScopePermisson:Ne,isOnlyOneManager:Ie}=Ct(f,g),Be=Tt(f,g,c),qe=async(lt,wt)=>{await Be(lt,wt),F&&F(lt,wt)};let st=pe,rt=xe,tt=we;const Oe=Ne.isMember,Re=C&&Oe;C&&!I&&(st=me,rt=me,tt=ge);const it=(0,r.useCallback)(()=>{se(!1),E(""),K(null)},[]),mt=(0,r.useCallback)(lt=>{E(lt),K(null),lt&&se(!0)},[]),Ut=(0,r.useCallback)(async lt=>{if(!a.g.ENV.IS_ON_PREMISES&&(E(lt),lt)){const wt=tt.find(Lt=>Lt.email===lt.trim()||Lt.mobile===lt.trim()),rn=rt.find(Lt=>Lt.email===lt.trim()||Lt.mobile===lt.trim());if(wt||rn)return;const wr=ys.test(lt.trim()),Es=Kn.test(lt.trim());let bn=null;if(wr?bn=await bs(lt.trim()):Es&&(bn=await bs(null,lt.trim())),bn){let Lt=null;bn.user?(Lt=bn.user,Lt.name=I18N.imockSharing.to_be_invited,Lt.cid="outer"):Lt={avatar:"/images/avatar.png",cid:lt,email:lt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},K(Lt)}}},[]),Wt=(0,r.useCallback)(()=>{if(E(""),K(null),H){se(!1);return}O()},[H,se,O]);return(0,i.jsxs)(Vr,{className:_()("ProjectCollaborators sharing",""+o,{isInviteOverlayOpen:!0}),children:[(0,i.jsxs)("div",{className:"nav-header",children:[(0,i.jsxs)("div",{className:"title-left",children:[(0,i.jsxs)("div",{className:"title-left-back",onClick:Wt,children:[(0,i.jsx)(ne.C,{name:"sharing/nav_back",size:32}),(0,i.jsx)("div",{className:"nav-title",children:H?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!H&&(0,i.jsx)(cr,{tipType:p,position:"left"})]}),!H&&Oe&&(0,i.jsxs)("div",{className:"invite-item",onClick:()=>{se(!0)},children:[(0,i.jsx)(ne.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]})]}),Re&&(0,i.jsx)("div",{className:_()("search"),children:(0,i.jsx)(Lr,{value:Q,onChange:mt,onKeyPress:Ut})}),(0,i.jsx)("div",{className:_()("modal-content",Re&&"modal-content-show-search"),children:H?(0,i.jsx)(Hr,{theme:o,permissionScope:f,unassignedMembers:tt,assignedMembers:rt,outerMember:J,keyword:Q,caption:l,onClose:it,onPermissionChange:qe,handleClose:A,hostType:V}):(0,i.jsxs)("div",{className:_()("collaborators",H&&"in-invite-overlay"),children:[C&&(0,i.jsx)(vr,{theme:o,caption:I18N.imockSharing.project_collaborators,permissionScope:f,memberList:st,isOnlyOneManager:Ie,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:qe},"current-collaborators"),I&&(0,i.jsx)(vr,{theme:o,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:S,readOnly:!0,permissionScope:f,memberList:D,onPermissionChange:qe,className:"inherited-members"},"inherited-collaborators")]})}),(0,i.jsx)(vs,{})]})},Zr=(0,r.memo)(Yr);function Gr(t){const{theme:o,targetCid:c,isSharing:l,handleBackSharingHandel:g,onChangeMembersAccess:f,handleClose:p,hostType:S}=t,I=(0,h.d4)(nt._B).get(c),O=_t(I==null?void 0:I.team_cid);return!I||O<0?null:(0,i.jsx)(Zr,{theme:o,targetCid:c,caption:I.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:O>=1,captionTipType:te.p.Project,permissionScope:te.W.Project,isSharing:l,handleBackSharingHandel:g,onChangeMembersAccess:f,handleClose:p,hostType:S})}const Kr=(0,r.memo)(Gr);var Jr=a(63686);const Qr=t=>{const{user:o,initData:c,currentProject:l,members:g,dispatch:f}=t,p=l==null?void 0:l.cid;return(0,r.useEffect)(()=>{(async C=>{f({type:"entry:projectAccess:initProjectData",payload:{initData:c,members:g}})})(p)},[f,c,g,p,o]),o!=null&&o.id?(0,i.jsx)(Kr,{targetCid:p,isSharing:!0,...t}):null},$r=(0,Jr.Mz)([],()=>({})),Xr=(0,h.Ng)(t=>$r(t))(Qr);var qr=a(11645),Ir=a(87537),ei=a(33520);function ti(t){const{getIframeContentHeight:o,handleChangeMembersAccess:c,handleClose:l}=t,g=(0,h.wA)(),f=(0,h.d4)(u.query.getProject),p=(0,h.d4)(u.query.getMembers),S=(0,h.d4)(u.query.getTheme),C=(0,h.d4)(u.query.getTopPageIndex),I=(0,h.d4)(u.query.getHostType),O=(0,h.d4)(u.query.getTabIndex),F=(0,h.d4)(u.query.getMainPage),A=(0,h.d4)(u.query.getLoading),V=(0,h.d4)(u.query.getInitData),Q=(0,h.d4)(u.query.getUser),E=(0,h.d4)(u.query.getIsEditMode),[J,K]=(0,r.useState)(282);(0,r.useEffect)(()=>{let pe=555;F!=="access"&&(O===0&&C==="edit"?pe=212:(C==="embed"||C==="qrCode"||O===0&&C==="setting")&&(pe=380)),K(pe),I!=="proto"&&o(pe)},[I,O,C,F,o,E]);const H=(0,r.useCallback)(()=>{g({type:u.entryKey["sharing:init"],payload:{mainPage:"share"}})},[g]);(0,r.useEffect)(()=>{g({type:u.entryKey["sharing:projectAccess:init"]})},[F,g]);const se=(0,r.useCallback)(async(pe,D)=>{c&&c(pe,D)},[c]);return A?(0,i.jsx)(Ir.A,{className:_()("sharingBoxV2",""+S,"loading"),children:(0,i.jsx)(qr.A,{})}):(0,i.jsxs)(Ir.A,{className:_()("sharingBoxV2",""+S,I==="iframe"&&"in-iframe"),style:{height:J+"px"},id:"v8-share-page",children:[F==="share"?(0,i.jsx)(fs,{}):(0,i.jsx)(Xr,{theme:S,user:Q,currentProject:f,members:p,initData:V,handleBackSharingHandel:H,onChangeMembersAccess:se,hostType:I,handleClose:l}),(0,i.jsx)(ei.r,{})]})}var ni=a(40778);const si=t=>{let{theme:o,org:c=null,user:l,project:g,flatKey:f,members:p=[],hostType:S="proto",screenMetaList:C,hostSharingData:I,handleClose:O}=t;const F=w();let A=!0;S!=="iframe"&&(A=(0,ni.OB)());try{g&&S!=="iframe"&&(0,z.E9)({project:g,isEditMode:A,shareSource:"\u9876\u90E8\u5206\u4EAB\u6309\u94AE"})}catch(E){console.error(E)}F.dispatch({type:u.entryKey["sharing:init"],payload:{project:g,theme:o,user:l,org:c,flatKey:f,hostType:S,members:p,screenMetaList:C,hostSharingData:I,isEditMode:A}});const V=(0,r.useCallback)(E=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:E}}),"*")},[]),Q=(0,r.useCallback)((E,J)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:E,value:J}}),"*")},[]);return(0,r.useEffect)(()=>{if(S==="iframe"&&V(212),!g)return;const{cid:E}=g;(async()=>{if(!g)return;const{result:{result:K},statusOk:H}=await(0,q.QC)(E);H&&F.dispatch({type:u.entryKey["sharing:init"],payload:{canEditByUser:K}})})()},[S,V,g,F]),(0,i.jsx)(h.Kq,{store:F,children:(0,i.jsx)(j.NP,{theme:L.A[o],children:(0,i.jsx)(M.$,{children:(0,i.jsx)(ti,{getIframeContentHeight:V,handleChangeMembersAccess:Q,handleClose:O})})})})}},87537:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>N});var r=a(21676);const N=r.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-l3ttef-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],v=>v.theme.color_bg_white,v=>v.theme.color_text_L2)},60482:(Te,oe,a)=>{"use strict";a.d(oe,{CV:()=>le,EL:()=>z,Mb:()=>m,Mj:()=>u,O8:()=>L,R0:()=>R,RF:()=>U,R_:()=>ee,Sy:()=>y,Uh:()=>de,a2:()=>q,eH:()=>j,it:()=>M,jc:()=>Y,kv:()=>G,vt:()=>w,zM:()=>h});var r=a(51691),N=a(88223),v=a(76713),x=a.n(v),T=a(41449),W=a(72907),b=a(77567),P=a(36521);const R=_=>_?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],le=_=>{let{accessToken:B,targetKey:re,pageKey:he,view_mode:te,selection:ne,page_begin:be,canvas_begin:ve}=_;const ie=(Le,Fe)=>Fe?"&"+Le+"="+Fe:"";let fe=""+location.origin+T.o$+"/"+B+"/sharing?view_mode="+(te||"read_only");return te==="read_only"?fe=""+fe+ie("screen",he)+ie("canvasId",re)+ie("selection",ne):te==="device"?fe=""+fe+ie("screen",be!=null?be:he)+ie("canvasId",ve!=null?ve:re)+ie("selection",ne):fe=""+fe+ie("screen",he)+ie("selection",ne),fe},de=_=>_&&_.length>0?_[0]:"",ee=(_,B,re,he)=>{const te=he?"  \u5BC6\u7801\uFF1A"+he:"";return _+" #"+(0,N.qk)(B)+"-"+(0,N.qk)(re||"\u5206\u4EAB")+te},q=_=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+T.o$+"/"+_,$=_=>{const B=new RegExp(I18N.imockSharing.share+" \\d+","g");let re=0;return _.filter(he=>{var te;return(te=he.link_name)==null?void 0:te.match(B)}).forEach(he=>{const te=he.link_name,be=te.match(B)[0].length,ve=te.indexOf(I18N.imockSharing.share);if(ve+be===te.length){const fe=parseInt(te.trim().slice(ve+I18N.imockSharing.share.length));fe>re&&(re=fe)}}),re},G=_=>{const{project:B,action:re,linkName:he,isFromScreenList:te}=_;r.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:te?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,r.IQ)(),project_name:B.name,project_cid:B.cid,share_link_action:re,share_link_name:he})},z=_=>{if(!_)return!1;const{created_at:B}=_;return x()(B).isBetween(x()().subtract(3,"days"),x()())},U=_=>Object.entries(_).filter(re=>{let[he,te]=re;return!te.hotAttr.asFolder&&he!==b.$k}).map(re=>re[0]),u=(_,B,re)=>{if(_)return re.length;let he=0;return B==null||B.forEach(te=>{re.find(be=>be===te)&&(he+=1)}),he},y=(_,B)=>{if(B.screen_visible_switch){const{selectedSize:re,pageSize:he}=m(_,B);return re+"/"+he}else return I18N.imockSharing.all},m=(_,B)=>{const re=U(_.pageAttrMap),he=u(!B.screen_visible_switch,B.screen_visible_list,re);return{pageSize:re.length,selectedSize:he}},w=_=>{const B={},re=[],he=new Map;for(const[be,ve,ie]of _)if(ie.type==="rResBunch"){be!==b.$k&&re.push(be),B[be]={hotAttr:ie},he.get(be)||he.set(be,[]);const fe=he.get(ve);Array.isArray(fe)&&he.set(ve,[...fe,be])}const te=be=>{let ve=[];for(const fe of he.get(be))ve.push(te(fe));ve=ve.sort((fe,Le)=>fe.data.zIndex-Le.data.zIndex);const{hotAttr:ie}=B[be];return{cid:be,data:{cid:be,...ie},children:ve}},ne=te("B@main");return{pageAttrMap:B,pageKeyList:re,treeData:ne}};function h(_,B,re){let he=I18N.imockSharing.share;return B&&(he=he+(ENV.IS_WONDER_SHARE?" ":"")+(B.length+1)),{project_cid:_,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...re,link_name:he,type:"advanced"}}const j=async _=>{let{updateType:B,org:re,updateFn:he}=_;const te=()=>{const be=(re==null?void 0:re.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:be}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:be}}),"*")},ne=()=>{if(B==="update")try{MB.notice({text:I18N.imockSharing.setting_valid})}catch(be){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}}),"*")}};try{await he()&&ne()}catch(be){await(0,W.m0)(be,te)}},M=_=>{let{value:B,currentSharing:re,sharingList:he}=_,te=!1;for(const ne of he)if(ne.cid!==re.cid&&B===ne.link_name){te=!0;break}return te},L=(_,B)=>{let re;if(B.type==="default"){const te=new URLSearchParams(location.search),ne=te.get("view_mode")||(0,P.Yt)(_.cid+"_default_sharing_view_mode","read_only",P.qW.String),be=te.get("selection"),ve=te.get("screen"),ie=te.get("canvasId");re=le({accessToken:B.access_token,view_mode:ne,page_begin:ve,canvas_begin:ie,selection:be})}else re=le({accessToken:B.access_token,view_mode:B.device_model});return ee(re,_==null?void 0:_.name,B.link_name||"",B.password)},Y=(_,B)=>{var re,he;return(B==null||(re=B.limitation)==null?void 0:re.max_project_share_count)||(_==null||(he=_.limitation)==null?void 0:he.max_project_share_count)}},72907:(Te,oe,a)=>{"use strict";a.d(oe,{AG:()=>v,FY:()=>N,K7:()=>W,ai:()=>x,m0:()=>T});var r=a(23990);const N=async(b,P)=>{if(b.status===403||/403/.test(b.message)){var R;(R=MB)==null||(R=R.messageBucket)==null||R.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>P?P():MB.global.onBackButtonClick())}else if(b.status===401||/401/.test(b.message))W(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>P?P():v());else{var le;const de=String(b.status||b.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(le=MB)==null||(le=le.messageBucket)==null||le.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,de)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,de),isHTML:!0})}},v=async()=>{try{await(0,r.DE)("/api/web/v3/initial"),location.reload()}catch(b){const P=location.origin+"/signin?next="+location.pathname;location.href=P}},x=b=>{b.status===404&&b.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},T=async(b,P)=>{b.status===403||/403/.test(b.message)?P():(b.status===401||/401/.test(b.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>v())},W=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},42226:(Te,oe,a)=>{"use strict";a.d(oe,{JQ:()=>ee,kZ:()=>G,zW:()=>q});var r=a(76713),N=a.n(r),v=a(35736),x=a.n(v),T=a(54466),W=a.n(T);if(a.j!=15)var b=a(29601);function P(z){return z<10?"0"+z:z}function R(z,U,u){const y=new Date(z),m=y.getFullYear(),w=P(y.getMonth()+1),h=P(y.getDate()),j=P(y.getHours()),M=P(y.getMinutes());return U==="time"?j+":"+M:U==="datetime"?""+w+u+h+" "+j+":"+M:""+m+u+w+u+h+" "+j+":"+M}const le=a.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function de(z,U){const u=new Date(z),y=u.getFullYear(),m=le[u.getMonth()],w=P(u.getDate()),h=P(u.getHours()),j=P(u.getMinutes());return U==="time"?h+":"+j:U==="datetime"?m+" "+w+" "+h+":"+j:m+" "+w+", "+y+" "+h+":"+j}function ee(z,U,u){if(U===void 0&&(U="datetime"),u===void 0&&(u="."),!z)return"";let y=z;typeof z!="number"&&(y=parseInt(z,10)),y.length===10&&(y=y*1e3);let m="";const w=(0,b.w)();return w==="zh-CN"?m=R(y,U,u):(w==="en-US"||w==="en")&&(m=de(y,U,u)),m}function q(z){const u=$()-z;let y="";if(u<=3*1e3)y=I18N.Common.just_now||"\u521A\u521A";else if(u>3*1e3&&u<60*1e3)y=Math.floor(u/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(u>=60*1e3&&u<60*60*1e3)y=Math.floor(u/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{y=ee(z,"full");const m=new Date(new Date().setHours(0,0,0,0)).getTime(),w=new Date(new Date().getFullYear(),0,1).getTime();z>w&&(y=ee(z,"datetime")),z>m&&(y=ee(z,"time"))}return y}function $(){return new Date().getTime()}const G=z=>{N().locale(z==="zh-CN"?"zh-cn":z),N().extend(x()),N().extend(W())}},79619:(Te,oe,a)=>{"use strict";a.d(oe,{Z:()=>r,n:()=>N});const r=function(v){let{flags:x}=v===void 0?MB.user:v;return!!(x&1<<21)},N=v=>{let{user:x,org:T}=v;const W=(T==null?void 0:T.otype)==="personal"?null:T;return{currentUser:x,currentOrg:W}}},15039:(Te,oe,a)=>{"use strict";a.d(oe,{E9:()=>q,Xc:()=>de,nr:()=>ee});var r=a(40778),N=a(51691),v=a(24078),x=a(59318);let T=function($){return $.acces="access",$.viewAccess="viewAccess",$.copy="copy",$.qrCode="qrCode",$.embed="Embed",$.setting="Setting",$.pwdProtection="PwdProtection",$.password="password",$.sticky="sticky",$.comment="comment",$.mobile="mobile",$}({});var W=function($){return $.Edit="\u53EF\u7F16\u8F91",$.onlyView="\u4EC5\u67E5\u770B",$}(W||{}),b=function($){return $.NoLogin="\u672A\u767B\u5F55\u7528\u6237",$.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",$.ProjectMember="\u534F\u4F5C\u6210\u5458",$.TeamMember="\u56E2\u961F\u6210\u5458",$}(b||{}),P=function($){return $.EditMode="\u7F16\u8F91\u6A21\u5F0F",$.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",$.DeviceMode="\u771F\u673A\u6A21\u5F0F",$}(P||{});const R=$=>{let{userId:G,orgPermissions:z,spacePermissions:U,projectPermissions:u}=$;if(!G)return b.NoLogin;const y=(0,x.ox)(G,z),m=(0,x.ox)(G,U),w=(0,x.ox)(G,u);if(!y)return b.LoginButNotOrgMember;if(m||w)return b.ProjectMember;if(y)return b.TeamMember},le=$=>{let{userCanEdit:G,userId:z,orgPermissions:U,spacePermissions:u,projectPermissions:y,isEditMode:m,view_mode:w,isIframe:h}=$;const j=G?W.Edit:W.onlyView,M=R({userId:z,orgPermissions:U,spacePermissions:u,projectPermissions:y}),L=h?"\u5DE5\u4F5C\u53F0":m?P.EditMode:w==="read_only"?P.ReadOnlyMode:P.DeviceMode;return{user_rights:j,user_type:M,operation_from:L}},de=$=>{let{optionType:G,userCanEdit:z,userId:U,orgPermissions:u,spacePermissions:y,projectPermissions:m,isEditMode:w,view_mode:h,share_type:j,isIframe:M,project_name:L,project_cid:Y}=$;const{user_rights:_,user_type:B,operation_from:re}=le({userCanEdit:z,userId:U,orgPermissions:u,spacePermissions:y,projectPermissions:m,isEditMode:w,view_mode:h,isIframe:M});(0,v.kH)("share_function_click_V8",{operation_type:G,user_rights:_,user_type:B,operation_from:re,project_name:L,project_cid:Y,share_type:j})},ee=$=>{(0,v.kH)("advanced_sharing_click",$)},q=$=>{let{project:G,isEditMode:z,shareSource:U}=$;const u=(0,r.gh)(),{cid:y,name:m}=G;(0,v.kH)("share_project",{project_type:"\u539F\u578B V8",source:z?"\u7F16\u8F91\u533A":u?"\u53EA\u8BFB\u6A21\u5F0F":"\u771F\u673A\u6F14\u793A",project_name:m,project_cid:y,share_source:U}),N.Y4.editProjectNew("\u5206\u4EAB\u9879\u76EE")}},47755:(Te,oe,a)=>{"use strict";a.d(oe,{_:()=>r});const r=v=>encodeURIComponent(JSON.stringify(v)),N=v=>JSON.parse(decodeURIComponent(v))},67234:(Te,oe,a)=>{"use strict";a.d(oe,{p:()=>de,A:()=>$});var r=a(74059),N=a(51044),v=a(66748),x=a.n(v),T=a(98236),W=a.n(T),b=a(7758),P=a(86634),R=a.n(P),le=a(21676);const de="checkbox-has-box",ee=le.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-mbtxfd-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],G=>G.theme.color_text_L2,G=>G.theme.color_text_disabled01,G=>G.theme.color_bg_white,G=>G.theme.color_text_L2,G=>G.theme.color_proto,G=>G.theme.color_proto,G=>G.theme.color_grid_line,G=>G.theme.color_grid_line,G=>G.theme.color_text_disabled01,de);var q=a(57464);class $ extends N.PureComponent{constructor(){super(...arguments),(0,r.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,r.A)(this,"onToggle",z=>{const{name:U,value:u,label:y,onChange:m,onToggle:w,isDisabled:h,readOnly:j,attr:M}=this.props,{isChecked:L}=this.state,Y=!h&&!j,_=Y?L==="mixed"?!0:!L:L;this.setState({isChecked:_}),w(_,U,u||y,z),m(_,M,z)})}static getDerivedStateFromProps(z,U){let{prevProps:u}=U;return W()(u,z)?null:{prevProps:z,isChecked:z.isChecked}}render(){const{className:z,label:U,name:u,isDisabled:y,readOnly:m}=this.props,{isChecked:w}=this.state,h=R()(z,{"is-checked":!!w,"is-disabled":y,readonly:m});return(0,q.jsxs)(ee,{className:h,children:[(0,q.jsx)("input",{type:"checkbox",defaultChecked:!!w,disabled:y,name:u,onChange:this.onToggle}),(0,q.jsx)("span",{className:"Check-state",children:(0,q.jsx)(b.C,{name:w==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),U&&(0,q.jsx)("span",{className:"Check-label",children:U})]})}}(0,r.A)($,"propTypes",{isChecked:x().bool||"mixed",isDisabled:x().bool,readOnly:x().bool,onChange:x().func.isRequired,onToggle:x().func.isRequired,label:x().any,name:x().string,attr:x().string,value:x().any,className:x().string}),(0,r.A)($,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},80582:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>P});var r=a(74059),N=a(51044),v=a(99348),x=a(66748),T=a.n(x),W=a(57464);class b extends N.PureComponent{constructor(le){super(le),(0,r.A)(this,"freshCanvas",()=>{const de=this.canvasWrapperRef.current,{height:ee,width:q,text:$,foreground:G,background:z}=this.props,U=(0,v.j)({height:ee,width:q,text:$,foreground:G,background:z});de.hasChildNodes()?de.replaceChild(U,de.firstChild):de.appendChild(U)}),this.canvasWrapperRef=(0,N.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:le}=this.props;return(0,W.jsx)("div",{className:le,ref:this.canvasWrapperRef})}}b.propTypes={width:T().number,height:T().number,text:T().string.isRequired,foreground:T().string,background:T().string,className:T().string},b.defaultProps={width:150,height:150};const P=b},29739:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>x});var r=a(31921),N=a(21676);const x=(0,N.Ay)(r.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-lkl0kj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],T=>T.theme.color_grid_line,T=>T.theme.color_text_disabled01)},11645:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>b});var r=a(51044),N=a(29739),v=a(21676);const x=v.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-5dzh9i-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var T=a(57464);const b=(0,r.memo)(()=>(0,T.jsx)(x,{className:"sharing-loading",children:(0,T.jsx)(N.A,{className:"loading"})}))},39208:()=>{"use strict";const Te={},oe={},a={}},33520:(Te,oe,a)=>{"use strict";a.d(oe,{l:()=>v,r:()=>N});var r=a(21676);const N=(0,r.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],x=>x.theme.color_bg_line,x=>x.theme.color_background_split_hover,x=>x.theme.color_background_split_hover),v=(0,r.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},57716:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>$});var r=a(35524),N=a(81486);const v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",T=Object.entries(N.f).reduce((G,z)=>{const U=z[0];return{...G,[U]:[N.f[U].value_light,N.f[U].value_dark||N.f[U].value_light]}},{}),W=Object.entries(r.af).reduce((G,z)=>{var U;const u=z[0];return{...G,[u]:[r.af[u].value,((U=r.qY[u])==null?void 0:U.value)||r.af[u].value]}},{}),b=G=>{let z;const[U,u,y]=G,m=y!=null?y:U;return u==="light"?z=r.af[m].value:z=r.qY[m].value,{[U]:[z,z]}},R=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((z,U)=>{const u=b(U);return{...z,...u}},{}),ee={...W,...R,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],bg_base64:[v,x],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...T},q=(G,z)=>{const U={};return Object.entries(G).forEach(u=>{let[y,m]=u;Array.isArray(m)?U[y]=m[z]:typeof m=="object"?U[y]=q(m,z):U[y]=m}),U},$={light:q(ee,0),dark:q(ee,1)}},44422:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>j});var r=a(66748),N=a.n(r),v=a(51044),x=a(21676),T=a(81486);const W=x.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-umsjem-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{margin-left:20px;color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],T.f.color_text_btn.value_light,T.f.color_btn_primary_normal.value_light,T.f.color_btn_primary_hover.value_light,T.f.color_btn_primary_clicked.value_light,T.f.color_text_L1.value_light,T.f.color_bg_white.value_light,T.f.color_bg_line.value_light,T.f.color_btn_secondary_hover.value_light,T.f.color_bg_line.value_light,T.f.color_btn_secondary_active.value_light,T.f.color_bg_line.value_light);var b=a(57464);const P="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",R="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",le="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",de="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",ee="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function q(M){const{className:L,source:Y,rotate:_,width:B,height:re,onClick:he}=M,te={msTransform:"rotate("+_+"deg)",transform:"rotate("+_+"deg)",width:B,height:re};return(0,b.jsx)("img",{className:L,src:Y,style:te,onClick:he})}q.propTypes={className:N().string,source:N().string.isRequired,width:N().number,height:N().number,rotate:N().number,onClick:N().func};const $=q,G=403,z=404,U=[500,501,502,503,504,505],u="link_expired";var y=a(34819);function m(M,L,Y){return L=w(L),L in M?Object.defineProperty(M,L,{value:Y,enumerable:!0,configurable:!0,writable:!0}):M[L]=Y,M}function w(M){var L=h(M,"string");return typeof L=="symbol"?L:String(L)}function h(M,L){if(typeof M!="object"||!M)return M;var Y=M[Symbol.toPrimitive];if(Y!==void 0){var _=Y.call(M,L||"default");if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(M)}class j extends v.PureComponent{constructor(){super(...arguments),m(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,b.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("p",{className:"proposal",children:["Current account ",(0,b.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,b.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("p",{className:"proposal",children:["Current account ",(0,b.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u9879\u76EE\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,b.jsxs)("div",{className:"proposal text-left",children:[(0,b.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,b.jsxs)("ul",{className:"text-list",children:[(0,b.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,b.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,b.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,b.jsxs)("div",{className:"proposal text-left",children:[(0,b.jsx)("p",{children:"Please try the following methods:"}),(0,b.jsxs)("ul",{className:"text-list",children:[(0,b.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,b.jsx)("li",{children:"If not, please switch to another network."})]}),(0,b.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),m(this,"clickGoHome",()=>{let L="",{locale:Y}=this.props;Y==="zh-CN"?L="/":Y==="jp"?L="https://mockitt.wondershare.jp":L="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(L):location.replace(L)}),m(this,"clickReloadPage",()=>{window.location.reload()}),m(this,"clickContactUs",()=>{let L="",{locale:Y}=this.props;if(Y==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else Y==="jp"?L="https://support.wondershare.jp":L="https://support.wondershare.com/product/mockitt.html";window.open(L)}),m(this,"getErrorConfig",()=>{const{errorType:L,primaryBtnText:Y,primaryBtnClick:_,secondaryBtnText:B,secondaryBtnClick:re,locale:he}=this.props,{typeText:te,clickGoHome:ne,clickContactUs:be,clickReloadPage:ve}=this;let ie,fe,Le="",Fe=null,Ue;const We={text:te.goHome[he],click:ne},et={text:te.reloadPage[he],click:ve},Ze={text:te.contactUs[he],click:be};switch(!0){case L===G:ie=We.text,fe=We.click,Ue=P;break;case L===z:ie=We.text,fe=We.click,Ue=R;break;case L===u:ie=We.text,fe=We.click,Ue=R;break;case U.includes(L):ie=et.text,fe=et.click,Le=Ze.text,Fe=Ze.click,Ue=le;break;default:ie=et.text,fe=et.click,Le=Ze.text,Fe=Ze.click,Ue=he==="en"?ee:de;break}return Y&&(ie=Y),_&&(fe=_),B&&(Le=B),re&&(Fe=re),{svgBg:Ue,primaryText:ie,primaryClick:fe,secondaryText:Le,secondaryClick:Fe}}),m(this,"getErrorInfo",()=>{const{errorType:L,identity:Y,locale:_,customTitle:B,customDes:re,account:he}=this.props,{typeText:te}=this;let ne,be;if(B)ne=B;else{const ve=U.includes(L)?"title_5XX":"title_"+L;ne=te[ve]?te[ve][_]:te.title_0[_]}if(re)be=re;else{let ve="des_"+L;L===G?ve=he?"des_"+L+"_"+Y:"des_"+L+"_2":U.includes(L)?ve="des_5xx":L===u&&(ve="des_link_expired"),be=te[ve]?te[ve][_]:te.des_link_expired[_]}return{title:ne,desc:be}}),m(this,"handleClickLogo",()=>{let{isLogoClickable:L,logoUrl:Y}=this.props;L&&(window.top!==window.self?window.top.location.href=Y:window.location.href=Y)})}render(){const{locale:L,isShowPrimaryBtn:Y,isShowSecondaryBtn:_,isLogoClickable:B}=this.props,{typeText:re}=this,{svgBg:he,primaryText:te,primaryClick:ne,secondaryText:be,secondaryClick:ve}=this.getErrorConfig(),{title:ie,desc:fe}=this.getErrorInfo();return(0,b.jsxs)(W,{children:[(0,b.jsx)("div",{className:"logo",children:(0,b.jsx)("span",{className:B?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,b.jsx)($,{source:he})})}),(0,b.jsxs)("div",{className:"content",children:[(0,b.jsx)("p",{className:"title",children:ie}),typeof fe=="string"?(0,b.jsx)("p",{className:"proposal",children:fe}):fe]}),(0,b.jsxs)("div",{className:"btn-list",children:[_&&ve&&be&&(0,b.jsx)("a",{className:"btn regular",onClick:ve,children:be}),Y&&ne&&te&&(0,b.jsx)("a",{className:"btn primary",onClick:ne,children:te}),be===re.contactUs[L]&&(0,b.jsx)(y.A,{})]})]})}}m(j,"propTypes",{locale:N().oneOf(["zh-CN","en","jp"]),identity:N().oneOf([0,1]),customTitle:N().string,customDes:N().string,isShowPrimaryBtn:N().bool,primaryBtnText:N().string,primaryBtnClick:N().func,isShowSecondaryBtn:N().bool,secondaryBtnText:N().string,secondaryBtnClick:N().func,errorType:N().oneOf([0,403,404,500,501,502,503,504,505,u]).isRequired,account:N().string,isLogoClickable:N().bool,logoUrl:N().string}),m(j,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},34819:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>T});var r=a(51044),N=a(66748),v=a.n(N),x=a(57464);T.propTypes={className:v().string,children:v().oneOfType([v().array,v().string]),isWonderShare:v().bool,id:v().string,onClick:v().func,disabled:v().bool,canClick:v().bool};function T(W){let{className:b,children:P,isWonderShare:R=!1,id:le="mdOnlineSupport",onClick:de,disabled:ee,canClick:q}=W;const $="qd300907440129217b43492df1157945f52a80582eaf",G=R?"https://support.wondershare.com/":"";(0,r.useEffect)(()=>ee?void 0:(!document.getElementById($)&&!R&&z(),()=>{const y=document.getElementById($);y&&y.remove()}),[]);const z=()=>{a.g?(a.g.wpaShowItemId=window.wpaShowItemId="123",a.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let u=document.createElement("script");u.id=$,u.src="https://wp.qiye.qq.com/qidian/3009074401/29217b43492df1157945f52a80582eaf",u.charset="utf-8",u.async=!0,u.defer=!0,document.body.appendChild(u)},U=u=>{if(ee){q&&de&&de();return}if(de&&de(),R){window.open(G);return}if(le!=="mdOnlineSupport"){u.preventDefault();const y=document.getElementById("mdOnlineSupport");y&&y.click()}};return(0,x.jsx)("div",{style:{cursor:"pointer"},id:le,className:b,onClick:U,children:P})}},97383:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>M,d:()=>ee});var r=a(30108),N=a.n(r),v=a(98236),x=a.n(v),T=a(51044),W=a(60185),b=a(66748),P=a.n(b),R=a(48613),le=a(22718);const de=9;function ee(Y){let{$opener:_,$menuBase:B,menuX:re="left",menuY:he="bottom",menuBaseStyle:te={},inflexible:ne=!1,shouldSetMaxHeight:be=!1}=Y;if(!_||!B)return{};const ve=B.querySelector("*"),ie={styleFor$menuBase:{},styleFor$menu:{}},fe=Ft=>Object.assign(ie.styleFor$menuBase,Ft),Le=Ft=>Object.assign(ie.styleFor$menu,Ft),{offsetHeight:Fe}=ve,Ue=te.width||_.offsetWidth,We=te.height||_.offsetHeight,et=_.getBoundingClientRect(),{top:Ze,bottom:nt,left:At}=Object.assign({top:et.top,right:et.right,bottom:et.bottom,left:et.left},te);fe({top:Ze+"px",left:At+"px",width:Ue+"px",height:We+"px"});const{innerHeight:_t}=window,kt=10,Tt=_t-10,Ct=he==="top"?1/3:2/3,It=_t*Ct,i=Ze+We/2,Yt=Ze+We;return(ne&&he==="bottom"||!ne&&It>=i)&&Yt+Fe+de<_t?(ie.isDownward=!0,be&&nt+Fe>Tt&&Le({maxHeight:Tt-nt+"px"})):(ie.isDownward=!1,be&&Ze-Fe<kt&&Le({maxHeight:Ze-kt+"px"})),Object.assign(B.style,ie.styleFor$menuBase),Object.assign(ve.style,ie.styleFor$menu),ie}var q=a(21676);const $=q.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-1bf3wez-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),G=q.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-1bf3wez-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),z=q.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-1bf3wez-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var U=a(57464);function u(Y,_,B){return _=y(_),_ in Y?Object.defineProperty(Y,_,{value:B,enumerable:!0,configurable:!0,writable:!0}):Y[_]=B,Y}function y(Y){var _=m(Y,"string");return typeof _=="symbol"?_:String(_)}function m(Y,_){if(typeof Y!="object"||!Y)return Y;var B=Y[Symbol.toPrimitive];if(B!==void 0){var re=B.call(Y,_||"default");if(typeof re!="object")return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(Y)}const w="IBOT_DROPDOWN_MENU_ROOT",h=document.getElementById(w)||Object.assign(document.createElement("div"),{id:w}),j=document.body;j.contains(h)||j.appendChild(h);class M extends T.PureComponent{constructor(){super(...arguments),u(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),u(this,"leaveTimeoutList",[]),u(this,"toggle",_=>this.setState({isOpen:N()(_)?_:!this.state.isOpen})),u(this,"open",()=>this.toggle(!0)),u(this,"close",()=>this.toggle(!1)),u(this,"onMouseEnter",()=>{const{shouldOpenOnHover:_}=this.props;_&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),u(this,"onMouseLeave",()=>{const{shouldOpenOnHover:_}=this.props;_&&clearTimeout(this.hoverTimeout)}),u(this,"onMouseMove",_=>{let{clientX:B,clientY:re}=_;const{shouldOpenOnHover:he,hoverDelay:te,hoverCloseDelay:ne}=this.props,{$opener:be}=this.state;if(!he)return;clearTimeout(this.hoverTimeout);const ve=document.elementFromPoint(B,re),ie=!be.contains(ve),fe=!ve.closest(".DropdownMenu");fe?ie&&fe&&this.leaveTimeoutList.push(setTimeout(this.close,ne!==void 0?ne:Math.max(te,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),u(this,"set$opener",_=>this.setState({$opener:_})),u(this,"onSelect",_=>{let{currentTarget:B}=_;const{menuList:re,onSelect:he,shouldCloseOnSelect:te}=this.props;if(typeof he!="function")return;const ne=B.dataset.idx,be=re[ne],ve=typeof be=="string"?be:be&&be.value;he(ne,ve),this.setState({currentMenuListItemIdx:ne}),te&&this.close()})}static getDerivedStateFromProps(_,B){let{prevProps:re,isOpen:he}=B;return x()(_,re)?null:N()(_.isOpen)?{prevProps:_,isOpen:_.isOpen}:{prevProps:_}}componentDidUpdate(_,B){let{isOpen:re}=B;const{onOpen:he,onClose:te,onToggle:ne}=this.props,{isOpen:be}=this.state;re!==be&&(be?(he(),ne(!0)):(te(),ne(!1)))}render(){const{className:_,opener:B,openerType:re,openerClassName:he,shouldCloseOnClickOutside:te}=this.props,{isOpen:ne,$opener:be,currentMenuListItemIdx:ve}=this.state,ie=this.props.isDisabled||this.props.disabled,fe=(0,le.Hn)(["Dropdown",ne&&"is-open",ie&&"is-disabled",_]),Le={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:ie,className:he};return(0,U.jsxs)($,{ref:this.set$opener,className:fe,children:[re!=="button"&&(0,T.isValidElement)(B)?(0,T.cloneElement)(B,Le):(0,U.jsx)("button",{type:"button",...Le,children:B}),(0,U.jsx)(L,{...this.props,isOpen:ne,$opener:be,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:te,currentMenuListItemIdx:ve}),ne&&(0,U.jsx)(R.A,{target:document,onMouseMove:this.onMouseMove})]})}}u(M,"positionMenu",ee),u(M,"propTypes",{isOpen:P().bool,mode:P().oneOf(["light","dark"]),opener:P().node,openerType:P().oneOf(["button","custom"]),className:P().string,portalClassName:P().string,menuBaseClassName:P().string,openerClassName:P().string,menuClassName:P().string,menuBaseStyle:P().shape({top:P().number,right:P().number,bottom:P().number,width:P().number,height:P().number}),menu:P().node,menuList:P().arrayOf(P().oneOfType([P().node,P().shape({label:P().node,value:P().any,isDisabled:P().bool})])),currentMenuListItemIdx:P().oneOfType([P().number,P().string]),shouldPreventScrollingPropagation:P().bool,shouldOpenOnHover:P().bool,shouldCloseOnClickOutside:P().bool,hoverDelay:P().oneOfType([P().number,P().string]),hoverCloseDelay:P().oneOfType([P().number,P().string]),arrowed:P().bool,inflexible:P().bool,menuX:P().oneOf(["left","center","right"]),menuY:P().oneOf(["top","bottom"]),menuBasedX:P().bool,isDisabled:P().bool,disabled:P().bool,onSelect:P().func,shouldCloseOnSelect:P().bool,onOpen:P().func.isRequired,onClose:P().func.isRequired,onToggle:P().func.isRequired}),u(M,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class L extends T.PureComponent{constructor(){super(...arguments),u(this,"state",{isDownward:this.props.position==="bottom"}),u(this,"portal",(0,le.ep)(h,(0,le.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),u(this,"menuBaseRef",(0,T.createRef)()),u(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),u(this,"onClickOutside",_=>{let{target:B}=_;const{$opener:re,onClose:he,shouldCloseOnClickOutside:te}=this.props;if(!te)return;const ne=!h.contains(B),be=B.closest("label"),ve=be&&be.contains(re),ie=!!(0,le.$)(".SelectMenu.is-open");ne&&!ve&&!ie&&he()}),u(this,"position",()=>{const{$opener:_,menuX:B,menuY:re,menuBaseStyle:he,inflexible:te}=this.props,{menuBaseRef:{current:ne}}=this,{isDownward:be}=ee({$menuBase:ne,$opener:_,menuX:B,menuY:re,menuBaseStyle:he,inflexible:te});this.setState({isDownward:be})})}componentDidMount(){const{isOpen:_,shouldPreventScrollingPropagation:B}=this.props,{menuBaseRef:{current:re}}=this;_&&setTimeout(this.position),B&&(0,le.sA)((0,le.$)(".content",re)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(_){let{isOpen:B}=_;const{isOpen:re}=this.props;!B&&re&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:_,menu:B}=this;return(0,W.createPortal)(B,_)}get menu(){const{isOpen:_,mode:B,menuBaseClassName:re,menuClassName:he,menu:te,menuList:ne,arrowed:be,menuX:ve,menuBasedX:ie,currentMenuListItemIdx:fe,onSelect:Le}=this.props,{isDownward:Fe}=this.state,Ue=(0,le.Hn)(["DropdownMenu",B,_&&"is-open",Fe?"is-downward":"is-upward","x-"+ve,be&&"arrowed "+(ie?"x-menu-based":"x-arrow-based"),he]);return(0,U.jsx)(z,{ref:this.menuBaseRef,className:(0,le.Hn)(["DropdownMenuBase",re]),children:(0,U.jsxs)(G,{className:Ue,children:[be&&(0,U.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:le.t4.mr}}),(0,U.jsx)("div",{className:"content",children:ne?(0,U.jsx)("ul",{className:"MenuList",children:ne.map((We,et)=>(0,U.jsx)("li",{role:"option","data-idx":et,className:(0,le.Hn)([We.isDisabled&&"is-disabled",et===Number(fe)&&"is-active"]),onClick:We.isDisabled?void 0:Le,children:We.label||We},et))}):te}),_&&(0,U.jsx)(R.A,{target:document,onClick:(0,R.t)(this.onClickOutside,{capture:!0})}),_&&(0,U.jsx)(R.A,{target:document,onScroll:(0,R.t)(this.position,{capture:!0})})]})})}}u(L,"propTypes",{...M.propTypes,isOpen:P().bool,$opener:P().instanceOf(Element),onSelect:P().func,onClose:P().func})},5348:(Te,oe,a)=>{"use strict";a.d(oe,{eB:()=>te,Ay:()=>he});var r=a(51044),N=a(60185),v=a(66748),x=a.n(v),T=a(48613),W=a(60260),b=a.n(W),P=a(77017),R=a.n(P),le=a(98236),de=a.n(le),ee=a(17956),q=a.n(ee),$=a(78018),G=a(25384),z=a(22718),U=a(97383),u=a(21676);const y=u.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-5ate3i-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),m=u.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-5ate3i-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),w=u.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-5ate3i-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var h=a(57464);function j(ve,ie,fe){return ie=M(ie),ie in ve?Object.defineProperty(ve,ie,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ve[ie]=fe,ve}function M(ve){var ie=L(ve,"string");return typeof ie=="symbol"?ie:String(ie)}function L(ve,ie){if(typeof ve!="object"||!ve)return ve;var fe=ve[Symbol.toPrimitive];if(fe!==void 0){var Le=fe.call(ve,ie||"default");if(typeof Le!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ie==="string"?String:Number)(ve)}const Y="IBOT_SELECT_MENU_ROOT",_={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},B=document.getElementById(Y)||Object.assign(document.createElement("div"),{id:Y}),re=document.body;re.contains(B)||re.appendChild(B);class he extends r.PureComponent{constructor(){super(...arguments),j(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),j(this,"set$select",ie=>this.setState({$select:ie})),j(this,"open",()=>this.setState({isOpen:!0})),j(this,"close",()=>this.setState({isOpen:!1})),j(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),j(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),j(this,"onChange",async ie=>{const{onChange:fe,beforeOnChange:Le}=this.props,Fe=()=>{this.close(),fe(ie)};if(!Le){this.setState({value:ie},Fe);return}if(await Le(ie)){this.setState({value:ie},Fe);return}Fe()}),j(this,"onSelect",async ie=>{let{currentTarget:fe}=ie;const{value:Le}=this.props,{canSelect:Fe}=this;await this.onChange(Fe?fe.dataset.value:Le)})}static getDerivedStateFromProps(ie,fe){let{prevProps:Le,value:Fe}=fe;return de()(Le,ie)?null:{prevProps:ie,value:ie.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:ie,disabled:fe}=this.props;return ie||fe}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:ie,readOnly:fe}=this;return!ie&&!fe}get displayText(){const{optionList:ie,placeholder:fe,optionLabelProp:Le}=this.props,{value:Fe}=this.state,We=(ie.find(et=>R()(et)&&et.slice(0).some(Ze=>(0,z.o3)(Ze,Fe)))||ie).find(et=>!R()(et)&&(0,z.o3)(et,Fe));return We?(0,z.Oi)(We,Le):fe||_[this.props.lang].select_placeholder}render(){const{size:ie,theme:fe,unstyled:Le,className:Fe,menuX:Ue}=this.props,{isOpen:We,$select:et,value:Ze}=this.state,{isDisabled:nt,readOnly:At,canSelect:_t}=this,kt=(0,z.Hn)([fe==="core"?"CoreSelect":"Select",ie,Le&&"unstyled",Fe,We&&"is-open",nt&&"is-disabled",At&&"readonly"]);return(0,h.jsxs)(y,{className:kt,role:"listbox",ref:this.set$select,children:[(0,h.jsx)("button",{type:"button",onClick:this.toggle,disabled:nt,children:(0,h.jsx)(G.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,h.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,h.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,h.jsx)(te,{isOpen:We,...this.props,value:Ze,$select:et,canSelect:_t,onChange:this.onSelect,onClose:this.close,menuX:Ue})]})}}j(he,"propTypes",{size:x().oneOf(["regular","small"]),theme:x().oneOf(["core","plain"]),menuTheme:x().oneOf(["core","plain","check"]),unstyled:x().bool,className:x().string,menuClassName:x().string,lang:x().string,placeholder:x().string,optionList:x().arrayOf(x().oneOfType([x().node,x().shape({label:x().node,value:x().any,isDisabled:x().bool}),x().arrayOf(x().oneOfType([x().node,x().shape({label:x().node,value:x().any,isDisabled:x().bool})]))])).isRequired,value:x().oneOfType([x().number,x().string]),isDisabled:x().bool,disabled:x().bool,readOnly:x().bool,onChange:x().func,menuX:x().oneOf(["left","center","right"]),optionLabelProp:x().string,arrowSvg:x().oneOfType([x().string,x().node])}),j(he,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:z.t4.rH});class te extends r.PureComponent{constructor(){super(...arguments),j(this,"state",{isDownward:!0}),j(this,"portal",(0,z.ep)(B,"SelectMenuPortal")),j(this,"menuBaseRef",(0,r.createRef)()),j(this,"position",ie=>{const{$select:fe,menuX:Le}=this.props,{menuBaseRef:{current:Fe}}=this;if(ie){const We=b()(ie,"target");if(We&&q()(We)&&We.matches(".SelectMenu"))return}const{isDownward:Ue}=(0,U.d)({$menuBase:Fe,$opener:fe,menuX:Le,shouldSetMaxHeight:!0});this.setState({isDownward:Ue})}),j(this,"onChange",ie=>{const{onChange:fe}=this.props,{isDownward:Le}=this.state,Fe=ie.currentTarget,Ue=Fe.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Fe||!Ue)return this.onlose();const{top:We,bottom:et}=Fe.getBoundingClientRect(),{top:Ze,bottom:nt}=Ue.getBoundingClientRect();return Le&&We>=Ze||!Le&&et<=nt?Fe.classList.contains("title")?void 0:fe(ie):this.onClose()}),j(this,"onClose",()=>{const{onClose:ie}=this.props;ie()}),j(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:ie}}=this,fe=(0,z.$)("li[role=option].is-active",ie);fe&&fe.scrollIntoView({block:"start"})}),j(this,"onClickOutside",ie=>{let{target:fe}=ie;const{$select:Le}=this.props,Fe=!B.contains(fe),Ue=fe.closest("label"),We=Ue&&Ue.contains(Le);Fe&&!We&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:ie}}=this;(0,z.sA)((0,z.$)(".SelectMenu",ie))}componentDidUpdate(ie){let{isOpen:fe}=ie;const{isOpen:Le}=this.props;!fe&&Le&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,N.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:ie,isDisabled:fe,menuTheme:Le,menuClassName:Fe,menuX:Ue,optionList:We,lang:et,emptyMsg:Ze,value:nt,canSelect:At}=this.props,{isDownward:_t}=this.state,kt=We.length===0,Tt=(0,z.Hn)([Le==="core"?"CoreSelectMenu":Le==="check"?"CheckSelectMenu":"SelectMenu",Fe,"x-"+Ue,ie&&"is-open",_t?"is-downward":"is-upward",fe&&"is-disabled",kt&&"is-empty",At?"can-select":"cant-select"]);return(0,h.jsx)(m,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,h.jsxs)(w,{className:Tt,onTransitionEnd:this.onTransitionEnd,children:[kt?(0,h.jsx)("li",{className:"SelectOption empty-msg",children:Ze||_[et].select_empty_msg}):We.map((Ct,It)=>R()(Ct)?(0,h.jsx)(ne,{menuTheme:Le,optionList:Ct,value:nt,onChange:this.onChange},It):(0,h.jsx)(be,{menuTheme:Le,isActive:(0,z.o3)(Ct,nt),option:Ct,isDisabled:Ct.isDisabled,onChange:this.onChange},It)),ie&&(0,h.jsx)(T.A,{target:document,onClick:(0,T.t)(this.onClickOutside,{capture:!0})}),ie&&(0,h.jsx)(T.A,{target:document,onScroll:(0,T.t)(this.position,{capture:!0})})]})})}}j(te,"propTypes",{...he.propTypes,isOpen:x().bool,canSelect:x().bool,onChange:x().func,onClose:x().func,$select:x().instanceOf(Element)}),j(te,"defaultProps",{isOpen:!1});function ne(ve){let{value:ie,optionList:[fe,...Le],menuTheme:Fe,onChange:Ue}=ve;return(0,h.jsxs)("li",{className:"SelectGroup",children:[(0,h.jsx)(G.A,{className:"title",onClick:Ue,children:fe}),(0,h.jsx)("ul",{children:Le.map((We,et)=>(0,h.jsx)(be,{menuTheme:Fe,option:We,isActive:(0,z.o3)(We,ie),isDisabled:We.isDisabled,onChange:Ue},et))})]})}ne.propTypes={optionList:x().array,onChange:x().func,menuTheme:x().string,value:x().string};function be(ve){let{option:ie,isActive:fe,isDisabled:Le,menuTheme:Fe,onChange:Ue}=ve;const We=(0,z.Hn)(["SelectOption",fe&&"is-active",Le&&"is-disabled"]),et=(0,z.Oi)(ie),Ze=(0,z.nE)(ie);return(0,h.jsxs)("li",{role:"option","data-value":Ze,className:We,onClick:Le?void 0:Ue,children:[(0,h.jsx)(G.A,{children:et}),Fe==="check"&&fe&&(0,h.jsx)($.A,{name:"check"})]})}be.propTypes={option:x().oneOfType([x().node,x().object]),isActive:x().bool,isDisabled:x().bool,menuTheme:x().string,onChange:x().func}},35736:function(Te){(function(oe,a){Te.exports=a()})(this,function(){"use strict";return function(oe,a,r){a.prototype.isBetween=function(N,v,x,T){var W=r(N),b=r(v),P=(T=T||"()")[0]==="(",R=T[1]===")";return(P?this.isAfter(W,x):!this.isBefore(W,x))&&(R?this.isBefore(b,x):!this.isAfter(b,x))||(P?this.isBefore(W,x):!this.isAfter(W,x))&&(R?this.isAfter(b,x):!this.isBefore(b,x))}}})},54466:function(Te){(function(oe,a){Te.exports=a()})(this,function(){"use strict";return function(oe,a){a.prototype.isSameOrBefore=function(r,N){return this.isSame(r,N)||this.isBefore(r,N)}}})},36410:Te=>{function oe(a,r,N,v){var x=-1,T=a==null?0:a.length;for(v&&T&&(N=a[++x]);++x<T;)N=r(N,a[x],x,a);return N}Te.exports=oe},38621:Te=>{var oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function a(r){return r.match(oe)||[]}Te.exports=a},52304:Te=>{function oe(a){return function(r){return a==null?void 0:a[r]}}Te.exports=oe},48843:(Te,oe,a)=>{var r=a(36410),N=a(76628),v=a(83453),x="['\u2019]",T=RegExp(x,"g");function W(b){return function(P){return r(v(N(P).replace(T,"")),b,"")}}Te.exports=W},32575:(Te,oe,a)=>{var r=a(52304),N={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},v=r(N);Te.exports=v},49298:Te=>{var oe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function a(r){return oe.test(r)}Te.exports=a},32921:Te=>{var oe="\\ud800-\\udfff",a="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",N="\\u20d0-\\u20ff",v=a+r+N,x="\\u2700-\\u27bf",T="a-z\\xdf-\\xf6\\xf8-\\xff",W="\\xac\\xb1\\xd7\\xf7",b="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",P="\\u2000-\\u206f",R=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",le="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",ee=W+b+P+R,q="['\u2019]",$="["+ee+"]",G="["+v+"]",z="\\d+",U="["+x+"]",u="["+T+"]",y="[^"+oe+ee+z+x+T+le+"]",m="\\ud83c[\\udffb-\\udfff]",w="(?:"+G+"|"+m+")",h="[^"+oe+"]",j="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",L="["+le+"]",Y="\\u200d",_="(?:"+u+"|"+y+")",B="(?:"+L+"|"+y+")",re="(?:"+q+"(?:d|ll|m|re|s|t|ve))?",he="(?:"+q+"(?:D|LL|M|RE|S|T|VE))?",te=w+"?",ne="["+de+"]?",be="(?:"+Y+"(?:"+[h,j,M].join("|")+")"+ne+te+")*",ve="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fe=ne+te+be,Le="(?:"+[U,j,M].join("|")+")"+fe,Fe=RegExp([L+"?"+u+"+"+re+"(?="+[$,L,"$"].join("|")+")",B+"+"+he+"(?="+[$,L+_,"$"].join("|")+")",L+"?"+_+"+"+re,L+"+"+he,ie,ve,z,Le].join("|"),"g");function Ue(We){return We.match(Fe)||[]}Te.exports=Ue},76628:(Te,oe,a)=>{var r=a(32575),N=a(67998),v=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,x="\\u0300-\\u036f",T="\\ufe20-\\ufe2f",W="\\u20d0-\\u20ff",b=x+T+W,P="["+b+"]",R=RegExp(P,"g");function le(de){return de=N(de),de&&de.replace(v,r).replace(R,"")}Te.exports=le},63924:(Te,oe,a)=>{var r=a(48843),N=r(function(v,x,T){return v+(T?"_":"")+x.toLowerCase()});Te.exports=N},83453:(Te,oe,a)=>{var r=a(38621),N=a(49298),v=a(67998),x=a(32921);function T(W,b,P){return W=v(W),b=P?void 0:b,b===void 0?N(W)?x(W):r(W):W.match(b)||[]}Te.exports=T},26114:(Te,oe,a)=>{"use strict";var r,N=a(60185);if(1)oe.H=N.createRoot,r=N.hydrateRoot;else var v},82928:(Te,oe)=>{"use strict";var a;a={value:!0};var r=Object.assign||function(W){for(var b=1;b<arguments.length;b++){var P=arguments[b];for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&(W[R]=P[R])}return W},N=function(){var b=null,P={},R=function($){var G=P[$.type];return G&&G(b,$)},le=function($){if(typeof $.getState!="function"||typeof $.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(b!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return b=$,function(G){return function(z){return R(z)===!0||G(z)}}},de=function($,G){if(typeof $!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+$);if(typeof G!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+$+", "+G);P[$]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+$),P[$]=G},ee=function($){return Object.keys($).forEach(function(G){return de(G,$[G])})};return{middleware:le,setEntry:de,setEntryMap:ee}},v=function(b){if(b===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return b},setState:function(R){return b=R},wrapEntry:function(R){return function(le,de){return R(b,le,de)}}}},x=function(b,P){var R=P.getState,le=P.setState;return function(de,ee){var q=ee.type,$=ee.payload;return q===b&&le($),R()}},T=function(b,P){var R=P.getState,le=P.setState;return function(de,ee){var q=ee.type,$=ee.payload;return q===b&&le(r({},R(),$)),R()}};oe.RZ=N,oe.J$=v,oe.Tf=x,a=T},28055:(Te,oe,a)=>{"use strict";a.d(oe,{Tw:()=>j,HY:()=>y,Zz:()=>h,y$:()=>$,Yl:()=>G});var r=a(74059);function N(M,L){var Y=Object.keys(M);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(M);L&&(_=_.filter(function(B){return Object.getOwnPropertyDescriptor(M,B).enumerable})),Y.push.apply(Y,_)}return Y}function v(M){for(var L=1;L<arguments.length;L++){var Y=arguments[L]!=null?arguments[L]:{};L%2?N(Object(Y),!0).forEach(function(_){(0,r.A)(M,_,Y[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(Y)):N(Object(Y)).forEach(function(_){Object.defineProperty(M,_,Object.getOwnPropertyDescriptor(Y,_))})}return M}function x(M){return"Minified Redux error #"+M+"; visit https://redux.js.org/Errors?code="+M+" for the full message or use the non-minified dev environment for full errors. "}var T=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),W=function(){return Math.random().toString(36).substring(7).split("").join(".")},b={INIT:"@@redux/INIT"+W(),REPLACE:"@@redux/REPLACE"+W(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+W()}};function P(M){if(typeof M!="object"||M===null)return!1;for(var L=M;Object.getPrototypeOf(L)!==null;)L=Object.getPrototypeOf(L);return Object.getPrototypeOf(M)===L}function R(M){if(M===void 0)return"undefined";if(M===null)return"null";var L=typeof M;switch(L){case"boolean":case"string":case"number":case"symbol":case"function":return L}if(Array.isArray(M))return"array";if(ee(M))return"date";if(de(M))return"error";var Y=le(M);switch(Y){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return Y}return L.slice(8,-1).toLowerCase().replace(/\s/g,"")}function le(M){return typeof M.constructor=="function"?M.constructor.name:null}function de(M){return M instanceof Error||typeof M.message=="string"&&M.constructor&&typeof M.constructor.stackTraceLimit=="number"}function ee(M){return M instanceof Date?!0:typeof M.toDateString=="function"&&typeof M.getDate=="function"&&typeof M.setDate=="function"}function q(M){var L=typeof M;return L}function $(M,L,Y){var _;if(typeof L=="function"&&typeof Y=="function"||typeof Y=="function"&&typeof arguments[3]=="function")throw new Error(x(0));if(typeof L=="function"&&typeof Y>"u"&&(Y=L,L=void 0),typeof Y<"u"){if(typeof Y!="function")throw new Error(x(1));return Y($)(M,L)}if(typeof M!="function")throw new Error(x(2));var B=M,re=L,he=[],te=he,ne=!1;function be(){te===he&&(te=he.slice())}function ve(){if(ne)throw new Error(x(3));return re}function ie(Ue){if(typeof Ue!="function")throw new Error(x(4));if(ne)throw new Error(x(5));var We=!0;return be(),te.push(Ue),function(){if(We){if(ne)throw new Error(x(6));We=!1,be();var Ze=te.indexOf(Ue);te.splice(Ze,1),he=null}}}function fe(Ue){if(!P(Ue))throw new Error(x(7));if(typeof Ue.type>"u")throw new Error(x(8));if(ne)throw new Error(x(9));try{ne=!0,re=B(re,Ue)}finally{ne=!1}for(var We=he=te,et=0;et<We.length;et++){var Ze=We[et];Ze()}return Ue}function Le(Ue){if(typeof Ue!="function")throw new Error(x(10));B=Ue,fe({type:b.REPLACE})}function Fe(){var Ue,We=ie;return Ue={subscribe:function(Ze){if(typeof Ze!="object"||Ze===null)throw new Error(x(11));function nt(){Ze.next&&Ze.next(ve())}nt();var At=We(nt);return{unsubscribe:At}}},Ue[T]=function(){return this},Ue}return fe({type:b.INIT}),_={dispatch:fe,subscribe:ie,getState:ve,replaceReducer:Le},_[T]=Fe,_}var G=a.j!=15?$:null;function z(M){typeof console<"u"&&typeof console.error=="function"&&console.error(M);try{throw new Error(M)}catch(L){}}function U(M,L,Y,_){var B=Object.keys(L),re=Y&&Y.type===b.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(B.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!P(M))return"The "+re+' has unexpected type of "'+q(M)+'". Expected argument to be an object with the following '+('keys: "'+B.join('", "')+'"');var he=Object.keys(M).filter(function(te){return!L.hasOwnProperty(te)&&!_[te]});if(he.forEach(function(te){_[te]=!0}),!(Y&&Y.type===b.REPLACE)&&he.length>0)return"Unexpected "+(he.length>1?"keys":"key")+" "+('"'+he.join('", "')+'" found in '+re+". ")+"Expected to find one of the known reducer keys instead: "+('"'+B.join('", "')+'". Unexpected keys will be ignored.')}function u(M){Object.keys(M).forEach(function(L){var Y=M[L],_=Y(void 0,{type:b.INIT});if(typeof _>"u")throw new Error(x(12));if(typeof Y(void 0,{type:b.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(x(13))})}function y(M){for(var L=Object.keys(M),Y={},_=0;_<L.length;_++){var B=L[_];typeof M[B]=="function"&&(Y[B]=M[B])}var re=Object.keys(Y),he,te;try{u(Y)}catch(ne){te=ne}return function(be,ve){if(be===void 0&&(be={}),te)throw te;if(0)var ie;for(var fe=!1,Le={},Fe=0;Fe<re.length;Fe++){var Ue=re[Fe],We=Y[Ue],et=be[Ue],Ze=We(et,ve);if(typeof Ze>"u"){var nt=ve&&ve.type;throw new Error(x(14))}Le[Ue]=Ze,fe=fe||Ze!==et}return fe=fe||re.length!==Object.keys(be).length,fe?Le:be}}function m(M,L){return function(){return L(M.apply(this,arguments))}}function w(M,L){if(typeof M=="function")return m(M,L);if(typeof M!="object"||M===null)throw new Error(x(16));var Y={};for(var _ in M){var B=M[_];typeof B=="function"&&(Y[_]=m(B,L))}return Y}function h(){for(var M=arguments.length,L=new Array(M),Y=0;Y<M;Y++)L[Y]=arguments[Y];return L.length===0?function(_){return _}:L.length===1?L[0]:L.reduce(function(_,B){return function(){return _(B.apply(void 0,arguments))}})}function j(){for(var M=arguments.length,L=new Array(M),Y=0;Y<M;Y++)L[Y]=arguments[Y];return function(_){return function(){var B=_.apply(void 0,arguments),re=function(){throw new Error(x(15))},he={getState:B.getState,dispatch:function(){return re.apply(void 0,arguments)}},te=L.map(function(ne){return ne(he)});return re=h.apply(void 0,te)(B.dispatch),v(v({},B),{},{dispatch:re})}}}},7043:(Te,oe,a)=>{"use strict";a.d(oe,{A:()=>N});function r(v,x){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,b){return W.__proto__=b,W},r(v,x)}function N(v,x){v.prototype=Object.create(x.prototype),v.prototype.constructor=v,r(v,x)}}}]);

//# sourceMappingURL=4.n9fxu-vendor-0ebe1a80c212f30e2fbd.js.map